/*! For license information please see 2.4ba8a9ec.chunk.js.LICENSE.txt */
(this["webpackJsonp@examples/demo-dev"]=this["webpackJsonp@examples/demo-dev"]||[]).push([[2],[function(t,e,n){"use strict";var r,i,o,a,s,u,l,c,h,f,p,d,v,m,g,y,_,b,x;n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return x})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return r})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return _})),n.d(e,"k",(function(){return d})),n.d(e,"l",(function(){return b})),n.d(e,"m",(function(){return y})),n.d(e,"n",(function(){return i})),n.d(e,"o",(function(){return h})),n.d(e,"p",(function(){return f})),n.d(e,"q",(function(){return l})),n.d(e,"r",(function(){return c})),n.d(e,"s",(function(){return p})),function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(r||(r={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(i||(i={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(o||(o={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(a||(a={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(s||(s={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(u||(u={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(l||(l={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(c||(c={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(h||(h={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(f||(f={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(p||(p={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(d||(d={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(v||(v={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(m||(m={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(g||(g={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(y||(y={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(_||(_={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(b||(b={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(x||(x={}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return ve})),n.d(e,"c",(function(){return be})),n.d(e,"d",(function(){return Te})),n.d(e,"e",(function(){return me})),n.d(e,"f",(function(){return j})),n.d(e,"g",(function(){return v})),n.d(e,"h",(function(){return kt})),n.d(e,"i",(function(){return X})),n.d(e,"j",(function(){return J})),n.d(e,"k",(function(){return Rt})),n.d(e,"l",(function(){return Y})),n.d(e,"m",(function(){return D})),n.d(e,"n",(function(){return he})),n.d(e,"o",(function(){return It})),n.d(e,"p",(function(){return Nt})),n.d(e,"q",(function(){return N})),n.d(e,"r",(function(){return Lt})),n.d(e,"s",(function(){return q})),n.d(e,"t",(function(){return ge})),n.d(e,"u",(function(){return fe})),n.d(e,"v",(function(){return de})),n.d(e,"w",(function(){return pe}));var r=n(10),i=n(0),o=n(4),a=n(33),s=n(24),u=n(2);r.b.PREFER_ENV=o.o.any?i.g.WEBGL:i.g.WEBGL2,r.b.STRICT_TEXTURE_CACHE=!1;var l=[];function c(t,e){if(!t)return null;var n="";if("string"===typeof t){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(var i=l.length-1;i>=0;--i){var o=l[i];if(o.test&&o.test(t,n))return new o(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var h=function(t,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},h(t,e)};function f(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var p=function(){return p=Object.assign||function(t){for(var e,n=arguments,r=1,i=arguments.length;r<i;r++)for(var o in e=n[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},p.apply(this,arguments)};var d=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new a.a("setRealSize"),this.onUpdate=new a.a("update"),this.onError=new a.a("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),v=function(t){function e(e,n){var r=this,i=n||{},o=i.width,a=i.height;if(!o||!a)throw new Error("BufferResource width or height invalid");return(r=t.call(this,o,a)||this).data=e,r}return f(e,t),e.prototype.upload=function(t,e,n){var r=t.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===i.a.UNPACK);var o=e.realWidth,a=e.realHeight;return n.width===o&&n.height===a?r.texSubImage2D(e.target,0,0,0,o,a,e.format,n.type,this.data):(n.width=o,n.height=a,r.texImage2D(e.target,0,n.internalFormat,o,a,0,e.format,n.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(d),m={scaleMode:i.p.NEAREST,format:i.h.RGBA,alphaMode:i.a.NPM},g=function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var a=t.call(this)||this,s=(n=n||{}).alphaMode,u=n.mipmap,l=n.anisotropicLevel,h=n.scaleMode,f=n.width,p=n.height,v=n.wrapMode,m=n.format,g=n.type,y=n.target,_=n.resolution,b=n.resourceOptions;return!e||e instanceof d||((e=c(e,b)).internal=!0),a.resolution=_||r.b.RESOLUTION,a.width=Math.round((f||0)*a.resolution)/a.resolution,a.height=Math.round((p||0)*a.resolution)/a.resolution,a._mipmap=void 0!==u?u:r.b.MIPMAP_TEXTURES,a.anisotropicLevel=void 0!==l?l:r.b.ANISOTROPIC_LEVEL,a._wrapMode=v||r.b.WRAP_MODE,a._scaleMode=void 0!==h?h:r.b.SCALE_MODE,a.format=m||i.h.RGBA,a.type=g||i.r.UNSIGNED_BYTE,a.target=y||i.q.TEXTURE_2D,a.alphaMode=void 0!==s?s:i.a.UNPACK,a.uid=Object(o.D)(),a.touched=0,a.isPowerOfTwo=!1,a._refreshPOT(),a._glTextures={},a.dirtyId=0,a.dirtyStyleId=0,a.cacheId=null,a.valid=f>0&&p>0,a.textureCacheIds=[],a.destroyed=!1,a.resource=null,a._batchEnabled=0,a._batchLocation=0,a.parentTextureArray=null,a.setResource(e),a}return f(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var n;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,n){return n=n||this.resolution,this.setRealSize(t*n,e*n,n)},e.prototype.setRealSize=function(t,e,n){return this.resolution=n||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=Object(o.p)(this.realWidth)&&Object(o.p)(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete o.a[this.cacheId],delete o.e[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,n,i){void 0===i&&(i=r.b.STRICT_TEXTURE_CACHE);var a="string"===typeof t,s=null;if(a)s=t;else{if(!t._pixiId){var u=n&&n.pixiIdPrefix||"pixiid";t._pixiId=u+"_"+Object(o.D)()}s=t._pixiId}var l=o.a[s];if(a&&i&&!l)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return l||((l=new e(t,n)).cacheId=s,e.addToCache(l,s)),l},e.fromBuffer=function(t,n,r,o){t=t||new Float32Array(n*r*4);var a=new v(t,{width:n,height:r}),s=t instanceof Float32Array?i.r.FLOAT:i.r.UNSIGNED_BYTE;return new e(a,Object.assign(m,o||{width:n,height:r,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),o.a[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),o.a[e]=t)},e.removeFromCache=function(t){if("string"===typeof t){var e=o.a[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete o.a[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete o.a[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(o.c),y=function(t){function e(e,n){var r=this,i=n||{},o=i.width,a=i.height;(r=t.call(this,o,a)||this).items=[],r.itemDirtyIds=[];for(var s=0;s<e;s++){var u=new g;r.items.push(u),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return f(e,t),e.prototype.initFromArray=function(t,e){for(var n=0;n<this.length;n++)t[n]&&(t[n].castToBaseTexture?this.addBaseTextureAt(t[n].castToBaseTexture(),n):t[n]instanceof d?this.addResourceAt(t[n],n):this.addResourceAt(c(t[n],e),n))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],n=e.realWidth,r=e.realHeight;return t.resize(n,r),Promise.resolve(t)})),this._load},e}(d),_=function(t){function e(e,n){var r,i,o=this,a=n||{},s=a.width,u=a.height;return Array.isArray(e)?(r=e,i=e.length):i=e,o=t.call(this,i,{width:s,height:u})||this,r&&o.initFromArray(r,n),o}return f(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=i.q.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,n){var r=this,i=r.length,o=r.itemDirtyIds,a=r.items,s=t.gl;n.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,e.format,n.type,null);for(var u=0;u<i;u++){var l=a[u];o[u]<l.dirtyId&&(o[u]=l.dirtyId,l.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,u,l.resource.width,l.resource.height,1,e.format,n.type,l.resource.source))}return!0},e}(y),b=function(t){function e(e){var n=this,r=e,i=r.naturalWidth||r.videoWidth||r.width,o=r.naturalHeight||r.videoHeight||r.height;return(n=t.call(this,i,o)||this).source=e,n.noSubImage=!1,n}return f(e,t),e.crossOrigin=function(t,e,n){void 0===n&&0!==e.indexOf("data:")?t.crossOrigin=Object(o.i)(e):!1!==n&&(t.crossOrigin="string"===typeof n?n:"anonymous")},e.prototype.upload=function(t,e,n,r){var o=t.gl,a=e.realWidth,s=e.realHeight;if((r=r||this.source)instanceof HTMLImageElement){if(!r.complete||0===r.naturalWidth)return!1}else if(r instanceof HTMLVideoElement&&r.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===i.a.UNPACK),this.noSubImage||e.target!==o.TEXTURE_2D||n.width!==a||n.height!==s?(n.width=a,n.height=s,o.texImage2D(e.target,0,n.internalFormat,e.format,n.type,r)):o.texSubImage2D(o.TEXTURE_2D,0,0,0,e.format,n.type,r),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(d),x=function(t){function e(e){return t.call(this,e)||this}return f(e,t),e.test=function(t){var e=globalThis.OffscreenCanvas;return!!(e&&t instanceof e)||globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement},e}(b),w=function(t){function e(n,r){var o=this,a=r||{},s=a.width,u=a.height,l=a.autoLoad,c=a.linkBaseTexture;if(n&&n.length!==e.SIDES)throw new Error("Invalid length. Got "+n.length+", expected 6");o=t.call(this,6,{width:s,height:u})||this;for(var h=0;h<e.SIDES;h++)o.items[h].target=i.q.TEXTURE_CUBE_MAP_POSITIVE_X+h;return o.linkBaseTexture=!1!==c,n&&o.initFromArray(n,r),!1!==l&&o.load(),o}return f(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=i.q.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,n){if(void 0===n&&(n=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=i.q.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,n,r){for(var i=this.itemDirtyIds,o=0;o<e.SIDES;o++){var a=this.items[o];i[o]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(t,a,r),i[o]=a.dirtyId):i[o]<-1&&(t.gl.texImage2D(a.target,0,r.internalFormat,n.realWidth,n.realHeight,0,n.format,r.type,null),i[o]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(y),E=function(t){function e(e,n){var i=this;if(n=n||{},!(e instanceof HTMLImageElement)){var o=new Image;b.crossOrigin(o,e,n.crossorigin),o.src=e,e=o}return i=t.call(this,e)||this,!e.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=e.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0!==n.createBitmap?n.createBitmap:r.b.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode="number"===typeof n.alphaMode?n.alphaMode:null,i.bitmap=null,i._load=null,!1!==n.autoLoad&&i.load(),i}return f(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,n){var r=e.source;e.url=r.src;var i=function(){e.destroyed||(r.onload=null,r.onerror=null,e.resize(r.width,r.height),e._load=null,e.createBitmap?t(e.process()):t(e))};r.complete&&r.src?i():(r.onload=i,r.onerror=function(t){n(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);var n=globalThis.createImageBitmap,r=!e.crossOrigin||"anonymous"===e.crossOrigin;return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then((function(t){return t.blob()})).then((function(r){return n(r,0,0,e.width,e.height,{premultiplyAlpha:t.alphaMode===i.a.UNPACK?"premultiply":"none"})})).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process},e.prototype.upload=function(e,n,r){if("number"===typeof this.alphaMode&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,n,r,this.bitmap),!this.preserveBitmap){var i=!0,o=n._glTextures;for(var a in o){var s=o[a];if(s!==r&&s.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"===typeof t||t instanceof HTMLImageElement},e}(b),T=function(t){function e(e,n){var r=this;return n=n||{},(r=t.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=n.scale||1,r._overrideWidth=n.width,r._overrideHeight=n.height,r._resolve=null,r._crossorigin=n.crossorigin,r._load=null,!1!==n.autoLoad&&r.load(),r}return f(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(n){if(t._resolve=function(){t.resize(t.source.width,t.source.height),n(t)},e.SVG_XML.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;b.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(n){t._resolve&&(e.onerror=null,t.onError.emit(n))},e.onload=function(){if(t._resolve){var n=e.width,r=e.height;if(!n||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=n*t.scale,a=r*t.scale;(t._overrideWidth||t._overrideHeight)&&(i=t._overrideWidth||t._overrideHeight/r*n,a=t._overrideHeight||t._overrideWidth/n*r),i=Math.round(i),a=Math.round(a);var s=t.source;s.width=i,s.height=a,s._pixiId="canvas_"+Object(o.D)(),s.getContext("2d").drawImage(e,0,0,n,r,0,0,i,a),t._resolve(),t._resolve=null}}},e.getSize=function(t){var n=e.SVG_SIZE.exec(t),r={};return n&&(r[n[1]]=Math.round(parseFloat(n[3])),r[n[5]]=Math.round(parseFloat(n[7]))),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,n){return"svg"===n||"string"===typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"===typeof t&&e.SVG_XML.test(t)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(b),S=function(t){function e(n,r){var i=this;if(r=r||{},!(n instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"===typeof n&&(n=[n]);var a=n[0].src||n[0];b.crossOrigin(o,a,r.crossorigin);for(var s=0;s<n.length;++s){var u=document.createElement("source"),l=n[s],c=l.src,h=l.mime,f=(c=c||n[s]).split("?").shift().toLowerCase(),p=f.slice(f.lastIndexOf(".")+1);h=h||e.MIME_TYPES[p]||"video/"+p,u.src=c,u.type=h,o.appendChild(u)}n=o}return(i=t.call(this,n)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==r.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==r.autoLoad&&i.load(),i}return f(e,t),e.prototype.update=function(e){if(!this.destroyed){var n=s.a.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(n){t.valid?n(t):(t._resolve=n,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(s.a.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(s.a.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(s.a.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(s.a.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(s.a.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,n){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(b),A=function(t){function e(e){return t.call(this,e)||this}return f(e,t),e.test=function(t){return!!globalThis.createImageBitmap&&t instanceof ImageBitmap},e}(b);l.push(E,A,x,S,T,v,w,_);var O={__proto__:null,Resource:d,BaseImageResource:b,INSTALLED:l,autoDetectResource:c,AbstractMultiResource:y,ArrayResource:_,BufferResource:v,CanvasResource:x,CubeResource:w,ImageResource:E,SVGResource:T,VideoResource:S,ImageBitmapResource:A},P=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.upload=function(t,e,n){var r=t.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===i.a.UNPACK);var o=e.realWidth,a=e.realHeight;return n.width===o&&n.height===a?r.texSubImage2D(e.target,0,0,0,o,a,e.format,n.type,this.data):(n.width=o,n.height=a,r.texImage2D(e.target,0,n.internalFormat,o,a,0,e.format,n.type,this.data)),!0},e}(v),M=function(){function t(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new a.a("disposeFramebuffer"),this.multisample=i.l.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new g(null,{scaleMode:i.p.NEAREST,resolution:1,mipmap:i.k.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new g(new P(null,{width:this.width,height:this.height}),{scaleMode:i.p.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:i.k.OFF,format:i.h.DEPTH_COMPONENT,type:i.r.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var r=this.colorTextures[n],i=r.resolution;r.setSize(t/i,e/i)}if(this.depthTexture){i=this.depthTexture.resolution;this.depthTexture.setSize(t/i,e/i)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),C=function(t){function e(e){void 0===e&&(e={});var n=this;if("number"===typeof e){var r=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];e={width:r,height:o,scaleMode:a,resolution:s}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:i.l.NONE,(n=t.call(this,null,e)||this).mipmap=i.k.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new M(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=e.multisample,n.maskStack=[],n.filterStack=[{}],n}return f(e,t),e.prototype.resize=function(t,e){this.framebuffer.resize(t*this.resolution,e*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(g),R=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,n){var r=e.width,i=e.height;if(n){var o=t.width/2/r,a=t.height/2/i,s=t.x/r+o,l=t.y/i+a;n=u.n.add(n,u.n.NW),this.x0=s+o*u.n.uX(n),this.y0=l+a*u.n.uY(n),n=u.n.add(n,2),this.x1=s+o*u.n.uX(n),this.y1=l+a*u.n.uY(n),n=u.n.add(n,2),this.x2=s+o*u.n.uX(n),this.y2=l+a*u.n.uY(n),n=u.n.add(n,2),this.x3=s+o*u.n.uX(n),this.y3=l+a*u.n.uY(n)}else this.x0=t.x/r,this.y0=t.y/i,this.x1=(t.x+t.width)/r,this.y1=t.y/i,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/i,this.x3=t.x/r,this.y3=(t.y+t.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},t}(),I=new R,N=function(t){function e(n,r,i,o,a,s){var l=t.call(this)||this;if(l.noFrame=!1,r||(l.noFrame=!0,r=new u.j(0,0,1,1)),n instanceof e&&(n=n.baseTexture),l.baseTexture=n,l._frame=r,l.trim=o,l.valid=!1,l._uvs=I,l.uvMatrix=null,l.orig=i||r,l._rotate=Number(a||0),!0===a)l._rotate=2;else if(l._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=s?new u.g(s.x,s.y):new u.g(0,0),l._updateID=0,l.textureCacheIds=[],n.valid?l.noFrame?n.valid&&l.onBaseTextureUpdated(n):l.frame=r:n.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&n.on("update",l.onBaseTextureUpdated,l),l}return f(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var n=this.baseTexture.resource;n&&n.url&&o.e[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var t=this._frame.clone(),n=this._frame===this.orig?t:this.orig.clone(),r=new e(this.baseTexture,!this.noFrame&&t,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=t),r},e.prototype.updateUvs=function(){this._uvs===I&&(this._uvs=new R),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,n,i){void 0===n&&(n={}),void 0===i&&(i=r.b.STRICT_TEXTURE_CACHE);var a="string"===typeof t,s=null;if(a)s=t;else if(t instanceof g){if(!t.cacheId){var u=n&&n.pixiIdPrefix||"pixiid";t.cacheId=u+"-"+Object(o.D)(),g.addToCache(t,t.cacheId)}s=t.cacheId}else{if(!t._pixiId){u=n&&n.pixiIdPrefix||"pixiid";t._pixiId=u+"_"+Object(o.D)()}s=t._pixiId}var l=o.e[s];if(a&&i&&!l)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return l||t instanceof g?!l&&t instanceof g&&(l=new e(t),e.addToCache(l,s)):(n.resolution||(n.resolution=Object(o.l)(t)),(l=new e(new g(t,n))).baseTexture.cacheId=s,g.addToCache(l.baseTexture,s),e.addToCache(l,s)),l},e.fromURL=function(t,n){var r=Object.assign({autoLoad:!1},null===n||void 0===n?void 0:n.resourceOptions),i=e.from(t,Object.assign({resourceOptions:r},n),!1),o=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):o.load().then((function(){return Promise.resolve(i)}))},e.fromBuffer=function(t,n,r,i){return new e(g.fromBuffer(t,n,r,i))},e.fromLoader=function(t,n,i,a){var s=new g(t,Object.assign({scaleMode:r.b.SCALE_MODE,resolution:Object(o.l)(n)},a)),u=s.resource;u instanceof E&&(u.url=n);var l=new e(s);return i||(i=n),g.addToCache(l.baseTexture,i),e.addToCache(l,i),i!==n&&(g.addToCache(l.baseTexture,n),e.addToCache(l,n)),l.baseTexture.valid?Promise.resolve(l):new Promise((function(t){l.baseTexture.once("loaded",(function(){return t(l)}))}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),o.e[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),o.e[e]=t)},e.removeFromCache=function(t){if("string"===typeof t){var e=o.e[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete o.e[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)o.e[t.textureCacheIds[r]]===t&&delete o.e[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,n=t.y,r=t.width,i=t.height,o=e+r>this.baseTexture.width,a=n+i>this.baseTexture.height;if(o||a){var s=o&&a?"and":"or",u="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,l="Y: "+n+" + "+i+" = "+(n+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+s+" "+l)}this.valid=r&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(o.c);function k(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}N.EMPTY=new N(new g),k(N.EMPTY),k(N.EMPTY.baseTexture),N.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new N(new g(new x(t)))}(),k(N.WHITE),k(N.WHITE.baseTexture);var D=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return f(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(t){this.framebuffer.multisample=t},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,n){void 0===n&&(n=!0);var r=this.baseTexture.resolution,i=Math.round(t*r)/r,o=Math.round(e*r)/r;this.valid=i>0&&o>0,this._frame.width=this.orig.width=i,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(i,o),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){for(var n=arguments,r=[],i=1;i<arguments.length;i++)r[i-1]=n[i];return"number"===typeof t&&(Object(o.h)("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),t={width:t,height:r[0],scaleMode:r[1],resolution:r[2]}),new e(new C(t))},e}(N),L=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e,n){void 0===n&&(n=i.l.NONE);var r=new C(Object.assign({width:t,height:e,resolution:1,multisample:n},this.textureOptions));return new D(r)},t.prototype.getOptimalTexture=function(t,e,n,r){var a;void 0===n&&(n=1),void 0===r&&(r=i.l.NONE),t=Math.ceil(t*n-1e-6),e=Math.ceil(e*n-1e-6),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?a=r>1?-r:-1:(a=((65535&(t=Object(o.s)(t)))<<16|65535&(e=Object(o.s)(e)))>>>0,r>1&&(a+=4294967296*r)),this.texturePool[a]||(this.texturePool[a]=[]);var s=this.texturePool[a].pop();return s||(s=this.createTexture(t,e,r)),s.filterPoolKey=a,s.setResolution(n),s},t.prototype.getFilterTexture=function(t,e,n){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution,n||i.l.NONE);return r.filterFrame=t.filterFrame,r},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var n=this.texturePool[e];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var n=this.texturePool[e];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},t.SCREEN_KEY=-1,t}(),F=function(){function t(t,e,n,r,o,a,s){void 0===e&&(e=0),void 0===n&&(n=!1),void 0===r&&(r=i.r.FLOAT),this.buffer=t,this.size=e,this.normalized=n,this.type=r,this.stride=o,this.start=a,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,n,r,i,o){return new t(e,n,r,i,o)},t}(),U=0,j=function(){function t(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=e,this.id=U++,this.disposeRunner=new a.a("disposeBuffer")}return t.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===i.d.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?i.d.ELEMENT_ARRAY_BUFFER:i.d.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),B={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var G={5126:4,5123:2,5121:1},z=0,V={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},X=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=z++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new a.a("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,n,r,i,o,a,s){if(void 0===n&&(n=0),void 0===r&&(r=!1),void 0===s&&(s=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof j||(e instanceof Array&&(e=new Float32Array(e)),e=new j(e));var u=t.split("|");if(u.length>1){for(var l=0;l<u.length;l++)this.addAttribute(u[l],e,n,r,i);return this}var c=this.buffers.indexOf(e);return-1===c&&(this.buffers.push(e),c=this.buffers.length-1),this.attributes[t]=new F(c,n,r,i,o,a,s),this.instanced=this.instanced||s,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof j||(t instanceof Array&&(t=new Uint16Array(t)),t=new j(t)),t.type=i.d.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],n=[],r=new j;for(t in this.attributes){var i=this.attributes[t],a=this.buffers[i.buffer];e.push(a.data),n.push(i.size*G[i.type]/4),i.buffer=0}for(r.data=function(t,e){for(var n=0,r=0,i={},a=0;a<t.length;a++)r+=e[a],n+=t[a].length;var s=new ArrayBuffer(4*n),u=null,l=0;for(a=0;a<t.length;a++){var c=e[a],h=t[a],f=Object(o.k)(h);i[f]||(i[f]=new B[f](s)),u=i[f];for(var p=0;p<h.length;p++)u[(p/c|0)*r+l+p%c]=h[p];l+=c}return new Float32Array(s)}(e,n),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,n=0;n<this.buffers.length;n++)e.buffers[n]=new j(this.buffers[n].data.slice(0));for(var n in this.attributes){var r=this.attributes[n];e.attributes[n]=new F(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=i.d.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var n,r=new t,a=[],s=[],u=[],l=0;l<e.length;l++){n=e[l];for(var c=0;c<n.buffers.length;c++)s[c]=s[c]||0,s[c]+=n.buffers[c].data.length,u[c]=0}for(l=0;l<n.buffers.length;l++)a[l]=new(V[Object(o.k)(n.buffers[l].data)])(s[l]),r.buffers[l]=new j(a[l]);for(l=0;l<e.length;l++){n=e[l];for(c=0;c<n.buffers.length;c++)a[c].set(n.buffers[c].data,u[c]),u[c]+=n.buffers[c].data.length}if(r.attributes=n.attributes,n.indexBuffer){r.indexBuffer=r.buffers[n.buffers.indexOf(n.indexBuffer)],r.indexBuffer.type=i.d.ELEMENT_ARRAY_BUFFER;var h=0,f=0,p=0,d=0;for(l=0;l<n.buffers.length;l++)if(n.buffers[l]!==n.indexBuffer){d=l;break}for(var l in n.attributes){var v=n.attributes[l];(0|v.buffer)===d&&(f+=v.size*G[v.type]/4)}for(l=0;l<e.length;l++){var m=e[l].indexBuffer.data;for(c=0;c<m.length;c++)r.indexBuffer.data[c+p]+=h;h+=e[l].buffers[d].data.length/f,p+=m.length}}return r},t}(),H=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return f(e,t),e}(X),Y=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new j(e.vertices),e.uvBuffer=new j(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return f(e,t),e.prototype.map=function(t,e){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+e.width/t.width,this.uvs[3]=r,this.uvs[4]=n+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=n,this.uvs[7]=r+e.height/t.height,n=e.x,r=e.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+e.width,this.vertices[3]=r,this.vertices[4]=n+e.width,this.vertices[5]=r+e.height,this.vertices[6]=n,this.vertices[7]=r+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(X),W=0,q=function(){function t(t,e,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=W++,this.static=!!e,this.ubo=!!n,t instanceof j?(this.buffer=t,this.buffer.type=i.d.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new j(new Float32Array(1)),this.buffer.type=i.d.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,n,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new t(n,r)},t.from=function(e,n,r){return new t(e,n,r)},t.uboFrom=function(e,n){return new t(e,null===n||void 0===n||n,!0)},t}(),K=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=i.l.NONE,this.sourceFrame=new u.j,this.destinationFrame=new u.j,this.bindingSourceFrame=new u.j,this.bindingDestinationFrame=new u.j,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Z=[new u.g,new u.g,new u.g,new u.g],$=new u.d,Q=function(){function t(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new L,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new H,this.quadUv=new Y,this.tempRect=new u.j,this.activeState={},this.globalUniforms=new q({outputFrame:new u.j,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(t,e){for(var n,r,i=this.renderer,o=this.defaultFilterStack,a=this.statePool.pop()||new K,s=this.renderer.renderTexture,u=e[0].resolution,l=e[0].multisample,c=e[0].padding,h=e[0].autoFit,f=null===(n=e[0].legacy)||void 0===n||n,p=1;p<e.length;p++){var d=e[p];u=Math.min(u,d.resolution),l=Math.min(l,d.multisample),c=this.useMaxPadding?Math.max(c,d.padding):c+d.padding,h=h&&d.autoFit,f=f||null===(r=d.legacy)||void 0===r||r}if(1===o.length&&(this.defaultFilterStack[0].renderTexture=s.current),o.push(a),a.resolution=u,a.multisample=l,a.legacy=f,a.target=t,a.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),a.sourceFrame.pad(c),h){var v=this.tempRect.copyFrom(s.sourceFrame);i.projection.transform&&this.transformAABB($.copyFrom(i.projection.transform).invert(),v),a.sourceFrame.fit(v)}this.roundFrame(a.sourceFrame,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,u,l),a.filters=e,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var m=this.tempRect;m.x=0,m.y=0,m.width=a.sourceFrame.width,m.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(s.sourceFrame),a.bindingDestinationFrame.copyFrom(s.destinationFrame),a.transform=i.projection.transform,i.projection.transform=null,s.bind(a.renderTexture,a.sourceFrame,m),i.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),n=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var o=r.inputSize,a=r.inputPixel,s=r.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],a[0]=Math.round(o[0]*e.resolution),a[1]=Math.round(o[1]*e.resolution),a[2]=1/a[0],a[3]=1/a[1],s[0]=.5*a[2],s[1]=.5*a[3],s[2]=e.sourceFrame.width*o[2]-.5*a[2],s[3]=e.sourceFrame.height*o[3]-.5*a[3],e.legacy){var u=r.filterArea;u[0]=e.destinationFrame.width,u[1]=e.destinationFrame.height,u[2]=e.sourceFrame.x,u[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var l=t[t.length-1];if(this.renderer.framebuffer.blit(),1===n.length)n[0].apply(this,e.renderTexture,l.renderTexture,i.e.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var c=e.renderTexture,h=this.getOptimalFilterTexture(c.width,c.height,e.resolution);h.filterFrame=c.filterFrame;var f=0;for(f=0;f<n.length-1;++f){1===f&&e.multisample>1&&((h=this.getOptimalFilterTexture(c.width,c.height,e.resolution)).filterFrame=c.filterFrame),n[f].apply(this,c,h,i.e.CLEAR,e);var p=c;c=h,h=p}n[f].apply(this,c,l.renderTexture,i.e.BLEND,e),f>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(h)}e.clear(),this.statePool.push(e)},t.prototype.bindAndClear=function(t,e){void 0===e&&(e=i.e.CLEAR);var n=this.renderer,r=n.renderTexture,o=n.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var a=this.tempRect;a.x=0,a.y=0,a.width=t.filterFrame.width,a.height=t.filterFrame.height,r.bind(t,t.filterFrame,a)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=1&o.stateId||this.forceClear;(e===i.e.CLEAR||e===i.e.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(t,e,n,r){var o=this.renderer;o.state.set(t.state),this.bindAndClear(n,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(i.f.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(i.f.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(t,e){var n=this.activeState,r=n.sourceFrame,i=n.destinationFrame,o=e._texture.orig,a=t.set(i.width,0,0,i.height,r.x,r.y),s=e.worldTransform.copyTo(u.d.TEMP_MATRIX);return s.invert(),a.prepend(s),a.scale(1/o.width,1/o.height),a.translate(e.anchor.x,e.anchor.y),a},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(t,e,n,r){return void 0===n&&(n=1),void 0===r&&(r=i.l.NONE),this.texturePool.getOptimalTexture(t,e,n,r)},t.prototype.getFilterTexture=function(t,e,n){if("number"===typeof t){var r=t;t=e,e=r}t=t||this.activeState.renderTexture;var o=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution,n||i.l.NONE);return o.filterFrame=t.filterFrame,o},t.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(t,e){var n=Z[0],r=Z[1],i=Z[2],o=Z[3];n.set(e.left,e.top),r.set(e.left,e.bottom),i.set(e.right,e.top),o.set(e.right,e.bottom),t.apply(n,n),t.apply(r,r),t.apply(i,i),t.apply(o,o);var a=Math.min(n.x,r.x,i.x,o.x),s=Math.min(n.y,r.y,i.y,o.y),u=Math.max(n.x,r.x,i.x,o.x),l=Math.max(n.y,r.y,i.y,o.y);e.x=a,e.y=s,e.width=u-a,e.height=l-s},t.prototype.roundFrame=function(t,e,n,r,i){if(!(t.width<=0||t.height<=0||n.width<=0||n.height<=0)){if(i){var o=i.a,a=i.b,s=i.c,u=i.d;if((Math.abs(a)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}(i=i?$.copyFrom(i):$.identity()).translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.transformAABB(i,t),t.ceil(e),this.transformAABB(i.invert(),t)}},t}(),J=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),tt=function(){function t(t){this.renderer=t,this.emptyRenderer=new J(t),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(t,e){for(var n=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=n[r]||null,t[r]&&(t[r]._batchLocation=r)},t.prototype.boundArray=function(t,e,n,r){for(var i=t.elements,o=t.ids,a=t.count,s=0,u=0;u<a;u++){var l=i[u],c=l._batchLocation;if(c>=0&&c<r&&e[c]===l)o[u]=c;else for(;s<r;){var h=e[s];if(!h||h._batchEnabled!==n||h._batchLocation!==s){o[u]=s,l._batchLocation=s,e[s]=l;break}s++}}},t.prototype.destroy=function(){this.renderer=null},t}(),et=0,nt=function(){function t(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=et++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=et++,this.renderer.runners.contextChange.emit(t)},t.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},t.prototype.createContext=function(t,e){var n;if(r.b.PREFER_ENV>=i.g.WEBGL2&&(n=t.getContext("webgl2",e)),n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(t){t.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(t){var e=t.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),rt=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=i.l.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},it=new u.j,ot=function(){function t(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new M(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new u.j,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;r.b.PREFER_ENV===i.g.WEBGL_LEGACY&&(e=null,n=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},t.prototype.bind=function(t,e,n){void 0===n&&(n=0);var r=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,i.framebuffer)),i.mipLevel!==n&&(t.dirtyId++,t.dirtyFormat++,i.mipLevel=n),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,i.dirtySize=t.dirtySize,this.updateFramebuffer(t,n)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var o=0;o<t.colorTextures.length;o++){var a=t.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var s=e.width>>n,u=e.height>>n,l=s/e.width;this.setViewport(e.x*l,e.y*l,s,u)}else{s=t.width>>n,u=t.height>>n;this.setViewport(0,0,s,u)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(t,e,n,r){var i=this.viewport;t=Math.round(t),e=Math.round(e),n=Math.round(n),r=Math.round(r),i.width===n&&i.height===r&&i.x===t&&i.y===e||(i.x=t,i.y=e,i.width=n,i.height=r,this.gl.viewport(t,e,n,r))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(t,e,n,r,o){void 0===o&&(o=i.c.COLOR|i.c.DEPTH);var a=this.gl;a.clearColor(t,e,n,r),a.clear(o)},t.prototype.initFramebuffer=function(t){var e=this.gl,n=new rt(e.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(t){var e=this.gl,n=t.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,n.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.RGBA8,t.width,t.height)),n.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,n.stencil),n.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var r=t.colorTextures,i=r.length;e.drawBuffers||(i=Math.min(i,1));for(var o=0;o<i;o++){var a=r[o],s=a.parentTextureArray||a;this.renderer.texture.bind(s,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},t.prototype.updateFramebuffer=function(t,e){var n=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures,o=i.length;n.drawBuffers||(o=Math.min(o,1)),r.multisample>1&&this.canMultisampleFramebuffer(t)?(r.msaaBuffer=r.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,r.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.RGBA8,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(n.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var a=[],s=0;s<o;s++){var u=i[s],l=u.parentTextureArray||u;this.renderer.texture.bind(l,0),0===s&&r.msaaBuffer||(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+s,u.target,l._glTextures[this.CONTEXT_UID].texture,e),a.push(n.COLOR_ATTACHMENT0+s))}if((a.length>1&&n.drawBuffers(a),t.depthTexture)&&this.writeDepthTexture){var c=t.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?r.stencil&&(n.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,r.stencil),r.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,r.multisample,n.DEPTH24_STENCIL8,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,r.stencil))},t.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},t.prototype.detectSamples=function(t){var e=this.msaaSamples,n=i.l.NONE;if(t<=1||null===e)return n;for(var r=0;r<e.length;r++)if(e[r]<=t){n=e[r];break}return 1===n&&(n=i.l.NONE),n},t.prototype.blit=function(t,e,n){var r=this,i=r.current,o=r.renderer,a=r.gl,s=r.CONTEXT_UID;if(2===o.context.webGLVersion&&i){var u=i.glFramebuffers[s];if(u){if(!t){if(!u.msaaBuffer)return;var l=i.colorTextures[0];if(!l)return;u.blitFramebuffer||(u.blitFramebuffer=new M(i.width,i.height),u.blitFramebuffer.addColorTexture(0,l)),(t=u.blitFramebuffer).colorTextures[0]!==l&&(t.colorTextures[0]=l,t.dirtyId++,t.dirtyFormat++),t.width===i.width&&t.height===i.height||(t.width=i.width,t.height=i.height,t.dirtyId++,t.dirtySize++)}e||((e=it).width=i.width,e.height=i.height),n||(n=e);var c=e.width===n.width&&e.height===n.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,u.framebuffer),a.blitFramebuffer(e.left,e.top,e.right,e.bottom,n.left,n.top,n.right,n.bottom,a.COLOR_BUFFER_BIT,c?a.NEAREST:a.LINEAR)}}},t.prototype.disposeFramebuffer=function(t,e){var n=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(n){delete t.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(t);i>=0&&this.managedFramebuffers.splice(i,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&r.deleteRenderbuffer(n.msaaBuffer),n.stencil&&r.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<e.length;n++)this.disposeFramebuffer(e[n],t)},t.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var n=t.width,r=t.height,i=this.gl,o=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,o),e.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,e.multisample,i.DEPTH24_STENCIL8,n,r):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,n,r),e.stencil=o,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new u.j},t.prototype.destroy=function(){this.renderer=null},t}(),at={5126:4,5123:2,5121:1},st=function(){function t(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var n=this.renderer.context.extensions.vertexArrayObject;r.b.PREFER_ENV===i.g.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=function(){return n.createVertexArrayOES()},t.bindVertexArray=function(t){return n.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return n.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var o=t.getExtension("ANGLE_instanced_arrays");o?(t.vertexAttribDivisor=function(t,e){return o.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,n,r,i){return o.drawElementsInstancedANGLE(t,e,n,r,i)},t.drawArraysInstanced=function(t,e,n,r){return o.drawArraysInstancedANGLE(t,e,n,r)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},t.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var n=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],i=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},i=!0);var o=r[e.program.id]||this.initGeometryVao(t,e,i);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(t,e.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,n=0;n<t.buffers.length;n++){var r=t.buffers[n];e.update(r)}},t.prototype.checkCompatibility=function(t,e){var n=t.attributes,r=e.attributeData;for(var i in r)if(!n[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},t.prototype.getSignature=function(t,e){var n=t.attributes,r=e.attributeData,i=["g",t.id];for(var o in n)r[o]&&i.push(o,r[o].location);return i.join("-")},t.prototype.initGeometryVao=function(t,e,n){void 0===n&&(n=!0);var r=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,a=e.program;a.glPrograms[i]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);var s=this.getSignature(t,a),u=t.glVertexArrayObjects[this.CONTEXT_UID],l=u[s];if(l)return u[a.id]=l,l;var c=t.buffers,h=t.attributes,f={},p={};for(var d in c)f[d]=0,p[d]=0;for(var d in h)!h[d].size&&a.attributeData[d]?h[d].size=a.attributeData[d].size:h[d].size||console.warn("PIXI Geometry attribute '"+d+"' size cannot be determined (likely the bound shader does not have the attribute)"),f[h[d].buffer]+=h[d].size*at[h[d].type];for(var d in h){var v=h[d],m=v.size;void 0===v.stride&&(f[v.buffer]===m*at[v.type]?v.stride=0:v.stride=f[v.buffer]),void 0===v.start&&(v.start=p[v.buffer],p[v.buffer]+=m*at[v.type])}l=r.createVertexArray(),r.bindVertexArray(l);for(var g=0;g<c.length;g++){var y=c[g];o.bind(y),n&&y._glBuffers[i].refCount++}return this.activateVao(t,a),this._activeVao=l,u[a.id]=l,u[s]=l,l},t.prototype.disposeGeometry=function(t,e){var n;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,o=t.buffers,a=null===(n=this.renderer)||void 0===n?void 0:n.buffer;if(t.disposeRunner.remove(this),r){if(a)for(var s=0;s<o.length;s++){var u=o[s]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,0!==u.refCount||e||a.dispose(o[s],e))}if(!e)for(var l in r)if("g"===l[0]){var c=r[l];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),n=0;n<e.length;n++)this.disposeGeometry(this.managedGeometries[e[n]],t)},t.prototype.activateVao=function(t,e){var n=this.gl,r=this.CONTEXT_UID,i=this.renderer.buffer,o=t.buffers,a=t.attributes;t.indexBuffer&&i.bind(t.indexBuffer);var s=null;for(var u in a){var l=a[u],c=o[l.buffer],h=c._glBuffers[r];if(e.attributeData[u]){s!==h&&(i.bind(c),s=h);var f=e.attributeData[u].location;if(n.enableVertexAttribArray(f),n.vertexAttribPointer(f,l.size,l.type||n.FLOAT,l.normalized,l.stride,l.start),l.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");n.vertexAttribDivisor(f,1)}}}},t.prototype.draw=function(t,e,n,r){var i=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,s=2===a?i.UNSIGNED_SHORT:i.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?o.instanced?i.drawElementsInstanced(t,e||o.indexBuffer.data.length,s,(n||0)*a,r||1):i.drawElements(t,e||o.indexBuffer.data.length,s,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?i.drawArraysInstanced(t,n,e||o.getSize(),r||1):i.drawArrays(t,n,e||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),ut=function(){function t(t){void 0===t&&(t=null),this.type=i.j.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=r.b.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=i.j.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function lt(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function ct(t,e){var n=t.getShaderSource(e).split("\n").map((function(t,e){return e+": "+t})),r=t.getShaderInfoLog(e),i=r.split("\n"),o={},a=i.map((function(t){return parseFloat(t.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))})).filter((function(t){return!(!t||o[t])&&(o[t]=!0,!0)})),s=[""];a.forEach((function(t){n[t-1]="%c"+n[t-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));var u=n.join("\n");s[0]=u,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function ht(t){for(var e=new Array(t),n=0;n<e.length;n++)e[n]=!1;return e}function ft(t,e){switch(t){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return ht(2*e);case"bvec3":return ht(3*e);case"bvec4":return ht(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var pt,dt={},vt=dt;function mt(){if(!pt){pt=i.m.MEDIUM;var t=function(){if(vt===dt||vt&&vt.isContextLost()){var t=document.createElement("canvas"),e=void 0;r.b.PREFER_ENV>=i.g.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),vt=e}return vt}();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);pt=e.precision?i.m.HIGH:i.m.MEDIUM}}return pt}function gt(t,e,n){if("precision"!==t.substring(0,9)){var r=e;return e===i.m.HIGH&&n!==i.m.HIGH&&(r=i.m.MEDIUM),"precision "+r+" float;\n"+t}return n!==i.m.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var yt={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function _t(t){return yt[t]}var bt=null,xt={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function wt(t,e){if(!bt){var n=Object.keys(xt);bt={};for(var r=0;r<n.length;++r){var i=n[r];bt[t[i]]=xt[i]}}return bt[e]}var Et=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '},codeUbo:function(t){return"\n                var "+t+"_matrix = uv."+t+".toArray(true);\n\n                data[offset] = "+t+"_matrix[0];\n                data[offset+1] = "+t+"_matrix[1];\n                data[offset+2] = "+t+"_matrix[2];\n        \n                data[offset + 4] = "+t+"_matrix[3];\n                data[offset + 5] = "+t+"_matrix[4];\n                data[offset + 6] = "+t+"_matrix[5];\n        \n                data[offset + 8] = "+t+"_matrix[6];\n                data[offset + 9] = "+t+"_matrix[7];\n                data[offset + 10] = "+t+"_matrix[8];\n            "}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'},codeUbo:function(t){return"\n                v = uv."+t+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(t){return"\n                    v = uv."+t+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Tt={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},St={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var At,Ot=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Pt(t){for(var e="",n=0;n<t;++n)n>0&&(e+="\nelse "),n<t-1&&(e+="if(test == "+n+".0){}");return e}var Mt=0,Ct={},Rt=function(){function t(e,n,o){void 0===o&&(o="pixi-shader"),this.id=Mt++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=n||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(o=o.replace(/\s+/g,"-"),Ct[o]?(Ct[o]++,o+="-"+Ct[o]):Ct[o]=1,this.vertexSrc="#define SHADER_NAME "+o+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+o+"\n"+this.fragmentSrc,this.vertexSrc=gt(this.vertexSrc,r.b.PRECISION_VERTEX,i.m.HIGH),this.fragmentSrc=gt(this.fragmentSrc,r.b.PRECISION_FRAGMENT,mt())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,n,r){var i=e+n,a=o.d[i];return a||(o.d[i]=a=new t(e,n,r)),a},t}(),It=function(){function t(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof q?e:new q(e):new q({})}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var n in e.uniforms){var r=e.uniforms[n];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,n,r){return new t(Rt.from(e,n),r)},t}(),Nt=function(){function t(){this.data=0,this.blendMode=i.b.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==i.b.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),kt=function(t){function e(n,i,o){var a=this,s=Rt.from(n||e.defaultVertexSrc,i||e.defaultFragmentSrc);return(a=t.call(this,s,o)||this).padding=0,a.resolution=r.b.FILTER_RESOLUTION,a.multisample=r.b.FILTER_MULTISAMPLE,a.enabled=!0,a.autoFit=!0,a.state=new Nt,a}return f(e,t),e.prototype.apply=function(t,e,n,r,i){t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(It),Dt=new u.d,Lt=function(){function t(t,e){this._texture=t,this.mapCoord=new u.d,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin="undefined"===typeof e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var n=this.mapCoord,r=0;r<t.length;r+=2){var i=t[r],o=t[r+1];e[r]=i*n.a+o*n.c+n.tx,e[r+1]=i*n.b+o*n.d+n.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=e.orig,i=e.trim;i&&(Dt.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(Dt));var o=e.baseTexture,a=this.uClampFrame,s=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(e._frame.x+s+u)/o.width,a[1]=(e._frame.y+s+u)/o.height,a[2]=(e._frame.x+e._frame.width-s+u)/o.width,a[3]=(e._frame.y+e._frame.height-s+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=e._frame.width===o.width&&e._frame.height===o.height&&0===e.rotate,!0},t}(),Ft=function(t){function e(e,n,r){var i=this,o=null;return"string"!==typeof e&&void 0===n&&void 0===r&&(o=e,e=void 0,n=void 0,r=void 0),(i=t.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",n||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r)||this).maskSprite=o,i.maskMatrix=new u.d,i}return f(e,t),Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(t,e,n,r){var i=this._maskSprite,o=i._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Lt(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,e,n,r))},e}(kt),Ut=function(){function t(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},t.prototype.push=function(t,e){var n=e;if(!n.isMaskData){var r=this.maskDataPool.pop()||new ut;r.pooled=!0,r.maskObject=e,n=r}var o=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(o),n.autoDetect&&this.detect(n),n._target=t,n.type!==i.j.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case i.j.SCISSOR:this.renderer.scissor.push(n);break;case i.j.STENCIL:this.renderer.stencil.push(n);break;case i.j.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n)}n.type===i.j.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case i.j.SCISSOR:this.renderer.scissor.pop();break;case i.j.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case i.j.SPRITE:this.popSpriteMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var n=this.maskStack[this.maskStack.length-1];n.type===i.j.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(t){t.maskObject.isSprite?t.type=i.j.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=i.j.SCISSOR:t.type=i.j.STENCIL},t.prototype.pushSpriteMask=function(t){var e,n,r=t.maskObject,i=t._target,o=t._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex])||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new Ft]);var a,s,u=this.renderer,l=u.renderTexture;if(l.current){var c=l.current;a=t.resolution||c.resolution,s=null!==(e=t.multisample)&&void 0!==e?e:c.multisample}else a=t.resolution||u.resolution,s=null!==(n=t.multisample)&&void 0!==n?n:u.multisample;o[0].resolution=a,o[0].multisample=s,o[0].maskSprite=r;var h=i.filterArea;i.filterArea=r.getBounds(!0),u.filter.push(i,o),i.filterArea=h,t._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.destroy=function(){this.renderer=null},t}(),jt=function(){function t(t){this.renderer=t,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(t){var e=this.renderer.gl,n=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==n&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),Bt=new u.d,Gt=function(t){function e(e){var n=t.call(this,e)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return f(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.calcScissorRect=function(t){if(!t._scissorRectLocal){var e=t._scissorRect,n=t.maskObject,r=this.renderer,i=r.renderTexture;n.renderable=!0;var o=n.getBounds();this.roundFrameToPixels(o,i.current?i.current.resolution:r.resolution,i.sourceFrame,i.destinationFrame,r.projection.transform),n.renderable=!1,e&&o.fit(e),t._scissorRectLocal=o}},e.isMatrixRotated=function(t){if(!t)return!1;var e=t.a,n=t.b,r=t.c,i=t.d;return(Math.abs(n)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)},e.prototype.testScissor=function(t){var n=t.maskObject;if(!n.isFastRect||!n.isFastRect())return!1;if(e.isMatrixRotated(n.worldTransform))return!1;if(e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);var r=t._scissorRectLocal;return r.width>0&&r.height>0},e.prototype.roundFrameToPixels=function(t,n,r,i,o){e.isMatrixRotated(o)||((o=o?Bt.copyFrom(o):Bt.identity()).translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.renderer.filter.transformAABB(o,t),t.fit(i),t.x=Math.round(t.x*n),t.y=Math.round(t.y*n),t.width=Math.round(t.width*n),t.height=Math.round(t.height*n))},e.prototype.push=function(t){t._scissorRectLocal||this.calcScissorRect(t);var e=this.renderer.gl;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t,e=this.maskStack[this.maskStack.length-1]._scissorRect;t=this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)},e}(jt),zt=function(t){function e(e){var n=t.call(this,e)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return f(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,n=this.renderer.gl,r=t._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),t._stencilCounter++,n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.EQUAL,r,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?e.disable(e.STENCIL_TEST):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e}(jt),Vt=function(){function t(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new u.d,this.transform=null}return t.prototype.update=function(t,e,n,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,r),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(t,e,n,r){var i=this.projectionMatrix,o=r?-1:1;i.identity(),i.a=1/e.width*2,i.d=o*(1/e.height*2),i.tx=-1-e.x*i.a,i.ty=-o-e.y*i.d},t.prototype.setTransform=function(t){},t.prototype.destroy=function(){this.renderer=null},t}(),Xt=new u.j,Ht=new u.j,Yt=function(){function t(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new u.j,this.destinationFrame=new u.j,this.viewportFrame=new u.j}return t.prototype.bind=function(t,e,n){void 0===t&&(t=null);var r,i,o,a=this.renderer;this.current=t,t?(o=(r=t.baseTexture).resolution,e||(Xt.width=t.frame.width,Xt.height=t.frame.height,e=Xt),n||(Ht.x=t.frame.x,Ht.y=t.frame.y,Ht.width=e.width,Ht.height=e.height,n=Ht),i=r.framebuffer):(o=a.resolution,e||(Xt.width=a.screen.width,Xt.height=a.screen.height,e=Xt),n||((n=Xt).width=e.width,n.height=e.height));var s=this.viewportFrame;s.x=n.x*o,s.y=n.y*o,s.width=n.width*o,s.height=n.height*o,t||(s.y=a.view.height-(s.y+s.height)),s.ceil(),this.renderer.framebuffer.bind(i,s),this.renderer.projection.update(n,e,o,!i),t?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var n=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,i=n.width!==r.width||n.height!==r.height;if(i){var o=this.viewportFrame,a=o.x,s=o.y,u=o.width,l=o.height;a=Math.round(a),s=Math.round(s),u=Math.round(u),l=Math.round(l),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,s,u,l)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),i&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function Wt(t,e,n,r,i){n.buffer.update(i)}var qt={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},Kt={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function Zt(t,e){if(!t.autoManage)return{size:0,syncFunc:Wt};for(var n=function(t,e){var n=[];for(var r in t)e[r]&&n.push(e[r]);return n.sort((function(t,e){return t.index-e.index})),n}(t.uniforms,e),r=function(t){for(var e=t.map((function(t){return{data:t,offset:0,dataLen:0,dirty:0}})),n=0,r=0,i=0,o=0;o<e.length;o++){var a=e[o];if(n=Kt[a.data.type],a.data.size>1&&(n=Math.max(n,16)*a.data.size),a.dataLen=n,r%n!==0&&r<16){var s=r%n%16;r+=s,i+=s}r+n>16?(i=16*Math.ceil(i/16),a.offset=i,i+=n,r=n):(a.offset=i,r+=n,i+=n)}return{uboElements:e,size:i=16*Math.ceil(i/16)}}(n),i=r.uboElements,o=r.size,a=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],s=0;s<i.length;s++){for(var u=i[s],l=t.uniforms[u.data.name],c=u.data.name,h=!1,f=0;f<Et.length;f++){var p=Et[f];if(p.codeUbo&&p.test(u.data,l)){a.push("offset = "+u.offset/4+";",Et[f].codeUbo(u.data.name,l)),h=!0;break}}if(!h)if(u.data.size>1){var d=_t(u.data.type),v=Math.max(Kt[u.data.type]/16,1),m=d/v,g=(4-m%4)%4;a.push("\n                cv = ud."+c+".value;\n                v = uv."+c+";\n                offset = "+u.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+u.data.size*v+"; i++)\n                {\n                    for(var j = 0; j < "+m+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+g+";\n                }\n\n                ")}else{var y=qt[u.data.type];a.push("\n                cv = ud."+c+".value;\n                v = uv."+c+";\n                offset = "+u.offset/4+";\n                "+y+";\n                ")}}return a.push("\n       renderer.buffer.update(buffer);\n    "),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join("\n"))}}var $t=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function Qt(t,e){var n=lt(t,t.VERTEX_SHADER,e.vertexSrc),r=lt(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,n),t.attachShader(i,r),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||function(t,e,n,r){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||ct(t,n),t.getShaderParameter(r,t.COMPILE_STATUS)||ct(t,r),console.error("PixiJS Error: Could not initialize shader."),""!==t.getProgramInfoLog(e)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}(t,i,n,r),e.attributeData=function(t,e){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var o=e.getActiveAttrib(t,i);if(0!==o.name.indexOf("gl_")){var a=wt(e,o.type),s={type:a,name:o.name,size:_t(a),location:e.getAttribLocation(t,o.name)};n[o.name]=s}}return n}(i,t),e.uniformData=function(t,e){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;i++){var o=e.getActiveUniform(t,i),a=o.name.replace(/\[.*?\]$/,""),s=!!o.name.match(/\[.*?\]$/),u=wt(e,o.type);n[a]={name:a,index:i,type:u,size:o.size,isArray:s,value:ft(u,o.size)}}return n}(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var o=Object.keys(e.attributeData);o.sort((function(t,e){return t>e?1:-1}));for(var a=0;a<o.length;a++)e.attributeData[o[a]].location=a,t.bindAttribLocation(i,a,o[a]);t.linkProgram(i)}t.deleteShader(n),t.deleteShader(r);var s={};for(var a in e.uniformData){var u=e.uniformData[a];s[a]={location:t.getUniformLocation(i,a),value:ft(u.type,u.size)}}return new $t(i,s)}var Jt=0,te={textureCount:0,uboCount:0},ee=function(){function t(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Jt++}return t.prototype.systemCheck=function(){if(!function(){if("boolean"===typeof At)return At;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");At=!0===t({a:"b"},"a","b")}catch(e){At=!1}return At}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(t){this.gl=t,this.reset()},t.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var n=t.program,r=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(r.program)),e||(te.textureCount=0,te.uboCount=0,this.syncUniformGroup(t.uniformGroup,te)),r},t.prototype.setUniforms=function(t){var e=this.shader.program,n=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(n.uniformData,t,this.renderer)},t.prototype.syncUniformGroup=function(t,e){var n=this.getGlProgram();t.static&&t.dirtyId===n.uniformDirtyGroups[t.id]||(n.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,e))},t.prototype.syncUniforms=function(t,e,n){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function(t,e){var n,r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var i in t.uniforms){var o=e[i];if(o){for(var a=t.uniforms[i],s=!1,u=0;u<Et.length;u++)if(Et[u].test(o,a)){r.push(Et[u].code(i,a)),s=!0;break}if(!s){var l=(1===o.size?Tt:St)[o.type].replace("location",'ud["'+i+'"].location');r.push('\n            cu = ud["'+i+'"];\n            cv = cu.value;\n            v = uv["'+i+'"];\n            '+l+";")}}else(null===(n=t.uniforms[i])||void 0===n?void 0:n.group)&&(t.uniforms[i].ubo?r.push("\n                        renderer.shader.syncUniformBufferGroup(uv."+i+", '"+i+"');\n                    "):r.push("\n                        renderer.shader.syncUniformGroup(uv."+i+", syncData);\n                    "))}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(t,e){var n=this.getGlProgram();if(!t.static||0!==t.dirtyId||!n.uniformGroups[t.id]){t.dirtyId=0;var r=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,e);t.buffer.update(),r(n.uniformData,t.uniforms,this.renderer,te,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[e])},t.prototype.createSyncBufferGroup=function(t,e,n){var r=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var i=this.gl.getUniformBlockIndex(e.program,n);e.uniformBufferBindings[n]=this.shader.uniformBindCount,r.uniformBlockBinding(e.program,i,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(t,this.shader.program.uniformData,"ubo"),a=this._uboCache[o];if(a||(a=this._uboCache[o]=Zt(t,this.shader.program.uniformData)),t.autoManage){var s=new Float32Array(a.size/4);t.buffer.update(s)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]},t.prototype.getSignature=function(t,e,n){var r=t.uniforms,i=[n+"-"];for(var o in r)i.push(o),e[o]&&i.push(e[o].type);return i.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(t){var e=this.gl,n=t.program,r=Qt(e,n);return n.glPrograms[this.renderer.CONTEXT_UID]=r,r},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();var ne=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=i.b.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new Nt,this.defaultState.blend=!0}return t.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[i.b.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.ADD]=[t.ONE,t.ONE],e[i.b.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.NONE]=[0,0],e[i.b.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[i.b.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[i.b.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[i.b.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[i.b.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[i.b.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[i.b.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[i.b.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[i.b.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[i.b.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},t.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,n=0;e;)1&e&&this.map[n].call(this,!!(t.data&1<<n)),e>>=1,n++;this.stateId=t.data}for(n=0;n<this.checks.length;n++)this.checks[n](this,t)},t.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(t){this.gl.depthMask(t)},t.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},t.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],n=this.gl;2===e.length?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(t,e){var n=this.checks.indexOf(t);e&&-1===n?this.checks.push(t):e||-1===n||this.checks.splice(n,1)},t.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},t.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),re=function(){function t(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=r.b.GC_MAX_IDLE,this.checkCountMax=r.b.GC_MAX_CHECK_COUNT,this.mode=r.b.GC_MODE}return t.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==i.i.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,n=!1,r=0;r<e.length;r++){var i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){var o=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[o++]=e[r]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},t.prototype.destroy=function(){this.renderer=null},t}();var ie=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=i.r.UNSIGNED_BYTE,this.internalFormat=i.h.RGBA,this.samplerType=0},oe=function(){function t(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new g,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(t){var e,n,r,o,a,s,u,l,c,h,f,p,d,v,m,g,y,_,b,x,w,E,T;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?((e={})[i.r.UNSIGNED_BYTE]=((n={})[i.h.RGBA]=t.RGBA8,n[i.h.RGB]=t.RGB8,n[i.h.RG]=t.RG8,n[i.h.RED]=t.R8,n[i.h.RGBA_INTEGER]=t.RGBA8UI,n[i.h.RGB_INTEGER]=t.RGB8UI,n[i.h.RG_INTEGER]=t.RG8UI,n[i.h.RED_INTEGER]=t.R8UI,n[i.h.ALPHA]=t.ALPHA,n[i.h.LUMINANCE]=t.LUMINANCE,n[i.h.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,n),e[i.r.BYTE]=((r={})[i.h.RGBA]=t.RGBA8_SNORM,r[i.h.RGB]=t.RGB8_SNORM,r[i.h.RG]=t.RG8_SNORM,r[i.h.RED]=t.R8_SNORM,r[i.h.RGBA_INTEGER]=t.RGBA8I,r[i.h.RGB_INTEGER]=t.RGB8I,r[i.h.RG_INTEGER]=t.RG8I,r[i.h.RED_INTEGER]=t.R8I,r),e[i.r.UNSIGNED_SHORT]=((o={})[i.h.RGBA_INTEGER]=t.RGBA16UI,o[i.h.RGB_INTEGER]=t.RGB16UI,o[i.h.RG_INTEGER]=t.RG16UI,o[i.h.RED_INTEGER]=t.R16UI,o[i.h.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,o),e[i.r.SHORT]=((a={})[i.h.RGBA_INTEGER]=t.RGBA16I,a[i.h.RGB_INTEGER]=t.RGB16I,a[i.h.RG_INTEGER]=t.RG16I,a[i.h.RED_INTEGER]=t.R16I,a),e[i.r.UNSIGNED_INT]=((s={})[i.h.RGBA_INTEGER]=t.RGBA32UI,s[i.h.RGB_INTEGER]=t.RGB32UI,s[i.h.RG_INTEGER]=t.RG32UI,s[i.h.RED_INTEGER]=t.R32UI,s[i.h.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,s),e[i.r.INT]=((u={})[i.h.RGBA_INTEGER]=t.RGBA32I,u[i.h.RGB_INTEGER]=t.RGB32I,u[i.h.RG_INTEGER]=t.RG32I,u[i.h.RED_INTEGER]=t.R32I,u),e[i.r.FLOAT]=((l={})[i.h.RGBA]=t.RGBA32F,l[i.h.RGB]=t.RGB32F,l[i.h.RG]=t.RG32F,l[i.h.RED]=t.R32F,l[i.h.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,l),e[i.r.HALF_FLOAT]=((c={})[i.h.RGBA]=t.RGBA16F,c[i.h.RGB]=t.RGB16F,c[i.h.RG]=t.RG16F,c[i.h.RED]=t.R16F,c),e[i.r.UNSIGNED_SHORT_5_6_5]=((h={})[i.h.RGB]=t.RGB565,h),e[i.r.UNSIGNED_SHORT_4_4_4_4]=((f={})[i.h.RGBA]=t.RGBA4,f),e[i.r.UNSIGNED_SHORT_5_5_5_1]=((p={})[i.h.RGBA]=t.RGB5_A1,p),e[i.r.UNSIGNED_INT_2_10_10_10_REV]=((d={})[i.h.RGBA]=t.RGB10_A2,d[i.h.RGBA_INTEGER]=t.RGB10_A2UI,d),e[i.r.UNSIGNED_INT_10F_11F_11F_REV]=((v={})[i.h.RGB]=t.R11F_G11F_B10F,v),e[i.r.UNSIGNED_INT_5_9_9_9_REV]=((m={})[i.h.RGB]=t.RGB9_E5,m),e[i.r.UNSIGNED_INT_24_8]=((g={})[i.h.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,g),e[i.r.FLOAT_32_UNSIGNED_INT_24_8_REV]=((y={})[i.h.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,y),T=e):((_={})[i.r.UNSIGNED_BYTE]=((b={})[i.h.RGBA]=t.RGBA,b[i.h.RGB]=t.RGB,b[i.h.ALPHA]=t.ALPHA,b[i.h.LUMINANCE]=t.LUMINANCE,b[i.h.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,b),_[i.r.UNSIGNED_SHORT_5_6_5]=((x={})[i.h.RGB]=t.RGB,x),_[i.r.UNSIGNED_SHORT_4_4_4_4]=((w={})[i.h.RGBA]=t.RGBA,w),_[i.r.UNSIGNED_SHORT_5_5_5_1]=((E={})[i.h.RGBA]=t.RGBA,E),T=_),T}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var n=0;n<e;n++)this.boundTextures[n]=null;this.emptyTextures={};var r=new ie(t.createTexture());t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new ie(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(t,e){void 0===e&&(e=0);var n=this.gl;if((t=null===t||void 0===t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[e]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},t.prototype.unbind=function(t){var e=this.gl,n=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<n.length;r++)n[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<n.length;r++)n[r]===t&&(this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(t.target,this.emptyTextures[t.target].texture),n[r]=null)},t.prototype.ensureSamplerType=function(t){var e=this,n=e.boundTextures,r=e.hasIntegerTextures,o=e.CONTEXT_UID;if(r)for(var a=t-1;a>=0;--a){var s=n[a];if(s)s._glTextures[o].samplerType!==i.o.FLOAT&&this.renderer.texture.unbind(s)}},t.prototype.initTexture=function(t){var e=new ie(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},t.prototype.initTextureType=function(t,e){var n,r;e.internalFormat=null!==(r=null===(n=this.internalFormats[t.type])||void 0===n?void 0:n[t.format])&&void 0!==r?r:t.format,2===this.webGLVersion&&t.type===i.r.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=t.type},t.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var n=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(n,t,e))e.samplerType!==i.o.FLOAT&&(this.hasIntegerTextures=!0);else{var r=t.realWidth,o=t.realHeight,a=n.gl;(e.width!==r||e.height!==o||e.dirtyId<0)&&(e.width=r,e.height=o,a.texImage2D(t.target,0,e.internalFormat,r,o,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},t.prototype.destroyTexture=function(t,e){var n=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&Object(o.x)(this.managedTextures,r,1)}},t.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==i.k.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=i.s.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},t.prototype.setStyle=function(t,e){var n=this.gl;if(e.mipmap&&t.mipmap!==i.k.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,e.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===i.p.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===i.p.LINEAR){var o=Math.min(t.anisotropicLevel,n.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===i.p.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===i.p.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),ae={__proto__:null,FilterSystem:Q,BatchSystem:tt,ContextSystem:nt,FramebufferSystem:ot,GeometrySystem:st,MaskSystem:Ut,ScissorSystem:Gt,StencilSystem:zt,ProjectionSystem:Vt,RenderTextureSystem:Yt,ShaderSystem:ee,StateSystem:ne,TextureGCSystem:re,TextureSystem:oe},se=new u.d,ue=function(t){function e(e,n){void 0===e&&(e=i.n.UNKNOWN);var a=t.call(this)||this;return n=Object.assign({},r.b.RENDER_OPTIONS,n),a.options=n,a.type=e,a.screen=new u.j(0,0,n.width,n.height),a.view=n.view||document.createElement("canvas"),a.resolution=n.resolution||r.b.RESOLUTION,a.useContextAlpha=n.useContextAlpha,a.autoDensity=!!n.autoDensity,a.preserveDrawingBuffer=n.preserveDrawingBuffer,a.clearBeforeRender=n.clearBeforeRender,a._backgroundColor=0,a._backgroundColorRgba=[0,0,0,1],a._backgroundColorString="#000000",a.backgroundColor=n.backgroundColor||a._backgroundColor,a.backgroundAlpha=n.backgroundAlpha,void 0!==n.transparent&&(Object(o.h)("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),a.useContextAlpha=n.transparent,a.backgroundAlpha=n.transparent?0:1),a._lastObjectRendered=null,a.plugins={},a}return f(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.view.width=Math.round(t*this.resolution),this.view.height=Math.round(e*this.resolution);var n=this.view.width/this.resolution,r=this.view.height/this.resolution;this.screen.width=n,this.screen.height=r,this.autoDensity&&(this.view.style.width=n+"px",this.view.style.height=r+"px"),this.emit("resize",n,r)},e.prototype.generateTexture=function(t,e,n,r){void 0===e&&(e={}),"number"===typeof e&&(Object(o.h)("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),e={scaleMode:e,resolution:n,region:r});var i=e.region,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}(e,["region"]);0===(r=i||t.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);var s=D.create(p({width:r.width,height:r.height},a));return se.tx=-r.x,se.ty=-r.y,this.render(t,{renderTexture:s,clear:!1,transform:se,skipUpdateTransform:!!t.parent}),s},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var n=this;n.plugins=null,n.type=i.n.UNKNOWN,n.view=null,n.screen=null,n._tempDisplayObjectParent=null,n.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=Object(o.n)(t),Object(o.m)(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(t){this._backgroundColorRgba[3]=t},enumerable:!1,configurable:!0}),e}(o.c),le=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},ce=function(){function t(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(t){var e=this.gl,n=this.CONTEXT_UID,r=t._glBuffers[n]||this.createGLBuffer(t);e.bindBuffer(t.type,r.buffer)},t.prototype.bindBufferBase=function(t,e){var n=this.gl,r=this.CONTEXT_UID;if(this.boundBufferBases[e]!==t){var i=t._glBuffers[r]||this.createGLBuffer(t);this.boundBufferBases[e]=t,n.bindBufferBase(n.UNIFORM_BUFFER,e,i.buffer)}},t.prototype.bindBufferRange=function(t,e,n){var r=this.gl,i=this.CONTEXT_UID;n=n||0;var o=t._glBuffers[i]||this.createGLBuffer(t);r.bindBufferRange(r.UNIFORM_BUFFER,e||0,o.buffer,256*n,256)},t.prototype.update=function(t){var e=this.gl,n=this.CONTEXT_UID,r=t._glBuffers[n];if(t._updateID!==r.updateID)if(r.updateID=t._updateID,e.bindBuffer(t.type,r.buffer),r.byteLength>=t.data.byteLength)e.bufferSubData(t.type,0,t.data);else{var i=t.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;r.byteLength=t.data.byteLength,e.bufferData(t.type,t.data,i)}},t.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var n=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),n&&(e||r.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),n=0;n<e.length;n++)this.dispose(this.managedBuffers[e[n]],t)},t.prototype.createGLBuffer=function(t){var e=this.CONTEXT_UID,n=this.gl;return t._glBuffers[e]=new le(n.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[e]},t}(),he=function(t){function e(n){var r=t.call(this,i.n.WEBGL,n)||this;return n=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new a.a("destroy"),contextChange:new a.a("contextChange"),reset:new a.a("reset"),update:new a.a("update"),postrender:new a.a("postrender"),prerender:new a.a("prerender"),resize:new a.a("resize")},r.runners.contextChange.add(r),r.globalUniforms=new q({projectionMatrix:new u.d},!0),r.addSystem(Ut,"mask").addSystem(nt,"context").addSystem(ne,"state").addSystem(ee,"shader").addSystem(oe,"texture").addSystem(ce,"buffer").addSystem(st,"geometry").addSystem(ot,"framebuffer").addSystem(Gt,"scissor").addSystem(zt,"stencil").addSystem(Vt,"projection").addSystem(re,"textureGC").addSystem(Q,"filter").addSystem(Yt,"renderTexture").addSystem(tt,"batch"),r.initPlugins(e.__plugins),r.multisample=void 0,n.context?r.context.initFromContext(n.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:n.antialias,premultipliedAlpha:r.useContextAlpha&&"notMultiplied"!==r.useContextAlpha,stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,Object(o.z)(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return f(e,t),e.create=function(t){if(Object(o.q)())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var t,e=this.gl;if(1===this.context.webGLVersion){var n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}t>=i.l.HIGH?this.multisample=i.l.HIGH:t>=i.l.MEDIUM?this.multisample=i.l.MEDIUM:t>=i.l.LOW?this.multisample=i.l.LOW:this.multisample=i.l.NONE},e.prototype.addSystem=function(t,e){var n=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var r in this[e]=n,this.runners)this.runners[r].add(n);return this},e.prototype.render=function(t,e){var n,r,i,a;if(e&&(e instanceof D?(Object(o.h)("6.0.0","Renderer#render arguments changed, use options instead."),n=e,r=arguments[2],i=arguments[3],a=arguments[4]):(n=e.renderTexture,r=e.clear,i=e.transform,a=e.skipUpdateTransform)),this.renderingToScreen=!n,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(n||(this._lastObjectRendered=t),!a){var s=t.enableTempParent();t.updateTransform(),t.disableTempParent(s)}this.renderTexture.bind(n),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),n&&n.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(e,n,r,i){void 0===n&&(n={});var o=t.prototype.generateTexture.call(this,e,n,r,i);return this.framebuffer.blit(),o},e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var n in this.runners.destroy.emit(),this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return Object(o.h)("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(t,n){e.__plugins=e.__plugins||{},e.__plugins[t]=n},e}(ue);function fe(t){return he.create(t)}var pe="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",de="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",ve=(function(){function t(t){Object(o.h)("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}t.prototype.destroy=function(){this.renderer=null}}(),function(){this.texArray=null,this.blend=0,this.type=i.f.TRIANGLES,this.start=0,this.size=0,this.data=null}),me=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),ge=function(){function t(t){"number"===typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),ye=function(t){function e(e){var n=t.call(this,e)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Nt.for2d(),n.size=4*r.b.SPRITE_BATCH_SIZE,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),e.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return f(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;r.b.PREFER_ENV===i.g.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),r.b.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=e.createShader(e.FRAGMENT_SHADER);;){var r=Ot.replace(/%forloop%/gi,Pt(t));if(e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))break;t=t/2|0}return t}(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,n=e._textureArrayPool,r=this.size/4,i=Math.floor(r/this.MAX_TEXTURES)+1;t.length<r;)t.push(new ve);for(;n.length<i;)n.push(new me);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,n=this.MAX_TEXTURES,r=e._textureArrayPool,i=this.renderer.batch,o=this._tempBoundTextures,a=this.renderer.textureGC.count,s=++g._globalBatch,u=0,l=r[0],c=0;i.copyBoundTextures(o,n);for(var h=0;h<this._bufferSize;++h){var f=t[h];t[h]=null,f._batchEnabled!==s&&(l.count>=n&&(i.boundArray(l,o,s,n),this.buildDrawCalls(l,c,h),c=h,l=r[++u],++s),f._batchEnabled=s,f.touched=a,l.elements[l.count++]=f)}l.count>0&&(i.boundArray(l,o,s,n),this.buildDrawCalls(l,c,this._bufferSize),++u,++s);for(h=0;h<o.length;h++)o[h]=null;g._globalBatch=s},e.prototype.buildDrawCalls=function(t,n,r){var i=this,a=i._bufferedElements,s=i._attributeBuffer,u=i._indexBuffer,l=i.vertexSize,c=e._drawCallPool,h=this._dcIndex,f=this._aIndex,p=this._iIndex,d=c[h];d.start=this._iIndex,d.texArray=t;for(var v=n;v<r;++v){var m=a[v],g=m._texture.baseTexture,y=o.t[g.alphaMode?1:0][m.blendMode];a[v]=null,n<v&&d.blend!==y&&(d.size=p-d.start,n=v,(d=c[++h]).texArray=t,d.start=p),this.packInterleavedGeometry(m,s,u,f,p),f+=m.vertexData.length/2*l,p+=m.indices.length,d.blend=y}n<r&&(d.size=p-d.start,++h),this._dcIndex=h,this._aIndex=f,this._iIndex=p},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,n=t._attributeBuffer,i=t._indexBuffer;r.b.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(n.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(n.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,n=this.renderer,r=n.gl,i=n.state,o=e._drawCallPool,a=null,s=0;s<t;s++){var u=o[s],l=u.texArray,c=u.type,h=u.size,f=u.start,p=u.blend;a!==l&&(a=l,this.bindAndClearTexArray(l)),this.state.blendMode=p,i.set(this.state),r.drawElements(c,h,r.UNSIGNED_SHORT,2*f)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),r.b.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=Object(o.s)(Math.ceil(t/8)),n=Object(o.r)(e),r=8*e;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new ge(r*this.vertexSize*4)),i},e.prototype.getIndexBuffer=function(t){var e=Object(o.s)(Math.ceil(t/12)),n=Object(o.r)(e),r=12*e;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i},e.prototype.packInterleavedGeometry=function(t,e,n,r,i){for(var a=e.uint32View,s=e.float32View,u=r/this.vertexSize,l=t.uvs,c=t.indices,h=t.vertexData,f=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),d=p<1&&t._texture.baseTexture.alphaMode?Object(o.v)(t._tintRGB,p):t._tintRGB+(255*p<<24),v=0;v<h.length;v+=2)s[r++]=h[v],s[r++]=h[v+1],s[r++]=l[v],s[r++]=l[v+1],a[r++]=d,s[r++]=f;for(v=0;v<c.length;v++)n[i++]=u+c[v]},e._drawCallPool=[],e._textureArrayPool=[],e}(J),_e=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),n=0;n<t;n++)e[n]=n;this.defaultGroupCache[t]=q.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Rt(this.vertexSrc,r)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new u.d,default:this.defaultGroupCache[t]};return new It(this.programCache[t],i)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var n=0;n<t;n++)n>0&&(e+="\nelse "),n<t-1&&(e+="if(vTextureId < "+n+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},t}(),be=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n._buffer=new j(null,e,!1),n._indexBuffer=new j(null,e,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,i.r.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,i.r.FLOAT).addAttribute("aColor",n._buffer,4,!0,i.r.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,i.r.FLOAT).addIndex(n._indexBuffer),n}return f(e,t),e}(X),xe="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",we="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",Ee=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:xe,fragment:we,geometryClass:be,vertexSize:6},t),n=e.vertex,r=e.fragment,i=e.vertexSize,o=e.geometryClass;return function(t){function e(e){var a=t.call(this,e)||this;return a.shaderGenerator=new _e(n,r),a.geometryClass=o,a.vertexSize=i,a}return f(e,t),e}(ye)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return xe},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return we},enumerable:!1,configurable:!0}),t}(),Te=Ee.create(),Se={},Ae=function(t){Object.defineProperty(Se,t,{get:function(){return Object(o.h)("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),O[t]}})};for(var Oe in O)Ae(Oe);var Pe={},Me=function(t){Object.defineProperty(Pe,t,{get:function(){return Object(o.h)("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),ae[t]}})};for(var Oe in ae)Me(Oe)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return v})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return o})),n.d(e,"j",(function(){return l})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return r})),n.d(e,"m",(function(){return T})),n.d(e,"n",(function(){return E}));var r,i=2*Math.PI,o=180/Math.PI,a=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(r||(r={}));var s=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),u=[new s,new s,new s,new s],l=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(n),this.height=Number(i),this.type=r.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.intersects=function(t,e){if(!e){var n=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=n)return!1;var r=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>r}var i=this.left,o=this.right,a=this.top,s=this.bottom;if(o<=i||s<=a)return!1;var l=u[0].set(t.left,t.top),c=u[1].set(t.left,t.bottom),h=u[2].set(t.right,t.top),f=u[3].set(t.right,t.bottom);if(h.x<=l.x||c.y<=l.y)return!1;var p=Math.sign(e.a*e.d-e.b*e.c);if(0===p)return!1;if(e.apply(l,l),e.apply(c,c),e.apply(h,h),e.apply(f,f),Math.max(l.x,c.x,h.x,f.x)<=i||Math.min(l.x,c.x,h.x,f.x)>=o||Math.max(l.y,c.y,h.y,f.y)<=a||Math.min(l.y,c.y,h.y,f.y)>=s)return!1;var d=p*(c.y-l.y),v=p*(l.x-c.x),m=d*i+v*a,g=d*o+v*a,y=d*i+v*s,_=d*o+v*s;if(Math.max(m,g,y,_)<=d*l.x+v*l.y||Math.min(m,g,y,_)>=d*f.x+v*f.y)return!1;var b=p*(l.y-h.y),x=p*(h.x-l.x),w=b*i+x*a,E=b*o+x*a,T=b*i+x*s,S=b*o+x*s;return!(Math.max(w,E,T,S)<=b*l.x+x*l.y||Math.min(w,E,T,S)>=b*f.x+x*f.y)},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(n-e,0),this.y=r,this.height=Math.max(i-r,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var n=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=n-this.x,this.height=r-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=n-e,this.y=r,this.height=i-r,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),c=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=t,this.y=e,this.radius=n,this.type=r.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-t,i=this.y-e;return(r*=r)+(i*=i)<=n},t.prototype.getBounds=function(){return new l(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),h=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=n,this.height=i,this.type=r.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,r=(e-this.y)/this.height;return(n*=n)+(r*=r)<=1},t.prototype.getBounds=function(){return new l(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),f=function(){function t(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];var i=Array.isArray(e[0])?e[0]:e;if("number"!==typeof i[0]){for(var o=[],a=0,s=i.length;a<s;a++)o.push(i[a].x,i[a].y);i=o}this.points=i,this.type=r.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var n=!1,r=this.points.length/2,i=0,o=r-1;i<r;o=i++){var a=this.points[2*i],s=this.points[2*i+1],u=this.points[2*o],l=this.points[2*o+1];s>e!==l>e&&t<(e-s)/(l-s)*(u-a)+a&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce((function(t,e){return t+", "+e}),"")+"]"},t}(),p=function(){function t(t,e,n,i,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=20),this.x=t,this.y=e,this.width=n,this.height=i,this.radius=o,this.type=r.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+n&&e<=this.y+this.height-n||t>=this.x+n&&t<=this.x+this.width-n)return!0;var r=t-(this.x+n),i=e-(this.y+n),o=n*n;if(r*r+i*i<=o)return!0;if((r=t-(this.x+this.width-n))*r+i*i<=o)return!0;if(r*r+(i=e-(this.y+this.height-n))*i<=o)return!0;if((r=t-(this.x+n))*r+i*i<=o)return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},t}(),d=function(){function t(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0),this._x=n,this._y=r,this.cb=t,this.scope=e}return t.prototype.clone=function(e,n){return void 0===e&&(e=this.cb),void 0===n&&(n=this.scope),new t(e,n,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),v=function(){function t(t,e,n,r,i,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),this.array=null,this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=o}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,n,r,i,o){return this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(t,e){e=e||new s;var n=t.x,r=t.y;return e.x=this.a*n+this.c*r+this.tx,e.y=this.b*n+this.d*r+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new s;var n=1/(this.a*this.d+this.c*-this.b),r=t.x,i=t.y;return e.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.a,i=this.c,o=this.tx;return this.a=r*e-this.b*n,this.b=r*n+this.b*e,this.c=i*e-this.d*n,this.d=i*n+this.d*e,this.tx=o*e-this.ty*n,this.ty=o*n+this.ty*e,this},t.prototype.append=function(t){var e=this.a,n=this.b,r=this.c,i=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*n+t.b*i,this.c=t.c*e+t.d*r,this.d=t.c*n+t.d*i,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*n+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,n,r,i,o,a,s,u){return this.a=Math.cos(a+u)*i,this.b=Math.sin(a+u)*i,this.c=-Math.sin(a-s)*o,this.d=Math.cos(a-s)*o,this.tx=t-(n*this.a+r*this.c),this.ty=e-(n*this.b+r*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,r=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,n=this.b,r=this.c,o=this.d,a=t.pivot,s=-Math.atan2(-r,o),u=Math.atan2(n,e),l=Math.abs(s+u);return l<1e-5||Math.abs(i-l)<1e-5?(t.rotation=u,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=u),t.scale.x=Math.sqrt(e*e+n*n),t.scale.y=Math.sqrt(r*r+o*o),t.position.x=this.tx+(a.x*e+a.y*r),t.position.y=this.ty+(a.x*n+a.y*o),t},t.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,o=t*r-e*n;return this.a=r/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(t*this.ty-e*i)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),m=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],g=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],y=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],_=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],b=[],x=[],w=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];b.push(e);for(var n=0;n<16;n++)for(var r=w(m[t]*m[n]+y[t]*g[n]),i=w(g[t]*m[n]+_[t]*g[n]),o=w(m[t]*y[n]+y[t]*_[n]),a=w(g[t]*y[n]+_[t]*_[n]),s=0;s<16;s++)if(m[s]===r&&g[s]===i&&y[s]===o&&_[s]===a){e.push(s);break}}for(t=0;t<16;t++){var u=new v;u.set(m[t],g[t],y[t],_[t],0,0),x.push(u)}}();var E={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return m[t]},uY:function(t){return g[t]},vX:function(t){return y[t]},vY:function(t){return _[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return b[t][e]},sub:function(t,e){return b[t][E.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2===(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?E.S:E.N:2*Math.abs(e)<=Math.abs(t)?t>0?E.E:E.W:e>0?t>0?E.SE:E.SW:t>0?E.NE:E.NW},matrixAppendRotationInv:function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=x[E.inv(e)];i.tx=n,i.ty=r,t.append(i)}},T=function(){function t(){this.worldTransform=new v,this.localTransform=new v,this.position=new d(this.onChange,this,0,0),this.scale=new d(this.onChange,this,1,1),this.pivot=new d(this.onChange,this,0,0),this.skew=new d(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o}));var r={};n.r(r),n.d(r,"create",(function(){return l})),n.d(r,"clone",(function(){return c})),n.d(r,"copy",(function(){return h})),n.d(r,"identity",(function(){return f})),n.d(r,"fromValues",(function(){return p})),n.d(r,"set",(function(){return d})),n.d(r,"invert",(function(){return v})),n.d(r,"determinant",(function(){return m})),n.d(r,"multiply",(function(){return g})),n.d(r,"rotate",(function(){return y})),n.d(r,"scale",(function(){return _})),n.d(r,"translate",(function(){return b})),n.d(r,"fromRotation",(function(){return x})),n.d(r,"fromScaling",(function(){return w})),n.d(r,"fromTranslation",(function(){return E})),n.d(r,"str",(function(){return T})),n.d(r,"frob",(function(){return S})),n.d(r,"add",(function(){return A})),n.d(r,"subtract",(function(){return O})),n.d(r,"multiplyScalar",(function(){return P})),n.d(r,"multiplyScalarAndAdd",(function(){return M})),n.d(r,"exactEquals",(function(){return C})),n.d(r,"equals",(function(){return R})),n.d(r,"mul",(function(){return I})),n.d(r,"sub",(function(){return N}));var i={};n.r(i),n.d(i,"create",(function(){return k})),n.d(i,"clone",(function(){return D})),n.d(i,"fromValues",(function(){return L})),n.d(i,"copy",(function(){return F})),n.d(i,"set",(function(){return U})),n.d(i,"add",(function(){return j})),n.d(i,"subtract",(function(){return B})),n.d(i,"multiply",(function(){return G})),n.d(i,"divide",(function(){return z})),n.d(i,"ceil",(function(){return V})),n.d(i,"floor",(function(){return X})),n.d(i,"min",(function(){return H})),n.d(i,"max",(function(){return Y})),n.d(i,"round",(function(){return W})),n.d(i,"scale",(function(){return q})),n.d(i,"scaleAndAdd",(function(){return K})),n.d(i,"distance",(function(){return Z})),n.d(i,"squaredDistance",(function(){return $})),n.d(i,"length",(function(){return Q})),n.d(i,"squaredLength",(function(){return J})),n.d(i,"negate",(function(){return tt})),n.d(i,"inverse",(function(){return et})),n.d(i,"normalize",(function(){return nt})),n.d(i,"dot",(function(){return rt})),n.d(i,"cross",(function(){return it})),n.d(i,"lerp",(function(){return ot})),n.d(i,"random",(function(){return at})),n.d(i,"transformMat2",(function(){return st})),n.d(i,"transformMat2d",(function(){return ut})),n.d(i,"transformMat3",(function(){return lt})),n.d(i,"transformMat4",(function(){return ct})),n.d(i,"rotate",(function(){return ht})),n.d(i,"angle",(function(){return ft})),n.d(i,"zero",(function(){return pt})),n.d(i,"str",(function(){return dt})),n.d(i,"exactEquals",(function(){return vt})),n.d(i,"equals",(function(){return mt})),n.d(i,"len",(function(){return gt})),n.d(i,"sub",(function(){return yt})),n.d(i,"mul",(function(){return _t})),n.d(i,"div",(function(){return bt})),n.d(i,"dist",(function(){return xt})),n.d(i,"sqrDist",(function(){return wt})),n.d(i,"sqrLen",(function(){return Et})),n.d(i,"forEach",(function(){return Tt}));var o={};n.r(o),n.d(o,"create",(function(){return St})),n.d(o,"clone",(function(){return At})),n.d(o,"length",(function(){return Ot})),n.d(o,"fromValues",(function(){return Pt})),n.d(o,"copy",(function(){return Mt})),n.d(o,"set",(function(){return Ct})),n.d(o,"add",(function(){return Rt})),n.d(o,"subtract",(function(){return It})),n.d(o,"multiply",(function(){return Nt})),n.d(o,"divide",(function(){return kt})),n.d(o,"ceil",(function(){return Dt})),n.d(o,"floor",(function(){return Lt})),n.d(o,"min",(function(){return Ft})),n.d(o,"max",(function(){return Ut})),n.d(o,"round",(function(){return jt})),n.d(o,"scale",(function(){return Bt})),n.d(o,"scaleAndAdd",(function(){return Gt})),n.d(o,"distance",(function(){return zt})),n.d(o,"squaredDistance",(function(){return Vt})),n.d(o,"squaredLength",(function(){return Xt})),n.d(o,"negate",(function(){return Ht})),n.d(o,"inverse",(function(){return Yt})),n.d(o,"normalize",(function(){return Wt})),n.d(o,"dot",(function(){return qt})),n.d(o,"cross",(function(){return Kt})),n.d(o,"lerp",(function(){return Zt})),n.d(o,"hermite",(function(){return $t})),n.d(o,"bezier",(function(){return Qt})),n.d(o,"random",(function(){return Jt})),n.d(o,"transformMat4",(function(){return te})),n.d(o,"transformMat3",(function(){return ee})),n.d(o,"transformQuat",(function(){return ne})),n.d(o,"rotateX",(function(){return re})),n.d(o,"rotateY",(function(){return ie})),n.d(o,"rotateZ",(function(){return oe})),n.d(o,"angle",(function(){return ae})),n.d(o,"zero",(function(){return se})),n.d(o,"str",(function(){return ue})),n.d(o,"exactEquals",(function(){return le})),n.d(o,"equals",(function(){return ce})),n.d(o,"sub",(function(){return he})),n.d(o,"mul",(function(){return fe})),n.d(o,"div",(function(){return pe})),n.d(o,"dist",(function(){return de})),n.d(o,"sqrDist",(function(){return ve})),n.d(o,"len",(function(){return me})),n.d(o,"sqrLen",(function(){return ge})),n.d(o,"forEach",(function(){return ye}));var a=1e-6,s="undefined"!==typeof Float32Array?Float32Array:Array,u=Math.random;Math.PI;function l(){var t=new s(6);return s!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function c(t){var e=new s(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function f(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function p(t,e,n,r,i,o){var a=new s(6);return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a[4]=i,a[5]=o,a}function d(t,e,n,r,i,o,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t}function v(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=n*o-r*i;return u?(u=1/u,t[0]=o*u,t[1]=-r*u,t[2]=-i*u,t[3]=n*u,t[4]=(i*s-o*a)*u,t[5]=(r*a-n*s)*u,t):null}function m(t){return t[0]*t[3]-t[1]*t[2]}function g(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1],h=n[2],f=n[3],p=n[4],d=n[5];return t[0]=r*l+o*c,t[1]=i*l+a*c,t[2]=r*h+o*f,t[3]=i*h+a*f,t[4]=r*p+o*d+s,t[5]=i*p+a*d+u,t}function y(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*l,t[1]=i*c+a*l,t[2]=r*-l+o*c,t[3]=i*-l+a*c,t[4]=s,t[5]=u,t}function _(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r*l,t[1]=i*l,t[2]=o*c,t[3]=a*c,t[4]=s,t[5]=u,t}function b(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=n[0],c=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=r*l+o*c+s,t[5]=i*l+a*c+u,t}function x(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=0,t[5]=0,t}function w(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function E(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function T(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function S(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)}function A(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t}function O(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t}function P(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t}function M(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t}function C(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function R(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],u=t[5],l=e[0],c=e[1],h=e[2],f=e[3],p=e[4],d=e[5];return Math.abs(n-l)<=a*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-c)<=a*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(i-h)<=a*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(o-f)<=a*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-p)<=a*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(u-d)<=a*Math.max(1,Math.abs(u),Math.abs(d))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var I=g,N=O;function k(){var t=new s(2);return s!=Float32Array&&(t[0]=0,t[1]=0),t}function D(t){var e=new s(2);return e[0]=t[0],e[1]=t[1],e}function L(t,e){var n=new s(2);return n[0]=t,n[1]=e,n}function F(t,e){return t[0]=e[0],t[1]=e[1],t}function U(t,e,n){return t[0]=e,t[1]=n,t}function j(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function B(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function G(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function z(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function V(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function X(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function H(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Y(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function W(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function q(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function K(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function Z(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}function $(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function Q(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function J(t){var e=t[0],n=t[1];return e*e+n*n}function tt(t,e){return t[0]=-e[0],t[1]=-e[1],t}function et(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function nt(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t}function rt(t,e){return t[0]*e[0]+t[1]*e[1]}function it(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}function ot(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}function at(t,e){e=e||1;var n=2*u()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function st(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t}function ut(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function lt(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t}function ct(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}function ht(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t}function ft(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Math.sqrt(n*n+r*r)*Math.sqrt(i*i+o*o),s=a&&(n*i+r*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function pt(t){return t[0]=0,t[1]=0,t}function dt(t){return"vec2("+t[0]+", "+t[1]+")"}function vt(t,e){return t[0]===e[0]&&t[1]===e[1]}function mt(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=a*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=a*Math.max(1,Math.abs(r),Math.abs(o))}var gt=Q,yt=B,_t=G,bt=z,xt=Z,wt=$,Et=J,Tt=function(){var t=k();return function(e,n,r,i,o,a){var s,u;for(n||(n=2),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}();function St(){var t=new s(3);return s!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function At(t){var e=new s(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Ot(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function Pt(t,e,n){var r=new s(3);return r[0]=t,r[1]=e,r[2]=n,r}function Mt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ct(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Rt(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function It(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Nt(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function kt(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function Dt(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function Lt(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function Ft(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function Ut(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function jt(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function Bt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function Gt(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function zt(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}function Vt(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function Xt(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function Ht(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function Yt(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function Wt(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function qt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Kt(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}function Zt(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t}function $t(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,l=a*(o-1),c=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*l+i[0]*c,t[1]=e[1]*s+n[1]*u+r[1]*l+i[1]*c,t[2]=e[2]*s+n[2]*u+r[2]*l+i[2]*c,t}function Qt(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,l=s*a,c=3*o*s,h=3*u*a,f=u*o;return t[0]=e[0]*l+n[0]*c+r[0]*h+i[0]*f,t[1]=e[1]*l+n[1]*c+r[1]*h+i[1]*f,t[2]=e[2]*l+n[2]*c+r[2]*h+i[2]*f,t}function Jt(t,e){e=e||1;var n=2*u()*Math.PI,r=2*u()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}function te(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}function ee(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t}function ne(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],l=e[2],c=i*l-o*u,h=o*s-r*l,f=r*u-i*s,p=i*f-o*h,d=o*c-r*f,v=r*h-i*c,m=2*a;return c*=m,h*=m,f*=m,p*=2,d*=2,v*=2,t[0]=s+c+p,t[1]=u+h+d,t[2]=l+f+v,t}function re(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function ie(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function oe(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function ae(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],u=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),l=u&&qt(t,e)/u;return Math.acos(Math.min(Math.max(l,-1),1))}function se(t){return t[0]=0,t[1]=0,t[2]=0,t}function ue(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function le(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function ce(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],s=e[1],u=e[2];return Math.abs(n-o)<=a*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=a*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-u)<=a*Math.max(1,Math.abs(i),Math.abs(u))}var he=It,fe=Nt,pe=kt,de=zt,ve=Vt,me=Ot,ge=Xt,ye=function(){var t=St();return function(e,n,r,i,o,a){var s,u;for(n||(n=3),r||(r=0),u=i?Math.min(i*n+r,e.length):e.length,s=r;s<u;s+=n)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return U})),n.d(e,"b",(function(){return j})),n.d(e,"d",(function(){return L})),n.d(e,"e",(function(){return F})),n.d(e,"f",(function(){return x})),n.d(e,"g",(function(){return S})),n.d(e,"h",(function(){return D})),n.d(e,"i",(function(){return z})),n.d(e,"k",(function(){return A})),n.d(e,"l",(function(){return V})),n.d(e,"m",(function(){return m})),n.d(e,"n",(function(){return g})),n.d(e,"p",(function(){return P})),n.d(e,"q",(function(){return d})),n.d(e,"r",(function(){return M})),n.d(e,"s",(function(){return O})),n.d(e,"t",(function(){return b})),n.d(e,"u",(function(){return w})),n.d(e,"v",(function(){return E})),n.d(e,"w",(function(){return T})),n.d(e,"x",(function(){return C})),n.d(e,"y",(function(){return _})),n.d(e,"z",(function(){return p})),n.d(e,"A",(function(){return R})),n.d(e,"B",(function(){return y})),n.d(e,"C",(function(){return B})),n.d(e,"D",(function(){return N})),n.d(e,"E",(function(){return c}));var r=n(10);n.d(e,"o",(function(){return r.a}));var i=n(228),o=n.n(i);n.d(e,"c",(function(){return o.a}));var a=n(229),s=n.n(a);n.d(e,"j",(function(){return s.a}));var u=n(105),l=n(0),c={parse:u.parse,format:u.format,resolve:u.resolve};r.b.RETINA_PREFIX=/@([0-9\.]+)x/,r.b.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var h,f=!1;function p(t){var e;if(!f){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var n=["\n %c %c %c PixiJS 6.3.0 - \u2730 "+t+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,n)}else globalThis.console&&globalThis.console.log("PixiJS 6.3.0 - "+t+" - http://www.pixijs.com/");f=!0}}function d(){return"undefined"===typeof h&&(h=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:r.b.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!n||!n.getContextAttributes().stencil);if(n){var o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,i}catch(a){return!1}}()),h}var v={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function m(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function g(t){var e=t.toString(16);return"#"+(e="000000".substring(0,6-e.length)+e)}function y(t){return"string"===typeof t&&"#"===(t=v[t.toLowerCase()]||t)[0]&&(t=t.slice(1)),parseInt(t,16)}function _(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var b=function(){for(var t=[],e=[],n=0;n<32;n++)t[n]=n,e[n]=n;t[l.b.NORMAL_NPM]=l.b.NORMAL,t[l.b.ADD_NPM]=l.b.ADD,t[l.b.SCREEN_NPM]=l.b.SCREEN,e[l.b.NORMAL]=l.b.NORMAL_NPM,e[l.b.ADD]=l.b.ADD_NPM,e[l.b.SCREEN]=l.b.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}();function x(t,e){return b[e?1:0][t]}function w(t,e,n,r){return n=n||new Float32Array(4),r||void 0===r?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function E(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var n=t>>16&255,r=t>>8&255,i=255&t;return(255*e<<24)+((n=n*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(i=i*e+.5|0)}function T(t,e,n,r){return(n=n||new Float32Array(4))[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(255&t)/255,(r||void 0===r)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}function S(t,e){void 0===e&&(e=null);var n=6*t;if((e=e||new Uint16Array(n)).length!==n)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+n);for(var r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function A(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}Float32Array,Uint32Array,Int32Array,Uint8Array;function O(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function P(t){return!(t&t-1)&&!!t}function M(t){var e=(t>65535?1:0)<<4,n=((t>>>=e)>255?1:0)<<3;return e|=n,e|=n=((t>>>=n)>15?1:0)<<2,(e|=n=((t>>>=n)>3?1:0)<<1)|(t>>>=n)>>1}function C(t,e,n){var r,i=t.length;if(!(e>=i||0===n)){var o=i-(n=e+n>i?i-e:n);for(r=e;r<o;++r)t[r]=t[r+n];t.length=o}}function R(t){return 0===t?0:t<0?-1:1}var I=0;function N(){return++I}var k={};function D(t,e,n){if(void 0===n&&(n=3),!k[e]){var r=(new Error).stack;"undefined"===typeof r?console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t):(r=r.split("\n").splice(n).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+"\nDeprecated since v"+t),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+"\nDeprecated since v"+t),console.warn(r))),k[e]=!0}}var L={},F=Object.create(null),U=Object.create(null);var j=function(){function t(t,e,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||r.b.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),t}();function B(t){var e,n,r,i=t.width,o=t.height,a=t.getContext("2d"),s=a.getImageData(0,0,i,o).data,u=s.length,l={top:null,left:null,right:null,bottom:null},c=null;for(e=0;e<u;e+=4)0!==s[e+3]&&(n=e/4%i,r=~~(e/4/i),null===l.top&&(l.top=r),(null===l.left||n<l.left)&&(l.left=n),(null===l.right||l.right<n)&&(l.right=n+1),(null===l.bottom||l.bottom<r)&&(l.bottom=r));return null!==l.top&&(i=l.right-l.left,o=l.bottom-l.top+1,c=a.getImageData(l.left,l.top,i,o)),{height:o,width:i,data:c}}var G;function z(t,e){if(void 0===e&&(e=globalThis.location),0===t.indexOf("data:"))return"";e=e||globalThis.location,G||(G=document.createElement("a")),G.href=t;var n=c.parse(G.href),r=!n.port&&""===e.port||n.port===e.port;return n.hostname===e.hostname&&r&&n.protocol===e.protocol?"":"anonymous"}function V(t,e){var n=r.b.RETINA_PREFIX.exec(t);return n?parseFloat(n[1]):void 0!==e?e:1}},function(t,e,n){"use strict";n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return m.a})),n.d(e,"m",(function(){return m.q})),n.d(e,"j",(function(){return z.p})),n.d(e,"d",(function(){return de})),n.d(e,"c",(function(){return a.b})),n.d(e,"e",(function(){return a.d})),n.d(e,"f",(function(){return a.g})),n.d(e,"g",(function(){return a.h})),n.d(e,"h",(function(){return a.i})),n.d(e,"i",(function(){return a.j})),n.d(e,"k",(function(){return _e})),n.d(e,"l",(function(){return Ce}));n(604);var r=n(4),i=n(15);i.c.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var o=function(){function t(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(r.o.tablet||r.o.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))},t.prototype.deactivate=function(){var t;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var e=t.children;if(e)for(var n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])}},t.prototype.update=function(){var t=performance.now();if(!(r.o.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),n=e.left,i=e.top,o=e.width,a=e.height,s=this.renderer,u=s.width,l=s.height,c=s.resolution,h=o/u*c,f=a/l*c,p=this.div;p.style.left=n+"px",p.style.top=i+"px",p.style.width=u+"px",p.style.height=l+"px";for(var d=0;d<this.children.length;d++){var v=this.children[d];if(v.renderId!==this.renderId)v._accessibleActive=!1,Object(r.x)(this.children,d,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,d--;else{p=v._accessibleDiv;var m=v.hitArea,g=v.worldTransform;v.hitArea?(p.style.left=(g.tx+m.x*g.a)*h+"px",p.style.top=(g.ty+m.y*g.d)*f+"px",p.style.width=m.width*g.a*h+"px",p.style.height=m.height*g.d*f+"px"):(m=v.getBounds(),this.capHitArea(m),p.style.left=m.x*h+"px",p.style.top=m.y*f+"px",p.style.width=m.width*h+"px",p.style.height=m.height*f+"px",p.title!==v.accessibleTitle&&null!==v.accessibleTitle&&(p.title=v.accessibleTitle),p.getAttribute("aria-label")!==v.accessibleHint&&null!==v.accessibleHint&&p.setAttribute("aria-label",v.accessibleHint)),v.accessibleTitle===p.title&&v.tabIndex===p.tabIndex||(p.title=v.accessibleTitle,p.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,n=e.width,r=e.height;t.x+t.width>n&&(t.width=n-t.x),t.y+t.height>r&&(t.height=r-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,n=t.target.displayObject,r=e.eventData;e.dispatchEvent(n,"click",r),e.dispatchEvent(n,"pointertap",r),e.dispatchEvent(n,"tap",r)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction,n=t.target.displayObject,r=e.eventData;e.dispatchEvent(n,"mouseover",r)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction,n=t.target.displayObject,r=e.eventData;e.dispatchEvent(n,"mouseout",r)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}(),a=n(2),s=n(24),u=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new a.g,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},l(t,e)};var c=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),h=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!==(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!==(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!==(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),f=function(){function t(){this._tempPoint=new a.g}return t.prototype.recursiveFindHit=function(t,e,n,r,i){if(!e||!e.visible)return!1;var o=t.data.global,a=!1,s=i=e.interactive||i,u=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,u=!1)),s=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(r=!1)),u&&e.interactiveChildren&&e.children)for(var l=e.children,c=l.length-1;c>=0;c--){var h=l[c],f=this.recursiveFindHit(t,h,n,r,s);if(f){if(!h.parent)continue;s=!1,f&&(t.target&&(r=!1),a=!0)}}return i&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),n&&n(t,e,!!a))),a},t.prototype.findHit=function(t,e,n,r){this.recursiveFindHit(t,e,n,r,!1)},t}(),p={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};i.c.mixin(p);var d={target:null,data:{global:null}},v=function(t){function e(e,n){var r=t.call(this)||this;return n=n||{},r.renderer=e,r.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,r.interactionFrequency=n.interactionFrequency||10,r.mouse=new u,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new c,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!("PointerEvent"in globalThis),r.supportsTouchEvents="ontouchstart"in globalThis,r.supportsPointerEvents=!!globalThis.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new f,r._tempDisplayObject=new i.d,r._eventListenerOptions={capture:!0,passive:!1},r._useSystemTicker=void 0===n.useSystemTicker||n.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return d.target=null,d.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(d,e,null,!0),d.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(s.a.system.add(this.tickerUpdate,this,s.c.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(s.a.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){t=t||"default";var e=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(e=!1),this.currentCursorMode!==t){this.currentCursorMode=t;var n=this.cursorStyles[t];if(n)switch(typeof n){case"string":e&&(this.interactionDOMElement.style.cursor=n);break;case"function":n(t);break;case"object":e&&Object.assign(this.interactionDOMElement.style,n)}else e&&"string"===typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,n){n.stopPropagationHint&&t!==n.stopsPropagatingAt||(n.currentTarget=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},e.prototype.delayDispatchEvent=function(t,e,n){this.delayedEvents.push({displayObject:t,eventString:e,eventData:n})},e.prototype.mapPositionToPoint=function(t,e,n){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var i=1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*i,t.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i},e.prototype.processInteractive=function(t,e,n,r){var i=this.search.findHit(t,e,n,r),o=this.delayedEvents;if(!o.length)return i;t.stopPropagationHint=!1;var a=o.length;this.delayedEvents=[];for(var s=0;s<a;s++){var u=o[s],l=u.displayObject,c=u.eventString,h=u.eventData;h.stopsPropagatingAt===l&&(h.stopPropagationHint=!0),this.dispatchEvent(l,c,h)}return i},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);if(a.data.originalEvent=t,this.processInteractive(a,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===i.pointerType)this.emit("touchstart",a);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,n){var r=t.data,i=t.data.identifier;if(n)if(e.trackedPointers[i]||(e.trackedPointers[i]=new h(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,n){for(var r=this.normalizeToPointerData(t),i=r.length,o=t.target!==this.interactionDOMElement?"outside":"",a=0;a<i;a++){var s=r[a],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(l.data.originalEvent=t,this.processInteractive(l,this.lastObjectRendered,n,e||!o),this.emit(e?"pointercancel":"pointerup"+o,l),"mouse"===s.pointerType||"pen"===s.pointerType){var c=2===s.button;this.emit(c?"rightup"+o:"mouseup"+o,l)}else"touch"===s.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,l),this.releaseInteractionDataForPointerId(s.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var n=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===n.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,n){var r=t.data,i=t.data.identifier,o=e.trackedPointers[i],a="touch"===r.pointerType,s="mouse"===r.pointerType||"pen"===r.pointerType,u=!1;if(s){var l=2===r.button,c=h.FLAGS,f=l?c.RIGHT_DOWN:c.LEFT_DOWN,p=void 0!==o&&o.flags&f;n?(this.dispatchEvent(e,l?"rightup":"mouseup",t),p&&(this.dispatchEvent(e,l?"rightclick":"click",t),u=!0)):p&&this.dispatchEvent(e,l?"rightupoutside":"mouseupoutside",t),o&&(l?o.rightDown=!1:o.leftDown=!1)}n?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),o&&(s&&!u||this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var n=e.length,r=0;r<n;r++){var i=e[r],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=t,this.processInteractive(a,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",a),"touch"===i.pointerType&&this.emit("touchmove",a),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",a)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,n){var r=t.data,i="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(t,e,n),this.moveWhenInside&&!n||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(n.identifier)}},e.prototype.processPointerOverOut=function(t,e,n){var r=t.data,i=t.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,a=e.trackedPointers[i];n&&!a&&(a=e.trackedPointers[i]=new h(i)),void 0!==a&&(n&&this.mouseOverRenderer?(a.over||(a.over=!0,this.delayDispatchEvent(e,"pointerover",t),o&&this.delayDispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):a.over&&(a.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),a.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",r)},e.prototype.getInteractionDataForPointerId=function(t){var e,n=t.pointerId;return 1===n||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[n]?e=this.activeInteractionData[n]:((e=this.interactionDataPool.pop()||new u).identifier=n,this.activeInteractionData[n]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,n){return t.data=n,this.mapPositionToPoint(n.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=n.global.x,e.globalY=n.global.y),n.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,r=t.changedTouches.length;n<r;n++){var i=t.changedTouches[n];"undefined"===typeof i.button&&(i.button=t.touches.length?1:0),"undefined"===typeof i.buttons&&(i.buttons=t.touches.length?1:0),"undefined"===typeof i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),"undefined"===typeof i.width&&(i.width=i.radiusX||1),"undefined"===typeof i.height&&(i.height=i.radiusY||1),"undefined"===typeof i.tiltX&&(i.tiltX=0),"undefined"===typeof i.tiltY&&(i.tiltY=0),"undefined"===typeof i.pointerType&&(i.pointerType="touch"),"undefined"===typeof i.pointerId&&(i.pointerId=i.identifier||0),"undefined"===typeof i.pressure&&(i.pressure=i.force||.5),"undefined"===typeof i.twist&&(i.twist=0),"undefined"===typeof i.tangentialPressure&&(i.tangentialPressure=0),"undefined"===typeof i.layerX&&(i.layerX=i.offsetX=i.clientX),"undefined"===typeof i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else if(globalThis.MouseEvent&&(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof globalThis.PointerEvent))e.push(t);else{var o=t;"undefined"===typeof o.isPrimary&&(o.isPrimary=!0),"undefined"===typeof o.width&&(o.width=1),"undefined"===typeof o.height&&(o.height=1),"undefined"===typeof o.tiltX&&(o.tiltX=0),"undefined"===typeof o.tiltY&&(o.tiltY=0),"undefined"===typeof o.pointerType&&(o.pointerType="mouse"),"undefined"===typeof o.pointerId&&(o.pointerId=1),"undefined"===typeof o.pressure&&(o.pressure=.5),"undefined"===typeof o.twist&&(o.twist=0),"undefined"===typeof o.tangentialPressure&&(o.tangentialPressure=0),o.isNormalized=!0,e.push(o)}return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(r.c),m=n(1),g=function(){function t(e){var n=this;this.stage=new i.b,e=Object.assign({forceCanvas:!1},e),this.renderer=Object(m.u)(e),t._plugins.forEach((function(t){t.init.call(n,e)}))}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,n){var r=this,i=t._plugins.slice(0);i.reverse(),i.forEach((function(t){t.destroy.call(r)})),this.stage.destroy(n),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}(),y=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,n;if(e.cancelResize(),e._resizeTo===globalThis.window)t=globalThis.innerWidth,n=globalThis.innerHeight;else{var r=e._resizeTo;t=r.clientWidth,n=r.clientHeight}e.renderer.resize(t,n)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();g.registerPlugin(y);var _=new a.j,b=function(){function t(t){this.renderer=t}return t.prototype.image=function(t,e,n){var r=new Image;return r.src=this.base64(t,e,n),r},t.prototype.base64=function(t,e,n){return this.canvas(t).toDataURL(e,n)},t.prototype.canvas=function(e){var n,i,o,a=this.renderer,s=!1,u=!1;e&&(e instanceof m.m?o=e:(o=this.renderer.generateTexture(e),u=!0)),o?(n=o.baseTexture.resolution,i=o.frame,s=!1,a.renderTexture.bind(o)):(n=this.renderer.resolution,s=!0,(i=_).width=this.renderer.width,i.height=this.renderer.height,a.renderTexture.bind(null));var l=Math.floor(i.width*n+1e-4),c=Math.floor(i.height*n+1e-4),h=new r.b(l,c,1),f=new Uint8Array(4*l*c),p=a.gl;p.readPixels(i.x*n,i.y*n,l,c,p.RGBA,p.UNSIGNED_BYTE,f);var d=h.context.getImageData(0,0,l,c);if(t.arrayPostDivide(f,d.data),h.context.putImageData(d,0,0),s){var v=new r.b(h.width,h.height,1);v.context.scale(1,-1),v.context.drawImage(h.canvas,0,-c),h.destroy(),h=v}return u&&o.destroy(!0),h.canvas},t.prototype.pixels=function(e){var n,r,i,o=this.renderer,a=!1;e&&(e instanceof m.m?i=e:(i=this.renderer.generateTexture(e),a=!0)),i?(n=i.baseTexture.resolution,r=i.frame,o.renderTexture.bind(i)):(n=o.resolution,(r=_).width=o.width,r.height=o.height,o.renderTexture.bind(null));var s=r.width*n,u=r.height*n,l=new Uint8Array(4*s*u),c=o.gl;return c.readPixels(r.x*n,r.y*n,s,u,c.RGBA,c.UNSIGNED_BYTE,l),a&&i.destroy(!0),t.arrayPostDivide(l,l),l},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(t,e){for(var n=0;n<t.length;n+=4){var r=e[n+3]=t[n+3];0!==r?(e[n]=Math.round(Math.min(255*t[n]/r,255)),e[n+1]=Math.round(Math.min(255*t[n+1]/r,255)),e[n+2]=Math.round(Math.min(255*t[n+2]/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}},t}(),x=function(){function t(t,e,n){void 0===e&&(e=!1),this._fn=t,this._once=e,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},t}();function w(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var E=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(t){void 0===t&&(t=!1);var e=this._head;if(t)return!!e;for(var n=[];e;)n.push(e),e=e._next;return n},t.prototype.has=function(t){if(!(t instanceof x))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},t.prototype.dispatch=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];var r=this._head;if(!r)return!1;for(;r;)r._once&&this.detach(r),r._fn.apply(r._thisArg,e),r=r._next;return!0},t.prototype.add=function(t,e){if(void 0===e&&(e=null),"function"!==typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return w(this,new x(t,!1,e))},t.prototype.once=function(t,e){if(void 0===e&&(e=null),"function"!==typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return w(this,new x(t,!0,e))},t.prototype.detach=function(t){if(!(t instanceof x))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this},t.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},t}();function T(t,e){e=e||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[e.strictMode?"strict":"loose"].exec(t),i={},o=14;o--;)i[n.key[o]]=r[o]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,(function(t,e,r){e&&(i[n.q.name][e]=r)})),i}var S=!(!globalThis.XDomainRequest||"withCredentials"in new XMLHttpRequest),A=null;function O(){}function P(t,e,n){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=n)}function M(t){return t.toString().replace("object ","")}var C=function(){function t(e,n,r){if(this._dequeue=O,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!==typeof e||"string"!==typeof n)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=e,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=O,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new E,this.onProgress=new E,this.onComplete=new E,this.onAfterMiddleware=new E}return t.setExtensionLoadType=function(e,n){P(t._loadTypeMap,e,n)},t.setExtensionXhrType=function(e,n){P(t._xhrTypeMap,e,n)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var n=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(n)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"===typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:S&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return 0!==(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&"undefined"!==typeof globalThis.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&"undefined"!==typeof globalThis.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(e)?e[n]:e));else{e=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;"use-credentials"===this.crossOrigin&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!==typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new globalThis.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},t.prototype._createSource=function(t,e,n){n||(n=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=n,r},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(M(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(M(t)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(M(t)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,n="",r="undefined"===typeof e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&"undefined"!==typeof e.responseType||(n=e.responseText),0===r&&(n.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=t.TYPE.JSON}catch(a){return void this.abort("Error trying to parse loaded json: "+a)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var i=new DOMParser;this.data=i.parseFromString(n,"text/xml")}else{var o=document.createElement("div");o.innerHTML=n,this.data=o}this.type=t.TYPE.XML}catch(s){return void this.abort("Error trying to parse loaded xml: "+s)}else this.data=e.response||n;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";e=e||globalThis.location,A||(A=document.createElement("a")),A.href=t;var n=T(A.href,{strictMode:!0}),r=!n.port&&""===e.port||n.port===e.port,i=n.protocol?n.protocol+":":"";return n.host===e.hostname&&r&&i===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(t){void 0===t&&(t=this.url);var e="";if(this.isDataUrl){var n=t.indexOf("/");e=t.substring(n+1,t.indexOf(";",n))}else{var r=t.indexOf("?"),i=t.indexOf("#"),o=Math.min(r>-1?r:t.length,i>-1?i:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();function R(){}function I(t){return function(){for(var e=arguments,n=[],r=0;r<arguments.length;r++)n[r]=e[r];if(null===t)throw new Error("Callback was already called.");var i=t;t=null,i.apply(this,n)}}!function(t){!function(t){t[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING"}(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.JSON=1]="JSON",t[t.XML=2]="XML",t[t.IMAGE=3]="IMAGE",t[t.AUDIO=4]="AUDIO",t[t.VIDEO=5]="VIDEO",t[t.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(t){t[t.XHR=1]="XHR",t[t.IMAGE=2]="IMAGE",t[t.AUDIO=3]="AUDIO",t[t.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(t){t.DEFAULT="text",t.BUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}(C||(C={}));var N=function(t,e){this.data=t,this.callback=e},k=function(){function t(t,e){var n=this;if(void 0===e&&(e=1),this.workers=0,this.saturated=R,this.unsaturated=R,this.empty=R,this.drain=R,this.error=R,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(t,e,r){if(r&&"function"!==typeof r)throw new Error("task callback must be a function");if(n.started=!0,null==t&&n.idle())setTimeout((function(){return n.drain()}),1);else{var i=new N(t,"function"===typeof r?r:R);e?n._tasks.unshift(i):n._tasks.push(i),setTimeout(n.process,1)}},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var t=n._tasks.shift();0===n._tasks.length&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(t.data,I(n._next(t)))}},this._worker=t,0===e)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return t.prototype._next=function(t){var e=this;return function(){for(var n=arguments,r=[],i=0;i<arguments.length;i++)r[i]=n[i];e.workers-=1,t.callback.apply(t,r),null!=r[0]&&e.error(r[0],t.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},t.prototype.push=function(t,e){this._insert(t,!1,e)},t.prototype.kill=function(){this.workers=0,this.drain=R,this.started=!1,this._tasks=[]},t.prototype.unshift=function(t,e){this._insert(t,!0,e)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},t.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},t.eachSeries=function(t,e,n,r){var i=0,o=t.length;!function a(s){s||i===o?n&&n(s):r?setTimeout((function(){e(t[i++],a)}),1):e(t[i++],a)}()},t.queue=function(e,n){return new t(e,n)},t}(),D=/(#[\w-]+)?$/,L=function(){function t(e,n){var r=this;void 0===e&&(e=""),void 0===n&&(n=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this._queue=k.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new E,this.onError=new E,this.onLoad=new E,this.onStart=new E,this.onComplete=new E;for(var i=0;i<t._plugins.length;++i){var o=t._plugins[i],a=o.pre,s=o.use;a&&this.pre(a),s&&this.use(s)}this._protected=!1}return t.prototype._add=function(t,e,n,r){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new C(t,e,n),"function"===typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var i=n.parentResource,o=[],a=0;a<i.children.length;++a)i.children[a].isComplete||o.push(i.children[a]);var s=i.progressChunk*(o.length+1)/(o.length+2);i.children.push(this.resources[t]),i.progressChunk=s;for(a=0;a<o.length;++a)o[a].progressChunk=s;this.resources[t].progressChunk=s}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},t.prototype.load=function(t){if("function"===typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(t){var e,n=T(t,{strictMode:!0});if(e=n.protocol||!n.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=D.exec(e)[0];-1!==(e=e.slice(0,e.length-r.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=r}return e},t.prototype._loadResource=function(t,e){var n=this;t._dequeue=e,k.eachSeries(this._beforeMiddleware,(function(e,r){e.call(n,t,(function(){r(t.isComplete?{}:null)}))}),(function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())}),!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),k.eachSeries(this._afterMiddleware,(function(n,r){n.call(e,t,r)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||((e=new t)._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}();L.prototype.add=function(t,e,n,r){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"===typeof t&&(n=t,r=e||n.callback||n.onComplete,e=n.url,t=n.name||n.key||n.url),"string"!==typeof e&&(r=n,n=e,e=t),"string"!==typeof e)throw new Error("No url passed to add resource to loader.");return"function"===typeof n&&(r=n,n=null),this._add(t,e,n,r)};var F=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?L.shared:new L},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),U=function(){function t(){}return t.add=function(){C.setExtensionLoadType("svg",C.LOAD_TYPE.XHR),C.setExtensionXhrType("svg",C.XHR_RESPONSE_TYPE.TEXT)},t.use=function(t,e){if(!t.data||t.type!==C.TYPE.IMAGE&&"svg"!==t.extension)e();else{var n=t.data,r=t.url,i=t.name,o=t.metadata;m.q.fromLoader(n,r,i,o).then((function(n){t.texture=n,e()})).catch(e)}},t}();var j=self.URL||self.webkitURL;L.registerPlugin({use:function(t,e){if(t.data){if(t.xhr&&t.xhrType===C.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!==typeof t.data){if(0===t.data.type.indexOf("image")){var n=j.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=n,t.type=C.TYPE.IMAGE,void(t.data.onload=function(){j.revokeObjectURL(n),t.data.onload=null,e()})}}else{var r=t.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return t.data=new Image,t.data.src="data:"+r+";base64,"+function(t){for(var e="",n=0;n<t.length;){for(var r=[0,0,0],i=[0,0,0,0],o=0;o<r.length;++o)n<t.length?r[o]=255&t.charCodeAt(n++):r[o]=0;switch(i[0]=r[0]>>2,i[1]=(3&r[0])<<4|r[1]>>4,i[2]=(15&r[1])<<2|r[2]>>6,i[3]=63&r[2],n-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(o=0;o<i.length;++o)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[o])}return e}(t.xhr.responseText),t.type=C.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}}),L.registerPlugin(U);var B,G,z=n(0);!function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(G||(G={}));var V=((B={})[G.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,B[G.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,B[G.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,B[G.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,B[G.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,B[G.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,B[G.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,B[G.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,B[G.COMPRESSED_R11_EAC]=.5,B[G.COMPRESSED_SIGNED_R11_EAC]=.5,B[G.COMPRESSED_RG11_EAC]=1,B[G.COMPRESSED_SIGNED_RG11_EAC]=1,B[G.COMPRESSED_RGB8_ETC2]=.5,B[G.COMPRESSED_RGBA8_ETC2_EAC]=1,B[G.COMPRESSED_SRGB8_ETC2]=.5,B[G.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,B[G.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,B[G.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,B[G.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,B[G.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,B[G.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,B[G.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,B[G.COMPRESSED_RGB_ETC1_WEBGL]=.5,B[G.COMPRESSED_RGB_ATC_WEBGL]=.5,B[G.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,B[G.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,B),X=function(t,e){return X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},X(t,e)};function H(t,e){function n(){this.constructor=t}X(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function Y(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var W,q,K=function(t){function e(n,r){var i=t.call(this,n,r)||this;return i.format=r.format,i.levels=r.levels||1,i._width=r.width,i._height=r.height,i._extension=e._formatToExtension(i.format),(r.levelBuffers||i.buffer)&&(i._levelBuffers=r.levelBuffers||e._createLevelBuffers(n instanceof Uint8Array?n:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return H(e,t),e.prototype.upload=function(t,e,n){var r=t.gl;if(!t.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var i=0,o=this.levels;i<o;i++){var a=this._levelBuffers[i],s=a.levelID,u=a.levelWidth,l=a.levelHeight,c=a.levelBuffer;r.compressedTexImage2D(r.TEXTURE_2D,s,this.format,u,l,0,c)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t>=36196)return"etc1";if(t>=35986&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(t,e,n,r,i,o,a){for(var s=new Array(n),u=t.byteOffset,l=o,c=a,h=l+r-1&~(r-1),f=c+i-1&~(i-1),p=h*f*V[e],d=0;d<n;d++)s[d]={levelID:d,levelWidth:n>1?l:h,levelHeight:n>1?c:f,levelBuffer:new Uint8Array(t.buffer,u,p)},u+=p,p=(h=(l=l>>1||1)+r-1&~(r-1))*(f=(c=c>>1||1)+i-1&~(i-1))*V[e];return s},e}(function(t){function e(e,n){void 0===n&&(n={width:1,height:1,autoLoad:!0});var r,i,o=this;return"string"===typeof e?(r=e,i=new Uint8Array):(r=null,i=e),(o=t.call(this,i,n)||this).origin=r,o.buffer=i?new m.t(i):null,o.origin&&!1!==n.autoLoad&&o.load(),i&&i.length&&(o.loaded=!0,o.onBlobLoaded(o.buffer.rawBinaryData)),o}return H(e,t),e.prototype.onBlobLoaded=function(t){},e.prototype.load=function(){return t=this,e=void 0,r=function(){var t;return Y(this,(function(e){switch(e.label){case 0:return[4,fetch(this.origin)];case 1:return[4,e.sent().blob()];case 2:return[4,e.sent().arrayBuffer()];case 3:return t=e.sent(),this.data=new Uint32Array(t),this.buffer=new m.t(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),[2,this]}}))},new((n=Promise)||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}));var t,e,n,r},e}(m.g)),Z=function(){function t(){}return t.use=function(e,n){var i=e.data;if(e.type===C.TYPE.JSON&&i&&i.cacheID&&i.textures){for(var o=i.textures,a=void 0,s=void 0,u=0,l=o.length;u<l;u++){var c=o[u],h=c.src,f=c.format;if(f||(s=h),t.textureFormats[f]){a=h;break}}if(!(a=a||s))return void n(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));if(a===e.url)return void n(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var p={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=r.E.resolve(e.url.replace(this.baseUrl,""),a),v=i.cacheID;this.add(v,d,p,(function(t){if(t.error)n(t.error);else{var r=t.texture,i=void 0===r?null:r,o=t.textures,a=void 0===o?{}:o;Object.assign(e,{texture:i,textures:a}),n()}}))}else n()},t.add=function(){var e=document.createElement("canvas").getContext("webgl");if(e){var n={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};for(var r in t.textureExtensions=n,t.textureFormats={},n){var i=n[r];i&&Object.assign(t.textureFormats,Object.getPrototypeOf(i))}}else console.warn("WebGL not available for compressed textures. Silently failing.")},t}();function $(t,e,n){var r={textures:{},texture:null};return e?(e.map((function(t){return new m.q(new m.a(t,Object.assign({mipmap:z.k.OFF,alphaMode:z.a.NO_PREMULTIPLIED_ALPHA},n)))})).forEach((function(e,n){var i=e.baseTexture,o=t+"-"+(n+1);m.a.addToCache(i,o),m.q.addToCache(e,o),0===n&&(m.a.addToCache(i,t),m.q.addToCache(e,t),r.texture=e),r.textures[o]=e})),r):r}C.setExtensionXhrType("dds",C.XHR_RESPONSE_TYPE.BUFFER);var Q,J,tt=124,et=3,nt=4,rt=7,it=19,ot=2,at=0,st=1,ut=2,lt=3;!function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(Q||(Q={})),function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(J||(J={}));var ct,ht,ft,pt=((W={})[827611204]=G.COMPRESSED_RGBA_S3TC_DXT1_EXT,W[861165636]=G.COMPRESSED_RGBA_S3TC_DXT3_EXT,W[894720068]=G.COMPRESSED_RGBA_S3TC_DXT5_EXT,W),dt=((q={})[Q.DXGI_FORMAT_BC1_TYPELESS]=G.COMPRESSED_RGBA_S3TC_DXT1_EXT,q[Q.DXGI_FORMAT_BC1_UNORM]=G.COMPRESSED_RGBA_S3TC_DXT1_EXT,q[Q.DXGI_FORMAT_BC2_TYPELESS]=G.COMPRESSED_RGBA_S3TC_DXT3_EXT,q[Q.DXGI_FORMAT_BC2_UNORM]=G.COMPRESSED_RGBA_S3TC_DXT3_EXT,q[Q.DXGI_FORMAT_BC3_TYPELESS]=G.COMPRESSED_RGBA_S3TC_DXT5_EXT,q[Q.DXGI_FORMAT_BC3_UNORM]=G.COMPRESSED_RGBA_S3TC_DXT5_EXT,q[Q.DXGI_FORMAT_BC1_UNORM_SRGB]=G.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,q[Q.DXGI_FORMAT_BC2_UNORM_SRGB]=G.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,q[Q.DXGI_FORMAT_BC3_UNORM_SRGB]=G.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,q),vt=function(){function t(){}return t.use=function(e,n){if("dds"===e.extension&&e.data)try{Object.assign(e,$(e.name||e.url,t.parse(e.data),e.metadata))}catch(r){return void n(r)}n()},t.parse=function(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var n=new Uint32Array(t,0,tt/Uint32Array.BYTES_PER_ELEMENT),r=n[et],i=n[nt],o=n[rt],a=new Uint32Array(t,it*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),s=a[1];if(4&s){var u=a[ot];if(808540228!==u){var l=pt[u],c=new Uint8Array(t,128);return[new K(c,{format:l,width:i,height:r,levels:o})]}var h=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),f=h[at],p=h[st],d=h[ut],v=h[lt],m=dt[f];if(void 0===m)throw new Error("DDSLoader cannot parse texture data with DXGI format "+f);if(4===d)throw new Error("DDSLoader does not support cubemap textures");if(p===J.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var g=new Array;if(1===v)g.push(new Uint8Array(t,148));else{for(var y=V[m],_=0,b=i,x=r,w=0;w<o;w++){_+=Math.max(1,b+3&-4)*Math.max(1,x+3&-4)*y,b>>>=1,x>>>=1}var E=148;for(w=0;w<v;w++)g.push(new Uint8Array(t,E,_)),E+=_}return g.map((function(t){return new K(t,{format:m,width:i,height:r,levels:o})}))}if(64&s)throw new Error("DDSLoader does not support uncompressed texture data.");if(512&s)throw new Error("DDSLoader does not supported YUV uncompressed texture data.");if(131072&s)throw new Error("DDSLoader does not support single-channel (lumninance) texture data!");if(2&s)throw new Error("DDSLoader does not support single-channel (alpha) texture data!");throw new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}();C.setExtensionXhrType("ktx",C.XHR_RESPONSE_TYPE.BUFFER);var mt=[171,75,84,88,32,49,49,187,13,10,26,10],gt=12,yt=16,_t=24,bt=28,xt=36,wt=40,Et=44,Tt=48,St=52,At=56,Ot=60,Pt=((ct={})[z.r.UNSIGNED_BYTE]=1,ct[z.r.UNSIGNED_SHORT]=2,ct[z.r.INT]=4,ct[z.r.UNSIGNED_INT]=4,ct[z.r.FLOAT]=4,ct[z.r.HALF_FLOAT]=8,ct),Mt=((ht={})[z.h.RGBA]=4,ht[z.h.RGB]=3,ht[z.h.RG]=2,ht[z.h.RED]=1,ht[z.h.LUMINANCE]=1,ht[z.h.LUMINANCE_ALPHA]=2,ht[z.h.ALPHA]=1,ht),Ct=((ft={})[z.r.UNSIGNED_SHORT_4_4_4_4]=2,ft[z.r.UNSIGNED_SHORT_5_5_5_1]=2,ft[z.r.UNSIGNED_SHORT_5_6_5]=2,ft),Rt=function(){function t(){}return t.use=function(e,n){if("ktx"===e.extension&&e.data)try{var r=e.name||e.url,i=t.parse(r,e.data),o=i.compressed,a=i.uncompressed;if(o)Object.assign(e,$(r,o,e.metadata));else if(a){var s={};a.forEach((function(t,e){var n=new m.q(new m.a(t.resource,{mipmap:z.k.OFF,alphaMode:z.a.NO_PREMULTIPLIED_ALPHA,type:t.type,format:t.format})),i=r+"-"+(e+1);m.a.addToCache(n.baseTexture,i),m.q.addToCache(n,i),0===e&&(s[r]=n,m.a.addToCache(n.baseTexture,r),m.q.addToCache(n,r)),s[i]=n})),Object.assign(e,{textures:s})}}catch(u){return void n(u)}n()},t.parse=function(e,n){var r=new DataView(n);if(!t.validate(e,r))return null;var i=67305985===r.getUint32(gt,!0),o=r.getUint32(yt,i),a=r.getUint32(_t,i),s=r.getUint32(bt,i),u=r.getUint32(xt,i),l=r.getUint32(wt,i)||1,c=r.getUint32(Et,i)||1,h=r.getUint32(Tt,i)||1,f=r.getUint32(St,i),p=r.getUint32(At,i),d=r.getUint32(Ot,i);if(0===l||1!==c)throw new Error("Only 2D textures are supported");if(1!==f)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==h)throw new Error("WebGL does not support array textures");var v,g=u+3&-4,y=l+3&-4,_=new Array(h),b=u*l;if(0===o&&(b=g*y),void 0===(v=0!==o?Pt[o]?Pt[o]*Mt[a]:Ct[o]:V[s]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var x=b*v,w=u,E=l,T=g,S=y,A=64+d,O=0;O<p;O++){for(var P=r.getUint32(A,i),M=A+4,C=0;C<h;C++){var R=_[C];R||(R=_[C]=new Array(p)),R[O]={levelID:O,levelWidth:p>1||0!==o?w:T,levelHeight:p>1||0!==o?E:S,levelBuffer:new Uint8Array(n,M,x)},M+=x}A=(A+=P+4)%4!==0?A+4-A%4:A,x=(T=(w=w>>1||1)+4-1&-4)*(S=(E=E>>1||1)+4-1&-4)*v}return 0!==o?{uncompressed:_.map((function(e){var n=e[0].levelBuffer,r=!1;return o===z.r.FLOAT?n=new Float32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4):o===z.r.UNSIGNED_INT?(r=!0,n=new Uint32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)):o===z.r.INT&&(r=!0,n=new Int32Array(e[0].levelBuffer.buffer,e[0].levelBuffer.byteOffset,e[0].levelBuffer.byteLength/4)),{resource:new m.g(n,{width:e[0].levelWidth,height:e[0].levelHeight}),type:o,format:r?t.convertFormatToInteger(a):a}}))}:{compressed:_.map((function(t){return new K(null,{format:s,width:u,height:l,levels:p,levelBuffers:t})}))}},t.validate=function(t,e){for(var n=0;n<mt.length;n++)if(e.getUint8(n)!==mt[n])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},t.convertFormatToInteger=function(t){switch(t){case z.h.RGBA:return z.h.RGBA_INTEGER;case z.h.RGB:return z.h.RGB_INTEGER;case z.h.RG:return z.h.RG_INTEGER;case z.h.RED:return z.h.RED_INTEGER;default:return t}},t}(),It=function(t,e){return It=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},It(t,e)};function Nt(t,e){function n(){this.constructor=t}It(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}!function(t){function e(e,n,r,i){void 0===e&&(e=1500),void 0===r&&(r=16384),void 0===i&&(i=!1);var o=t.call(this)||this;return r>16384&&(r=16384),o._properties=[!1,!0,!1,!1,!1],o._maxSize=e,o._batchSize=r,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=z.b.NORMAL,o.autoResize=i,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}Nt(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,Object(r.m)(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}(i.b);var kt,Dt,Lt=function(){function t(t,e,n){this.geometry=new m.i,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var i=t[r];i={attributeName:i.attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||z.r.FLOAT,offset:i.offset},e[r]?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new m.f(Object(r.g)(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){(s=this.dynamicProperties[n]).offset=e,e+=s.size,this.dynamicStride+=s.size}var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new m.f(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(n=0;n<this.staticProperties.length;++n){(s=this.staticProperties[n]).offset=o,o+=s.size,this.staticStride+=s.size}var a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new m.f(this.staticData,!0,!1);for(n=0;n<this.dynamicProperties.length;++n){var s=this.dynamicProperties[n];t.addAttribute(s.attributeName,this.dynamicBuffer,0,s.type===z.r.UNSIGNED_BYTE,s.type,4*this.dynamicStride,4*s.offset)}for(n=0;n<this.staticProperties.length;++n){s=this.staticProperties[n];t.addAttribute(s.attributeName,this.staticBuffer,0,s.type===z.r.UNSIGNED_BYTE,s.type,4*this.staticStride,4*s.offset)}},t.prototype.uploadDynamic=function(t,e,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(t,e,n,i.type===z.r.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(t,e,n,i.type===z.r.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),Ft=function(t){function e(e){var n=t.call(this,e)||this;return n.shader=null,n.properties=null,n.tempMatrix=new a.d,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:z.r.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=m.o.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),n.state=m.p.for2d(),n}return Nt(e,t),e.prototype.render=function(t){var e=t.children,n=t._maxSize,i=t._batchSize,o=this.renderer,a=e.length;if(0!==a){a>n&&!t.autoResize&&(a=n);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var u=e[0]._texture.baseTexture;this.state.blendMode=Object(r.f)(t.blendMode,u.alphaMode),o.state.set(this.state);var l=o.gl,c=t.worldTransform.copyTo(this.tempMatrix);c.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=Object(r.u)(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,u.alphaMode),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);for(var h=!1,f=0,p=0;f<a;f+=i,p+=1){var d=a-f;d>i&&(d=i),p>=s.length&&s.push(this._generateOneMoreBuffer(t));var v=s[p];v.uploadDynamic(e,f,d);var m=t._bufferUpdateIDs[p]||0;(h=h||v._updateID<m)&&(v._updateID=t._updateID,v.uploadStatic(e,f,d)),o.geometry.bind(v.geometry),l.drawElements(l.TRIANGLES,6*d,l.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],n=t._maxSize,r=t._batchSize,i=t._properties,o=0;o<n;o+=r)e.push(new Lt(this.properties,i,r));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,n=t._properties;return new Lt(this.properties,n,e)},e.prototype.uploadVertices=function(t,e,n,r,i,o){for(var a=0,s=0,u=0,l=0,c=0;c<n;++c){var h=t[e+c],f=h._texture,p=h.scale.x,d=h.scale.y,v=f.trim,m=f.orig;v?(a=(s=v.x-h.anchor.x*m.width)+v.width,u=(l=v.y-h.anchor.y*m.height)+v.height):(a=m.width*(1-h.anchor.x),s=m.width*-h.anchor.x,u=m.height*(1-h.anchor.y),l=m.height*-h.anchor.y),r[o]=s*p,r[o+1]=l*d,r[o+i]=a*p,r[o+i+1]=l*d,r[o+2*i]=a*p,r[o+2*i+1]=u*d,r[o+3*i]=s*p,r[o+3*i+1]=u*d,o+=4*i}},e.prototype.uploadPosition=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=t[e+a].position;r[o]=s.x,r[o+1]=s.y,r[o+i]=s.x,r[o+i+1]=s.y,r[o+2*i]=s.x,r[o+2*i+1]=s.y,r[o+3*i]=s.x,r[o+3*i+1]=s.y,o+=4*i}},e.prototype.uploadRotation=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=t[e+a].rotation;r[o]=s,r[o+i]=s,r[o+2*i]=s,r[o+3*i]=s,o+=4*i}},e.prototype.uploadUvs=function(t,e,n,r,i,o){for(var a=0;a<n;++a){var s=t[e+a]._texture._uvs;s?(r[o]=s.x0,r[o+1]=s.y0,r[o+i]=s.x1,r[o+i+1]=s.y1,r[o+2*i]=s.x2,r[o+2*i+1]=s.y2,r[o+3*i]=s.x3,r[o+3*i+1]=s.y3,o+=4*i):(r[o]=0,r[o+1]=0,r[o+i]=0,r[o+i+1]=0,r[o+2*i]=0,r[o+2*i+1]=0,r[o+3*i]=0,r[o+3*i+1]=0,o+=4*i)}},e.prototype.uploadTint=function(t,e,n,i,o,a){for(var s=0;s<n;++s){var u=t[e+s],l=u._texture.baseTexture.alphaMode>0,c=u.alpha,h=c<1&&l?Object(r.v)(u._tintRGB,c):u._tintRGB+(255*c<<24);i[a]=h,i[a+o]=h,i[a+2*o]=h,i[a+3*o]=h,a+=4*o}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(m.j),Ut=n(10);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(kt||(kt={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(Dt||(Dt={}));var jt={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},Bt=function(){function t(){this.color=16777215,this.alpha=1,this.texture=m.q.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=m.q.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),Gt=function(t,e){return Gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Gt(t,e)};function zt(t,e){function n(){this.constructor=t}Gt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function Vt(t,e){var n,r;void 0===e&&(e=!1);var i=t.length;if(!(i<6)){for(var o=0,a=0,s=t[i-2],u=t[i-1];a<i;a+=2){var l=t[a],c=t[a+1];o+=(l-s)*(c+u),s=l,u=c}if(!e&&o>0||e&&o<=0){var h=i/2;for(a=h+h%2;a<i;a+=2){var f=i-a-2,p=i-a-1,d=a,v=a+1;n=[t[d],t[f]],t[f]=n[0],t[d]=n[1],r=[t[v],t[p]],t[p]=r[0],t[v]=r[1]}}}}var Xt={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var n=t.points,i=t.holes,o=e.points,a=e.indices;if(n.length>=6){Vt(n,!1);for(var s=[],u=0;u<i.length;u++){var l=i[u];Vt(l.points,!0),s.push(n.length/2),n=n.concat(l.points)}var c=Object(r.j)(n,s,2);if(!c)return;var h=o.length/2;for(u=0;u<c.length;u+=3)a.push(c[u]+h),a.push(c[u+1]+h),a.push(c[u+2]+h);for(u=0;u<n.length;u++)o.push(n[u])}}},Ht={build:function(t){var e,n,r,i,o,s,u=t.points;if(t.type===a.l.CIRC){var l=t.shape;e=l.x,n=l.y,o=s=l.radius,r=i=0}else if(t.type===a.l.ELIP){var c=t.shape;e=c.x,n=c.y,o=c.width,s=c.height,r=i=0}else{var h=t.shape,f=h.width/2,p=h.height/2;e=h.x+f,n=h.y+p,r=f-(o=s=Math.max(0,Math.min(h.radius,Math.min(f,p)))),i=p-s}var d=Math.ceil(2.3*Math.sqrt(o+s)),v=8*d+(r?4:0)+(i?4:0);if(u.length=v,0!==v){if(0===d)return u.length=8,u[0]=u[6]=e+r,u[1]=u[3]=n+i,u[2]=u[4]=e-r,void(u[5]=u[7]=n-i);var m=0,g=4*d+(r?2:0)+2,y=g,_=v,b=e+(A=r+o),x=e-A,w=n+(O=i);if(u[m++]=b,u[m++]=w,u[--g]=w,u[--g]=x,i){var E=n-O;u[y++]=x,u[y++]=E,u[--_]=E,u[--_]=b}for(var T=1;T<d;T++){var S=Math.PI/2*(T/d);b=e+(A=r+Math.cos(S)*o),x=e-A,w=n+(O=i+Math.sin(S)*s),E=n-O;u[m++]=b,u[m++]=w,u[--g]=w,u[--g]=x,u[y++]=x,u[y++]=E,u[--_]=E,u[--_]=b}var A,O;b=e+(A=r),x=e-A,w=n+(O=i+s),E=n-O;u[m++]=b,u[m++]=w,u[--_]=E,u[--_]=b,r&&(u[m++]=x,u[m++]=w,u[--_]=E,u[--_]=x)}},triangulate:function(t,e){var n,r,i=t.points,o=e.points,s=e.indices,u=o.length/2,l=u;if(t.type!==a.l.RREC){var c=t.shape;n=c.x,r=c.y}else{var h=t.shape;n=h.x+h.width/2,r=h.y+h.height/2}var f=t.matrix;o.push(t.matrix?f.a*n+f.c*r+f.tx:n,t.matrix?f.b*n+f.d*r+f.ty:r),u++,o.push(i[0],i[1]);for(var p=2;p<i.length;p+=2)o.push(i[p],i[p+1]),s.push(u++,l,u);s.push(l+1,l,u)}},Yt={build:function(t){var e=t.shape,n=e.x,r=e.y,i=e.width,o=e.height,a=t.points;a.length=0,a.push(n,r,n+i,r,n+i,r+o,n,r+o)},triangulate:function(t,e){var n=t.points,r=e.points,i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Wt(t,e,n){return t+(e-t)*n}function qt(t,e,n,r,i,o,a){void 0===a&&(a=[]);for(var s=a,u=0,l=0,c=0,h=0,f=0,p=0,d=0,v=0;d<=20;++d)u=Wt(t,n,v=d/20),l=Wt(e,r,v),c=Wt(n,i,v),h=Wt(r,o,v),f=Wt(u,c,v),p=Wt(l,h,v),0===d&&s[s.length-2]===f&&s[s.length-1]===p||s.push(f,p);return s}var Kt={build:function(t){if(de.nextRoundedRectBehavior)Ht.build(t);else{var e=t.shape,n=t.points,r=e.x,i=e.y,o=e.width,a=e.height,s=Math.max(0,Math.min(e.radius,Math.min(o,a)/2));n.length=0,s?(qt(r,i+s,r,i,r+s,i,n),qt(r+o-s,i,r+o,i,r+o,i+s,n),qt(r+o,i+a-s,r+o,i+a,r+o-s,i+a,n),qt(r+s,i+a,r,i+a,r,i+a-s,n)):n.push(r,i,r+o,i,r+o,i+a,r,i+a)}},triangulate:function(t,e){if(de.nextRoundedRectBehavior)Ht.triangulate(t,e);else{for(var n=t.points,i=e.points,o=e.indices,a=i.length/2,s=Object(r.j)(n,null,2),u=0,l=s.length;u<l;u+=3)o.push(s[u]+a),o.push(s[u+1]+a),o.push(s[u+2]+a);for(u=0,l=n.length;u<l;u++)i.push(n[u],n[++u])}}};function Zt(t,e,n,r,i,o,a,s){var u,l;a?(u=r,l=-n):(u=-r,l=n);var c=t-n*i+u,h=e-r*i+l,f=t+n*o+u,p=e+r*o+l;return s.push(c,h),s.push(f,p),2}function $t(t,e,n,r,i,o,a,s){var u=n-t,l=r-e,c=Math.atan2(u,l),h=Math.atan2(i-t,o-e);s&&c<h?c+=2*Math.PI:!s&&c>h&&(h+=2*Math.PI);var f=c,p=h-c,d=Math.abs(p),v=Math.sqrt(u*u+l*l),m=1+(15*d*Math.sqrt(v)/Math.PI>>0),g=p/m;if(f+=g,s){a.push(t,e),a.push(n,r);for(var y=1,_=f;y<m;y++,_+=g)a.push(t,e),a.push(t+Math.sin(_)*v,e+Math.cos(_)*v);a.push(t,e),a.push(i,o)}else{a.push(n,r),a.push(t,e);for(y=1,_=f;y<m;y++,_+=g)a.push(t+Math.sin(_)*v,e+Math.cos(_)*v),a.push(t,e);a.push(i,o),a.push(t,e)}return 2*m}function Qt(t,e){t.lineStyle.native?function(t,e){var n=0,r=t.shape,i=t.points||r.points,o=r.type!==a.l.POLY||r.closeStroke;if(0!==i.length){var s=e.points,u=e.indices,l=i.length/2,c=s.length/2,h=c;for(s.push(i[0],i[1]),n=1;n<l;n++)s.push(i[2*n],i[2*n+1]),u.push(h,h+1),h++;o&&u.push(h,c)}}(t,e):function(t,e){var n=t.shape,r=t.points||n.points.slice(),i=e.closePointEps;if(0!==r.length){var o=t.lineStyle,s=new a.g(r[0],r[1]),u=new a.g(r[r.length-2],r[r.length-1]),l=n.type!==a.l.POLY||n.closeStroke,c=Math.abs(s.x-u.x)<i&&Math.abs(s.y-u.y)<i;if(l){r=r.slice(),c&&(r.pop(),r.pop(),u.set(r[r.length-2],r[r.length-1]));var h=.5*(s.x+u.x),f=.5*(u.y+s.y);r.unshift(h,f),r.push(h,f)}var p=e.points,d=r.length/2,v=r.length,m=p.length/2,g=o.width/2,y=g*g,_=o.miterLimit*o.miterLimit,b=r[0],x=r[1],w=r[2],E=r[3],T=0,S=0,A=-(x-E),O=b-w,P=0,M=0,C=Math.sqrt(A*A+O*O);A/=C,O/=C,A*=g,O*=g;var R=o.alignment,I=2*(1-R),N=2*R;l||(o.cap===Dt.ROUND?v+=$t(b-A*(I-N)*.5,x-O*(I-N)*.5,b-A*I,x-O*I,b+A*N,x+O*N,p,!0)+2:o.cap===Dt.SQUARE&&(v+=Zt(b,x,A,O,I,N,!0,p))),p.push(b-A*I,x-O*I),p.push(b+A*N,x+O*N);for(var k=1;k<d-1;++k){b=r[2*(k-1)],x=r[2*(k-1)+1],w=r[2*k],E=r[2*k+1],T=r[2*(k+1)],S=r[2*(k+1)+1],A=-(x-E),O=b-w,A/=C=Math.sqrt(A*A+O*O),O/=C,A*=g,O*=g,P=-(E-S),M=w-T,P/=C=Math.sqrt(P*P+M*M),M/=C,P*=g,M*=g;var D=w-b,L=x-E,F=w-T,U=S-E,j=L*F-U*D,B=j<0;if(Math.abs(j)<.1)p.push(w-A*I,E-O*I),p.push(w+A*N,E+O*N);else{var G=(-A+b)*(-O+E)-(-A+w)*(-O+x),z=(-P+T)*(-M+E)-(-P+w)*(-M+S),V=(D*z-F*G)/j,X=(U*G-L*z)/j,H=(V-w)*(V-w)+(X-E)*(X-E),Y=w+(V-w)*I,W=E+(X-E)*I,q=w-(V-w)*N,K=E-(X-E)*N,Z=B?I:N;H<=Math.min(D*D+L*L,F*F+U*U)+Z*Z*y?o.join===kt.BEVEL||H/y>_?(B?(p.push(Y,W),p.push(w+A*N,E+O*N),p.push(Y,W),p.push(w+P*N,E+M*N)):(p.push(w-A*I,E-O*I),p.push(q,K),p.push(w-P*I,E-M*I),p.push(q,K)),v+=2):o.join===kt.ROUND?B?(p.push(Y,W),p.push(w+A*N,E+O*N),v+=$t(w,E,w+A*N,E+O*N,w+P*N,E+M*N,p,!0)+4,p.push(Y,W),p.push(w+P*N,E+M*N)):(p.push(w-A*I,E-O*I),p.push(q,K),v+=$t(w,E,w-A*I,E-O*I,w-P*I,E-M*I,p,!1)+4,p.push(w-P*I,E-M*I),p.push(q,K)):(p.push(Y,W),p.push(q,K)):(p.push(w-A*I,E-O*I),p.push(w+A*N,E+O*N),o.join===kt.BEVEL||H/y>_||(o.join===kt.ROUND?v+=B?$t(w,E,w+A*N,E+O*N,w+P*N,E+M*N,p,!0)+2:$t(w,E,w-A*I,E-O*I,w-P*I,E-M*I,p,!1)+2:(B?(p.push(q,K),p.push(q,K)):(p.push(Y,W),p.push(Y,W)),v+=2)),p.push(w-P*I,E-M*I),p.push(w+P*N,E+M*N),v+=2)}}b=r[2*(d-2)],x=r[2*(d-2)+1],w=r[2*(d-1)],A=-(x-(E=r[2*(d-1)+1])),O=b-w,A/=C=Math.sqrt(A*A+O*O),O/=C,A*=g,O*=g,p.push(w-A*I,E-O*I),p.push(w+A*N,E+O*N),l||(o.cap===Dt.ROUND?v+=$t(w-A*(I-N)*.5,E-O*(I-N)*.5,w-A*I,E-O*I,w+A*N,E+O*N,p,!1)+2:o.cap===Dt.SQUARE&&(v+=Zt(w,E,A,O,I,N,!1,p)));var $=e.indices,Q=jt.epsilon*jt.epsilon;for(k=m;k<v+m-2;++k)b=p[2*k],x=p[2*k+1],w=p[2*(k+1)],E=p[2*(k+1)+1],T=p[2*(k+2)],S=p[2*(k+2)+1],Math.abs(b*(E-S)+w*(S-x)+T*(x-E))<Q||$.push(k,k+1,k+2)}}(t,e)}var Jt,te=function(){function t(){}return t.curveTo=function(t,e,n,r,i,o){var a=o[o.length-2],s=o[o.length-1]-e,u=a-t,l=r-e,c=n-t,h=Math.abs(s*c-u*l);if(h<1e-8||0===i)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var f=s*s+u*u,p=l*l+c*c,d=s*l+u*c,v=i*Math.sqrt(f)/h,m=i*Math.sqrt(p)/h,g=v*d/f,y=m*d/p,_=v*c+m*u,b=v*l+m*s,x=u*(m+g),w=s*(m+g),E=c*(v+y),T=l*(v+y);return{cx:_+t,cy:b+e,radius:i,startAngle:Math.atan2(w-b,x-_),endAngle:Math.atan2(T-b,E-_),anticlockwise:u*l>c*s}},t.arc=function(t,e,n,r,i,o,s,u,l){for(var c=s-o,h=jt._segmentsCount(Math.abs(c)*i,40*Math.ceil(Math.abs(c)/a.f)),f=c/(2*h),p=2*f,d=Math.cos(f),v=Math.sin(f),m=h-1,g=m%1/m,y=0;y<=m;++y){var _=f+o+p*(y+g*y),b=Math.cos(_),x=-Math.sin(_);l.push((d*b+v*x)*i+n,(d*-x+v*b)*i+r)}},t}(),ee=function(){function t(){}return t.curveLength=function(t,e,n,r,i,o,a,s){for(var u=0,l=0,c=0,h=0,f=0,p=0,d=0,v=0,m=0,g=0,y=0,_=t,b=e,x=1;x<=10;++x)g=_-(v=(d=(p=(f=1-(l=x/10))*f)*f)*t+3*p*l*n+3*f*(c=l*l)*i+(h=c*l)*a),y=b-(m=d*e+3*p*l*r+3*f*c*o+h*s),_=v,b=m,u+=Math.sqrt(g*g+y*y);return u},t.curveTo=function(e,n,r,i,o,a,s){var u=s[s.length-2],l=s[s.length-1];s.length-=2;var c=jt._segmentsCount(t.curveLength(u,l,e,n,r,i,o,a)),h=0,f=0,p=0,d=0,v=0;s.push(u,l);for(var m=1,g=0;m<=c;++m)p=(f=(h=1-(g=m/c))*h)*h,v=(d=g*g)*g,s.push(p*u+3*f*g*e+3*h*d*r+v*o,p*l+3*f*g*n+3*h*d*i+v*a)},t}(),ne=function(){function t(){}return t.curveLength=function(t,e,n,r,i,o){var a=t-2*n+i,s=e-2*r+o,u=2*n-2*t,l=2*r-2*e,c=4*(a*a+s*s),h=4*(a*u+s*l),f=u*u+l*l,p=2*Math.sqrt(c+h+f),d=Math.sqrt(c),v=2*c*d,m=2*Math.sqrt(f),g=h/d;return(v*p+d*h*(p-m)+(4*f*c-h*h)*Math.log((2*d+g+p)/(g+m)))/(4*v)},t.curveTo=function(e,n,r,i,o){for(var a=o[o.length-2],s=o[o.length-1],u=jt._segmentsCount(t.curveLength(a,s,e,n,r,i)),l=0,c=0,h=1;h<=u;++h){var f=h/u;l=a+(e-a)*f,c=s+(n-s)*f,o.push(l+(e+(r-e)*f-l)*f,c+(n+(i-n)*f-c)*f)}},t}(),re=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,n){this.reset(),this.style=t,this.start=e,this.attribStart=n},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),ie=((Jt={})[a.l.POLY]=Xt,Jt[a.l.CIRC]=Ht,Jt[a.l.ELIP]=Ht,Jt[a.l.RECT]=Yt,Jt[a.l.RREC]=Kt,Jt),oe=[],ae=[],se=function(){function t(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=n,this.fillStyle=e,this.matrix=r,this.type=t.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),ue=new a.g,le=new i.a,ce=function(t){function e(){var e=t.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new i.a,e.boundsDirty=-1,e}return zt(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),ae.push(this.drawCalls[t]);this.drawCalls.length=0;for(t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),oe.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null);var i=new se(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var n=new se(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,n=0;n<e.length;++n){var r=e[n];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(t,ue):ue.copyFrom(t),r.shape.contains(ue.x,ue.y)))){var i=!1;if(r.holes)for(var o=0;o<r.holes.length;o++){if(r.holes[o].shape.contains(ue.x,ue.y)){i=!0;break}}if(!i)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,n=this.graphicsData,r=null,i=null;this.batches.length>0&&(i=(r=this.batches[this.batches.length-1]).style);for(var o=this.shapeIndex;o<n.length;o++){this.shapeIndex++;var a=n[o],s=a.fillStyle,u=a.lineStyle;ie[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix),(s.visible||u.visible)&&this.processHoles(a.holes);for(var l=0;l<2;l++){var c=0===l?s:u;if(c.visible){var h=c.texture.baseTexture,f=this.indices.length,p=this.points.length/2;h.wrapMode=z.s.REPEAT,0===l?this.processFill(a):this.processLine(a);var d=this.points.length/2-p;0!==d&&(r&&!this._compareStyles(i,c)&&(r.end(f,p),r=null),r||((r=oe.pop()||new re).begin(c,f,p),this.batches.push(r),i=c),this.addUvs(this.points,e,c.texture,p,d,c.matrix))}}}var v=this.indices.length,m=this.points.length/2;if(r&&r.end(v,m),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var g=m>65535&&t;this.indicesUint16=g?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native===!!e.native))},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,n=t.length;e<n;e++)for(var r=t[e],i=0;i<r.size;i++){var o=r.start+i;this.indicesUint16[o]=this.indicesUint16[o]-r.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,n=0;n<t.length;n++)if(t[n].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++m.a._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),ae.push(this.drawCalls[e]);this.drawCalls.length=0;var n=this.colors,r=this.textureIds,i=ae.pop();i||((i=new m.b).texArray=new m.e),i.texArray.count=0,i.start=0,i.size=0,i.type=z.f.TRIANGLES;var o=0,a=null,s=0,u=!1,l=z.f.TRIANGLES,c=0;this.drawCalls.push(i);for(e=0;e<this.batches.length;e++){var h=this.batches[e],f=h.style,p=f.texture.baseTexture;u!==!!f.native&&(l=(u=!!f.native)?z.f.LINES:z.f.TRIANGLES,a=null,o=8,t++),a!==p&&(a=p,p._batchEnabled!==t&&(8===o&&(t++,o=0,i.size>0&&((i=ae.pop())||((i=new m.b).texArray=new m.e),this.drawCalls.push(i)),i.start=c,i.size=0,i.texArray.count=0,i.type=l),p.touched=1,p._batchEnabled=t,p._batchLocation=o,p.wrapMode=z.s.REPEAT,i.texArray.elements[i.texArray.count++]=p,o++)),i.size+=h.size,c+=h.size,s=p._batchLocation,this.addColors(n,f.color,f.alpha,h.attribSize,h.attribStart),this.addTextureIds(r,s,h.attribSize,h.attribStart)}m.a._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(3*t.length*4),o=new Float32Array(i),a=new Uint32Array(i),s=0,u=0;u<t.length/2;u++)o[s++]=t[2*u],o[s++]=t[2*u+1],o[s++]=e[2*u],o[s++]=e[2*u+1],a[s++]=n[u],o[s++]=r[u];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?Xt.triangulate(t,this):ie[t.type].triangulate(t,this)},e.prototype.processLine=function(t){Qt(t,this);for(var e=0;e<t.holes.length;e++)Qt(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var n=t[e];ie[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=le,n=a.d.IDENTITY;this._bounds.clear(),e.clear();for(var r=0;r<this.graphicsData.length;r++){var i=this.graphicsData[r],o=i.shape,s=i.type,u=i.lineStyle,l=i.matrix||a.d.IDENTITY,c=0;if(u&&u.visible&&(c=u.width*Math.max(0,u.alignment)),n!==l&&(e.isEmpty()||(t.addBoundsMatrix(e,n),e.clear()),n=l),s===a.l.RECT||s===a.l.RREC){var h=o;e.addFramePad(h.x,h.y,h.x+h.width,h.y+h.height,c,c)}else if(s===a.l.CIRC){var f=o;e.addFramePad(f.x,f.y,f.x,f.y,f.radius+c,f.radius+c)}else if(s===a.l.ELIP){var p=o;e.addFramePad(p.x,p.y,p.x,p.y,p.width+c,p.height+c)}else{var d=o;t.addVerticesMatrix(n,d.points,0,d.points.length,c,c)}}e.isEmpty()||t.addBoundsMatrix(e,n),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var n=0;n<t.length/2;n++){var r=t[2*n],i=t[2*n+1];t[2*n]=e.a*r+e.c*i+e.tx,t[2*n+1]=e.b*r+e.d*i+e.ty}},e.prototype.addColors=function(t,e,n,i,o){void 0===o&&(o=0);var a=(e>>16)+(65280&e)+((255&e)<<16),s=Object(r.v)(a,n);t.length=Math.max(t.length,o+i);for(var u=0;u<i;u++)t[o+u]=s},e.prototype.addTextureIds=function(t,e,n,r){void 0===r&&(r=0),t.length=Math.max(t.length,r+n);for(var i=0;i<n;i++)t[r+i]=e},e.prototype.addUvs=function(t,e,n,r,i,o){void 0===o&&(o=null);for(var a=0,s=e.length,u=n.frame;a<i;){var l=t[2*(r+a)],c=t[2*(r+a)+1];if(o){var h=o.a*l+o.c*c+o.tx;c=o.b*l+o.d*c+o.ty,l=h}a++,e.push(l/u.width,c/u.height)}var f=n.baseTexture;(u.width<f.width||u.height<f.height)&&this.adjustUvs(e,n,s,i)},e.prototype.adjustUvs=function(t,e,n,r){for(var i=e.baseTexture,o=1e-6,a=n+2*r,s=e.frame,u=s.width/i.width,l=s.height/i.height,c=s.x/s.width,h=s.y/s.height,f=Math.floor(t[n]+o),p=Math.floor(t[n+1]+o),d=n+2;d<a;d+=2)f=Math.min(f,Math.floor(t[d]+o)),p=Math.min(p,Math.floor(t[d+1]+o));c-=f,h-=p;for(d=n;d<a;d+=2)t[d]=(t[d]+c)*u,t[d+1]=(t[d+1]+h)*l},e.BATCHABLE_SIZE=100,e}(m.c),he=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=Dt.BUTT,e.join=kt.MITER,e.miterLimit=10,e}return zt(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(Bt),fe=new Float32Array(3),pe={},de=function(t){function e(e){void 0===e&&(e=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new Bt,n._lineStyle=new he,n._matrix=null,n._holeMode=!1,n.state=m.p.for2d(),n._geometry=e||new ce,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=z.b.NORMAL,n}return zt(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t,e,n,r,i){return void 0===t&&(t=null),void 0===e&&(e=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===i&&(i=!1),"number"===typeof t&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:m.q.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Dt.BUTT,join:kt.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new a.h,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new a.h,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return r===t&&i===e||n.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,n,r){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),ne.curveTo(t,e,n,r,i),this},e.prototype.bezierCurveTo=function(t,e,n,r,i,o){return this._initCurve(),ee.curveTo(t,e,n,r,i,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,n,r,i){this._initCurve(t,e);var o=this.currentPath.points,a=te.curveTo(t,e,n,r,i,o);if(a){var s=a.cx,u=a.cy,l=a.radius,c=a.startAngle,h=a.endAngle,f=a.anticlockwise;this.arc(s,u,l,c,h,f)}return this},e.prototype.arc=function(t,e,n,r,i,o){if(void 0===o&&(o=!1),r===i)return this;if(!o&&i<=r?i+=a.f:o&&r<=i&&(r+=a.f),0===i-r)return this;var s=t+Math.cos(r)*n,u=e+Math.sin(r)*n,l=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;if(c){var h=Math.abs(c[c.length-2]-s),f=Math.abs(c[c.length-1]-u);h<l&&f<l||c.push(s,u)}else this.moveTo(s,u),c=this.currentPath.points;return te.arc(s,u,t,e,n,r,i,o,c),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:m.q.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){t=Object.assign({texture:m.q.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,n,r){return this.drawShape(new a.j(t,e,n,r))},e.prototype.drawRoundedRect=function(t,e,n,r,i){return this.drawShape(new a.k(t,e,n,r,i))},e.prototype.drawCircle=function(t,e,n){return this.drawShape(new a.a(t,e,n))},e.prototype.drawEllipse=function(t,e,n,r){return this.drawShape(new a.c(t,e,n,r))},e.prototype.drawPolygon=function(){for(var t,e=arguments,n=[],r=0;r<arguments.length;r++)n[r]=e[r];var i=!0,o=n[0];o.points?(i=o.closeStroke,t=o.points):t=Array.isArray(n[0])?n[0]:n;var s=new a.h(t);return s.closeStroke=i,this.drawShape(s),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===a.l.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,n=t.context.supports.uint32Indices;e.updateBatches(n),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(var i=0;i<n;i++){var o=t.batches[i],a=o.style.color,s=new Float32Array(this.vertexData.buffer,4*o.attribStart*2,2*o.attribSize),u=new Float32Array(t.uvsFloat32.buffer,4*o.attribStart*2,2*o.attribSize),l={vertexData:s,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*o.start,o.size),uvs:u,_batchRGB:Object(r.m)(a),_tintRGB:a,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[i]=l}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,n=this.batches.length;e<n;e++){var r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,o=e.uniforms,a=n.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(r>>16&255)/255*i,o.tint[1]=(r>>8&255)/255*i,o.tint[2]=(255&r)/255*i,o.tint[3]=i,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(var s=0,u=a.length;s<u;s++)this._renderDrawCallDirect(t,n.drawCalls[s])},e.prototype._renderDrawCallDirect=function(t,e){for(var n=e.texArray,r=e.type,i=e.size,o=e.start,a=n.count,s=0;s<a;s++)t.texture.bind(n.elements[s],s);t.geometry.draw(r,i,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,n=this.pluginName;if(!e){if(!pe[n]){for(var r=t.plugins.batch.MAX_TEXTURES,i=new Int32Array(r),o=0;o<r;o++)i[o]=o;var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new a.d,default:m.s.from({uSamplers:i},!0)},u=t.plugins[n]._shader.program;pe[n]=new m.o(u,s)}e=pe[n]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,n=e.minX,r=e.minY,i=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,n,r,i,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=Object(r.m)(this.tint,fe),e=0;e<this.batches.length;e++){var n=this.batches[e],i=n._batchRGB,o=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);n._tintRGB=(o>>16)+(65280&o)+((255&o)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,u=this._geometry.points,l=this.vertexData,c=0,h=0;h<u.length;h+=2){var f=u[h],p=u[h+1];l[c++]=n*f+i*p+a,l[c++]=o*p+r*f+s}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new a.g,e}(i.b),ve=function(t,e){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},ve(t,e)};var me,ge=new a.g,ye=new Uint16Array([0,1,2,0,2,3]),_e=function(t){function e(e){var n=t.call(this)||this;return n._anchor=new a.e(n._onAnchorUpdate,n,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=z.b.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=e||m.q.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=ye,n.pluginName="batch",n.isSprite=!0,n._roundPixels=Ut.b.ROUND_PIXELS,n}return function(t,e){function n(){this.constructor=t}ve(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Object(r.A)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Object(r.A)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,o=e.d,a=e.tx,s=e.ty,u=this.vertexData,l=t.trim,c=t.orig,h=this._anchor,f=0,p=0,d=0,v=0;if(l?(f=(p=l.x-h._x*c.width)+l.width,d=(v=l.y-h._y*c.height)+l.height):(f=(p=-h._x*c.width)+c.width,d=(v=-h._y*c.height)+c.height),u[0]=n*p+i*v+a,u[1]=o*v+r*p+s,u[2]=n*f+i*v+a,u[3]=o*v+r*f+s,u[4]=n*f+i*d+a,u[5]=o*d+r*f+s,u[6]=n*p+i*d+a,u[7]=o*d+r*p+s,this._roundPixels)for(var m=Ut.b.RESOLUTION,g=0;g<u.length;++g)u[g]=Math.round((u[g]*m|0)/m)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,n=t.orig,r=this._anchor,i=this.transform.worldTransform,o=i.a,a=i.b,s=i.c,u=i.d,l=i.tx,c=i.ty,h=-r._x*n.width,f=h+n.width,p=-r._y*n.height,d=p+n.height;e[0]=o*h+s*p+l,e[1]=u*p+a*h+c,e[2]=o*f+s*p+l,e[3]=u*p+a*f+c,e[4]=o*f+s*d+l,e[5]=u*d+a*f+c,e[6]=o*h+s*d+l,e[7]=u*d+a*h+c},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new i.a),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new a.j),e=this._localBoundsRect),this._localBounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,ge);var e=this._texture.orig.width,n=this._texture.orig.height,r=-e*this.anchor.x,i=0;return ge.x>=r&&ge.x<r+e&&(i=-n*this.anchor.y,ge.y>=i&&ge.y<i+n)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"===typeof e?e:e&&e.texture){var n="boolean"===typeof e?e:e&&e.baseTexture;this._texture.destroy(!!n)}this._texture=null},e.from=function(t,n){return new e(t instanceof m.q?t:m.q.from(t,n))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=Object(r.A)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=Object(r.A)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||m.q.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(i.b),be=function(t,e){return be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},be(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(me||(me={}));var xe={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:me.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},we=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Ee=function(){function t(t){this.styleID=0,this.reset(),Ae(this,t,t)}return t.prototype.clone=function(){var e={};return Ae(e,this,xe),new t(e)},t.prototype.reset=function(){Ae(this,xe,xe)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=Se(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=Se(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=Se(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"===typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var n=e.length-1;n>=0;n--){var r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&we.indexOf(r)<0&&(r='"'+r+'"'),e[n]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function Te(t){return"number"===typeof t?Object(r.n)(t):("string"===typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function Se(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Te(t[e]);return t}return Te(t)}function Ae(t,e,n){for(var r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}var Oe=function(){function t(t,e,n,r,i,o,a,s,u){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=s,this.fontProperties=u}return t.measureText=function(e,n,r,i){void 0===i&&(i=t._canvas),r=void 0===r||null===r?n.wordWrap:r;var o=n.toFontString(),a=t.measureFont(o);0===a.fontSize&&(a.fontSize=n.fontSize,a.ascent=n.fontSize);var s=i.getContext("2d");s.font=o;for(var u=(r?t.wordWrap(e,n,i):e).split(/(?:\r\n|\r|\n)/),l=new Array(u.length),c=0,h=0;h<u.length;h++){var f=s.measureText(u[h]).width+(u[h].length-1)*n.letterSpacing;l[h]=f,c=Math.max(c,f)}var p=c+n.strokeThickness;n.dropShadow&&(p+=n.dropShadowDistance);var d=n.lineHeight||a.fontSize+n.strokeThickness,v=Math.max(d,a.fontSize+n.strokeThickness)+(u.length-1)*(d+n.leading);return n.dropShadow&&(v+=n.dropShadowDistance),new t(e,n,p,v,u,l,d+n.leading,c,a)},t.wordWrap=function(e,n,r){void 0===r&&(r=t._canvas);for(var i=r.getContext("2d"),o=0,a="",s="",u=Object.create(null),l=n.letterSpacing,c=n.whiteSpace,h=t.collapseSpaces(c),f=t.collapseNewlines(c),p=!h,d=n.wordWrapWidth+l,v=t.tokenize(e),m=0;m<v.length;m++){var g=v[m];if(t.isNewline(g)){if(!f){s+=t.addLine(a),p=!h,a="",o=0;continue}g=" "}if(h){var y=t.isBreakingSpace(g),_=t.isBreakingSpace(a[a.length-1]);if(y&&_)continue}var b=t.getFromCache(g,l,u,i);if(b>d)if(""!==a&&(s+=t.addLine(a),a="",o=0),t.canBreakWords(g,n.breakWords))for(var x=t.wordWrapSplit(g),w=0;w<x.length;w++){for(var E=x[w],T=1;x[w+T];){var S=x[w+T],A=E[E.length-1];if(t.canBreakChars(A,S,g,w,n.breakWords))break;E+=S,T++}w+=E.length-1;var O=t.getFromCache(E,l,u,i);O+o>d&&(s+=t.addLine(a),p=!1,a="",o=0),a+=E,o+=O}else{a.length>0&&(s+=t.addLine(a),a="",o=0);var P=m===v.length-1;s+=t.addLine(g,!P),p=!1,a="",o=0}else b+o>d&&(p=!1,s+=t.addLine(a),a="",o=0),(a.length>0||!t.isBreakingSpace(g)||p)&&(a+=g,o+=b)}return s+=t.addLine(a,!1)},t.addLine=function(e,n){return void 0===n&&(n=!0),e=t.trimRight(e),e=n?e+"\n":e},t.getFromCache=function(t,e,n,r){var i=n[t];if("number"!==typeof i){var o=t.length*e;i=r.measureText(t).width+o,n[t]=i}return i},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!==typeof e)return"";for(var n=e.length-1;n>=0;n--){var r=e[n];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"===typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,n){return"string"===typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var n=[],r="";if("string"!==typeof e)return n;for(var i=0;i<e.length;i++){var o=e[i],a=e[i+1];t.isBreakingSpace(o,a)||t.isNewline(o)?(""!==r&&(n.push(r),r=""),n.push(o)):r+=o}return""!==r&&n.push(r),n},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,n,r,i){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var n={ascent:0,descent:0,fontSize:0},r=t._canvas,i=t._context;i.font=e;var o=t.METRICS_STRING+t.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=Math.ceil(t.HEIGHT_MULTIPLIER*s);s=s*t.BASELINE_MULTIPLIER|0,r.width=a,r.height=u,i.fillStyle="#f00",i.fillRect(0,0,a,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var l=i.getImageData(0,0,a,u).data,c=l.length,h=4*a,f=0,p=0,d=!1;for(f=0;f<s;++f){for(var v=0;v<h;v+=4)if(255!==l[p+v]){d=!0;break}if(d)break;p+=h}for(n.ascent=s-f,p=c-h,d=!1,f=u;f>s;--f){for(v=0;v<h;v+=4)if(255!==l[p+v]){d=!0;break}if(d)break;p-=h}return n.descent=f-s,n.fontSize=n.ascent+n.descent,t._fonts[e]=n,n},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),Pe=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(n){return document.createElement("canvas")}}();Pe.width=Pe.height=10,Oe._canvas=Pe,Oe._context=Pe.getContext("2d"),Oe._fonts={},Oe.METRICS_STRING="|\xc9q\xc5",Oe.BASELINE_SYMBOL="M",Oe.BASELINE_MULTIPLIER=1.4,Oe.HEIGHT_MULTIPLIER=2,Oe._newlines=[10,13],Oe._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Me={texture:!0,children:!1,baseTexture:!0},Ce=function(t){function e(e,n,r){var i=this,o=!1;r||(r=document.createElement("canvas"),o=!0),r.width=3,r.height=3;var s=m.q.from(r);return s.orig=new a.j,s.trim=new a.j,(i=t.call(this,s)||this)._ownCanvas=o,i.canvas=r,i.context=i.canvas.getContext("2d"),i._resolution=Ut.b.RESOLUTION,i._autoResolution=!0,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=e,i.style=n,i.localStyleID=-1,i}return function(t,e){function n(){this.constructor=t}be(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.updateText=function(t){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,o,a=this.context,s=Oe.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),u=s.width,l=s.height,c=s.lines,h=s.lineHeight,f=s.lineWidths,p=s.maxLineWidth,d=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,u)+2*n.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,l)+2*n.padding)*this._resolution),a.scale(this._resolution,this._resolution),a.clearRect(0,0,this.canvas.width,this.canvas.height),a.font=this._font,a.lineWidth=n.strokeThickness,a.textBaseline=n.textBaseline,a.lineJoin=n.lineJoin,a.miterLimit=n.miterLimit;for(var v=n.dropShadow?2:1,m=0;m<v;++m){var g=n.dropShadow&&0===m,y=g?Math.ceil(Math.max(1,l)+2*n.padding):0,_=y*this._resolution;if(g){a.fillStyle="black",a.strokeStyle="black";var b=n.dropShadowColor,x=Object(r.m)("number"===typeof b?b:Object(r.B)(b)),w=n.dropShadowBlur*this._resolution,E=n.dropShadowDistance*this._resolution;a.shadowColor="rgba("+255*x[0]+","+255*x[1]+","+255*x[2]+","+n.dropShadowAlpha+")",a.shadowBlur=w,a.shadowOffsetX=Math.cos(n.dropShadowAngle)*E,a.shadowOffsetY=Math.sin(n.dropShadowAngle)*E+_}else a.fillStyle=this._generateFillStyle(n,c,s),a.strokeStyle=n.stroke,a.shadowColor="black",a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0;var T=(h-d.fontSize)/2;(!e.nextLineHeightBehavior||h-d.fontSize<0)&&(T=0);for(var S=0;S<c.length;S++)i=n.strokeThickness/2,o=n.strokeThickness/2+S*h+d.ascent+T,"right"===n.align?i+=p-f[S]:"center"===n.align&&(i+=(p-f[S])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(c[S],i+n.padding,o+n.padding-y,!0),n.fill&&this.drawLetterSpacing(c[S],i+n.padding,o+n.padding-y)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,n,r,i){void 0===i&&(i=!1);var o=this._style.letterSpacing,a=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(0===o||a)return a&&(this.context.letterSpacing=o,this.context.textLetterSpacing=o),void(i?this.context.strokeText(t,n,r):this.context.fillText(t,n,r));for(var s=n,u=Array.from?Array.from(t):t.split(""),l=this.context.measureText(t).width,c=0,h=0;h<u.length;++h){var f=u[h];i?this.context.strokeText(f,s,r):this.context.fillText(f,s,r);for(var p="",d=h+1;d<u.length;++d)p+=u[d];s+=l-(c=this.context.measureText(p).width)+o,l=c}},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=Object(r.C)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var n=this._texture,i=this._style,o=i.trim?0:i.padding,a=n.baseTexture;n.trim.width=n._frame.width=t.width/this._resolution,n.trim.height=n._frame.height=t.height/this._resolution,n.trim.x=-o,n.trim.y=-o,n.orig.width=n._frame.width-2*o,n.orig.height=n._frame.height-2*o,this._onTextureUpdate(),a.setRealSize(t.width,t.height,this._resolution),n.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,n){var r,i=t.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var o=t.dropShadow?t.dropShadowDistance:0,a=t.padding||0,s=this.canvas.width/this._resolution-o-2*a,u=this.canvas.height/this._resolution-o-2*a,l=i.slice(),c=t.fillGradientStops.slice();if(!c.length)for(var h=l.length+1,f=1;f<h;++f)c.push(f/h);if(l.unshift(i[0]),c.unshift(0),l.push(i[i.length-1]),c.push(1),t.fillGradientType===me.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,a,s/2,u+a);var p=n.fontProperties.fontSize+t.strokeThickness;for(f=0;f<e.length;f++){var d=n.lineHeight*(f-1)+p,v=n.lineHeight*f,m=v;f>0&&d>v&&(m=(v+d)/2);var g=v+p,y=n.lineHeight*(f+1),_=g;f+1<e.length&&y<g&&(_=(g+y)/2);for(var b=(_-m)/u,x=0;x<l.length;x++){var w=0;w="number"===typeof c[x]?c[x]:x/l.length;var E=Math.min(1,Math.max(0,m/u+w*b));E=Number(E.toFixed(5)),r.addColorStop(E,l[x])}}}else{r=this.context.createLinearGradient(a,u/2,s+a,u/2);var T=l.length+1,S=1;for(f=0;f<l.length;f++){var A=void 0;A="number"===typeof c[f]?c[f]:S/T,r.addColorStop(A,l[f]),S++}}return r},e.prototype.destroy=function(e){"boolean"===typeof e&&(e={children:e}),e=Object.assign({},Me,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=Object(r.A)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=Object(r.A)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof Ee?t:new Ee(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null===t||void 0===t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(_e);Ut.b.UPLOADS_PER_FRAME=4;var Re=function(t,e){return Re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Re(t,e)};var Ie=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function Ne(t,e){var n=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof m.q){var i=t._textures[r].baseTexture;-1===e.indexOf(i)&&(e.push(i),n=!0)}return n}function ke(t,e){if(t.baseTexture instanceof m.a){var n=t.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function De(t,e){if(t._texture&&t._texture instanceof m.q){var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function Le(t,e){return e instanceof Ce&&(e.updateText(!0),!0)}function Fe(t,e){if(e instanceof Ee){var n=e.toFontString();return Oe.measureFont(n),!0}return!1}function Ue(t,e){if(t instanceof Ce){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function je(t,e){return t instanceof Ee&&(-1===e.indexOf(t)&&e.push(t),!0)}function Be(t,e){return e instanceof m.a&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function Ge(t,e){if(!(e instanceof de))return!1;var n=e.geometry;e.finishPoly(),n.updateBatches();for(var r=n.batches,i=0;i<r.length;i++){var o=r[i].style.texture;o&&Be(t,o.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function ze(t,e){return t instanceof de&&(e.push(t),!0)}var Ve=function(t){function e(e){var n=t.call(this,e)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(ze),n.registerUploadHook(Be),n.registerUploadHook(Ge),n}return function(t,e){function n(){this.constructor=t}Re(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(function(){function t(t){var e=this;this.limiter=new Ie(Ut.b.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(Ue),this.registerFindHook(je),this.registerFindHook(Ne),this.registerFindHook(ke),this.registerFindHook(De),this.registerUploadHook(Le),this.registerUploadHook(Fe)}return t.prototype.upload=function(t,e){"function"===typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,s.a.system.addOnce(this.tick,this,s.c.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)s.a.system.addOnce(this.tick,this,s.c.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(n=0,r=i.length;n<r;n++)i[n]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof i.b)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&s.a.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}()),Xe=(function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds}}(),function(){function t(t,e,n){void 0===n&&(n=null),this._texture=t instanceof m.q?t:null,this.baseTexture=t instanceof m.a?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,n=Object(r.l)(t,null);return null===n&&(n=void 0!==e?parseFloat(e):1),1!==n&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var n=e,r=t.BATCH_SIZE;n-e<r&&n<this._frameKeys.length;){var i=this._frameKeys[n],o=this._frames[i],s=o.frame;if(s){var u=null,l=null,c=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,h=new a.j(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);u=o.rotated?new a.j(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new a.j(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(l=new a.j(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[i]=new m.q(this.baseTexture,u,h,l,o.rotated?2:0,o.anchor),m.q.addToCache(this.textures[i],i)}n++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var n=0;n<t[e].length;n++){var r=t[e][n];this.animations[e].push(this.textures[r])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var n in void 0===t&&(t=!1),this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}()),He=function(){function t(){}return t.use=function(e,n){var i,o,a=this,s=e.name+"_image";if(e.data&&e.type===C.TYPE.JSON&&e.data.frames&&!a.resources[s]){var u=null===(o=null===(i=e.data)||void 0===i?void 0:i.meta)||void 0===o?void 0:o.related_multi_packs;if(Array.isArray(u))for(var l=function(t){if("string"!==typeof t)return"continue";var n=t.replace(".json",""),i=r.E.resolve(e.url.replace(a.baseUrl,""),t);if(a.resources[n]||Object.values(a.resources).some((function(t){return r.E.format(r.E.parse(t.url))===i})))return"continue";var o={crossOrigin:e.crossOrigin,loadType:C.LOAD_TYPE.XHR,xhrType:C.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};a.add(n,i,o)},c=0,h=u;c<h.length;c++){l(h[c])}var f={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},p=t.getResourcePath(e,a.baseUrl);a.add(s,p,f,(function(t){if(t.error)n(t.error);else{var r=new Xe(t.texture,e.data,e.url);r.parse((function(){e.spritesheet=r,e.textures=r.textures,n()}))}}))}else n()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:r.E.resolve(t.url.replace(e,""),t.data.meta.image)},t}(),Ye=function(t,e){return Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Ye(t,e)};function We(t,e){function n(){this.constructor=t}Ye(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var qe=new a.g,Ke=(function(t){function e(e,n,r){void 0===n&&(n=100),void 0===r&&(r=100);var i=t.call(this,e)||this;return i.tileTransform=new a.m,i._width=n,i._height=r,i.uvMatrix=i.texture.uvMatrix||new m.r(e),i.pluginName="tilingSprite",i.uvRespectAnchor=!1,i}We(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,n,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new a.j),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,qe);var e=this._width,n=this._height,r=-e*this.anchor._x;if(qe.x>=r&&qe.x<r+e){var i=-n*this.anchor._y;if(qe.y>=i&&qe.y<i+n)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,n){return new e(t instanceof m.q?t:m.q.from(t,n),n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0})}(_e),"#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n"),Ze=new a.d,$e=function(t){function e(e){var n=t.call(this,e)||this;return e.runners.contextChange.add(n),n.quad=new m.l,n.state=m.p.for2d(),n}return We(e,t),e.prototype.contextChange=function(){var t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=m.o.from(Ke,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",e),this.shader=t.context.webGLVersion>1?m.o.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",e):m.o.from(Ke,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",e)},e.prototype.render=function(t){var e=this.renderer,n=this.quad,i=n.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y);var o=t.uvRespectAnchor?t.anchor.x:0,a=t.uvRespectAnchor?t.anchor.y:0;(i=n.uvs)[0]=i[6]=-o,i[1]=i[3]=-a,i[2]=i[4]=1-o,i[5]=i[7]=1-a,n.invalidate();var s=t._texture,u=s.baseTexture,l=t.tileTransform.localTransform,c=t.uvMatrix,h=u.isPowerOfTwo&&s.frame.width===u.width&&s.frame.height===u.height;h&&(u._glTextures[e.CONTEXT_UID]?h=u.wrapMode!==z.s.CLAMP:u.wrapMode===z.s.CLAMP&&(u.wrapMode=z.s.REPEAT));var f=h?this.simpleShader:this.shader,p=s.width,d=s.height,v=t._width,m=t._height;Ze.set(l.a*p/v,l.b*p/m,l.c*d/v,l.d*d/m,l.tx/v,l.ty/m),Ze.invert(),h?Ze.prepend(c.mapCoord):(f.uniforms.uMapCoord=c.mapCoord.toArray(!0),f.uniforms.uClampFrame=c.uClampFrame,f.uniforms.uClampOffset=c.uClampOffset),f.uniforms.uTransform=Ze.toArray(!0),f.uniforms.uColor=Object(r.w)(t.tint,t.worldAlpha,f.uniforms.uColor,u.alphaMode),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=s,e.shader.bind(f),e.geometry.bind(n),this.state.blendMode=Object(r.f)(t.blendMode,u.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(m.j),Qe=function(t,e){return Qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Qe(t,e)};function Je(t,e){function n(){this.constructor=t}Qe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var tn=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),en=new a.g,nn=new a.h,rn=function(t){function e(e,n,r,i){void 0===i&&(i=z.f.TRIANGLES);var o=t.call(this)||this;return o.geometry=e,o.shader=n,o.state=r||m.p.for2d(),o.drawMode=i,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=Ut.b.ROUND_PIXELS,o.batchUvs=null,o}return Je(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===z.f.TRIANGLES&&n.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry.buffers[0],e=t.data,n=t._updateID;if(n!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var r=this.transform.worldTransform,i=r.a,o=r.b,a=r.c,s=r.d,u=r.tx,l=r.ty,c=this.vertexData,h=0;h<c.length/2;h++){var f=e[2*h],p=e[2*h+1];c[2*h]=i*f+a*p+u,c[2*h+1]=o*f+s*p+l}if(this._roundPixels){var d=Ut.b.RESOLUTION;for(h=0;h<c.length;++h)c[h]=Math.round((c[h]*d|0)/d)}this.vertexDirty=n}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new tn(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,en);for(var e=this.geometry.getBuffer("aVertexPosition").data,n=nn.points,r=this.geometry.getIndex().data,i=r.length,o=4===this.drawMode?3:1,a=0;a+2<i;a+=o){var s=2*r[a],u=2*r[a+1],l=2*r[a+2];if(n[0]=e[s],n[1]=e[s+1],n[2]=e[u],n[3]=e[u+1],n[4]=e[l],n[5]=e[l+1],nn.contains(en.x,en.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(i.b),on=function(t){function e(e,n){var r=this,i={uSampler:e,alpha:1,uTextureMatrix:a.d.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n)).uniforms&&Object.assign(i,n.uniforms),(r=t.call(this,n.program||m.k.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),i)||this)._colorDirty=!1,r.uvMatrix=new m.r(e),r.batchable=void 0===n.program,r.pluginName=n.pluginName,r.tint=n.tint,r.alpha=n.alpha,r}return Je(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;Object(r.w)(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(m.o),an=function(t){function e(e,n,r){var i=t.call(this)||this,o=new m.f(e),a=new m.f(n,!0),s=new m.f(r,!0,!0);return i.addAttribute("aVertexPosition",o,2,!1,z.r.FLOAT).addAttribute("aTextureCoord",a,2,!1,z.r.FLOAT).addIndex(s),i._updateId=-1,i}return Je(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(m.i),sn=function(t,e){return sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},sn(t,e)};var un=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},ln=function(){function t(){}return t.test=function(t){return"string"===typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var r in e){var i=e[r].match(/^[a-z]+/gm)[0],o=e[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var s in o){var u=o[s].split("="),l=u[0],c=u[1].replace(/"/gm,""),h=parseFloat(c),f=isNaN(h)?c:h;a[l]=f}n[i].push(a)}var p=new un;return n.info.forEach((function(t){return p.info.push({face:t.face,size:parseInt(t.size,10)})})),n.common.forEach((function(t){return p.common.push({lineHeight:parseInt(t.lineHeight,10)})})),n.page.forEach((function(t){return p.page.push({id:parseInt(t.id,10),file:t.file})})),n.char.forEach((function(t){return p.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),n.kerning.forEach((function(t){return p.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),n.distanceField.forEach((function(t){return p.distanceField.push({distanceRange:parseInt(t.distanceRange,10),fieldType:t.fieldType})})),p},t}(),cn=function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new un,n=t.getElementsByTagName("info"),r=t.getElementsByTagName("common"),i=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),s=t.getElementsByTagName("distanceField"),u=0;u<n.length;u++)e.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(u=0;u<r.length;u++)e.common.push({lineHeight:parseInt(r[u].getAttribute("lineHeight"),10)});for(u=0;u<i.length;u++)e.page.push({id:parseInt(i[u].getAttribute("id"),10)||0,file:i[u].getAttribute("file")});for(u=0;u<o.length;u++){var l=o[u];e.char.push({id:parseInt(l.getAttribute("id"),10),page:parseInt(l.getAttribute("page"),10)||0,x:parseInt(l.getAttribute("x"),10),y:parseInt(l.getAttribute("y"),10),width:parseInt(l.getAttribute("width"),10),height:parseInt(l.getAttribute("height"),10),xoffset:parseInt(l.getAttribute("xoffset"),10),yoffset:parseInt(l.getAttribute("yoffset"),10),xadvance:parseInt(l.getAttribute("xadvance"),10)})}for(u=0;u<a.length;u++)e.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(u=0;u<s.length;u++)e.distanceField.push({fieldType:s[u].getAttribute("fieldType"),distanceRange:parseInt(s[u].getAttribute("distanceRange"),10)});return e},t}(),hn=function(){function t(){}return t.test=function(t){if("string"===typeof t&&t.indexOf("<font>")>-1){var e=(new globalThis.DOMParser).parseFromString(t,"text/xml");return cn.test(e)}return!1},t.parse=function(t){var e=(new globalThis.DOMParser).parseFromString(t,"text/xml");return cn.parse(e)},t}(),fn=[ln,cn,hn];function pn(t){for(var e=0;e<fn.length;e++)if(fn[e].test(t))return fn[e];return null}function dn(t,e,n,i,o,a,s){var u=n.text,l=n.fontProperties;e.translate(i,o),e.scale(a,a);var c=s.strokeThickness/2,h=-s.strokeThickness/2;if(e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=function(t,e,n,r,i,o){var a,s=n.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var u=n.dropShadow?n.dropShadowDistance:0,l=n.padding||0,c=t.width/r-u-2*l,h=t.height/r-u-2*l,f=s.slice(),p=n.fillGradientStops.slice();if(!p.length)for(var d=f.length+1,v=1;v<d;++v)p.push(v/d);if(f.unshift(s[0]),p.unshift(0),f.push(s[s.length-1]),p.push(1),n.fillGradientType===me.LINEAR_VERTICAL){a=e.createLinearGradient(c/2,l,c/2,h+l);var m=0,g=(o.fontProperties.fontSize+n.strokeThickness)/h;for(v=0;v<i.length;v++)for(var y=o.lineHeight*v,_=0;_<f.length;_++){var b=y/h+("number"===typeof p[_]?p[_]:_/f.length)*g,x=Math.max(m,b);x=Math.min(x,1),a.addColorStop(x,f[_]),m=x}}else{a=e.createLinearGradient(l,h/2,c+l,h/2);var w=f.length+1,E=1;for(v=0;v<f.length;v++){var T=void 0;T="number"===typeof p[v]?p[v]:E/w,a.addColorStop(T,f[v]),E++}}return a}(t,e,s,a,[u],n),e.strokeStyle=s.stroke,s.dropShadow){var f=s.dropShadowColor,p=Object(r.m)("number"===typeof f?f:Object(r.B)(f)),d=s.dropShadowBlur*a,v=s.dropShadowDistance*a;e.shadowColor="rgba("+255*p[0]+","+255*p[1]+","+255*p[2]+","+s.dropShadowAlpha+")",e.shadowBlur=d,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;s.stroke&&s.strokeThickness&&e.strokeText(u,c,h+n.lineHeight-l.descent),s.fill&&e.fillText(u,c,h+n.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function vn(t){return Array.from?Array.from(t):t.split("")}function mn(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var gn=function(){function t(t,e,n){var i,o,s=t.info[0],u=t.common[0],l=t.page[0],c=t.distanceField[0],h=Object(r.l)(l.file),f={};this._ownsTextures=n,this.font=s.face,this.size=s.size,this.lineHeight=u.lineHeight/h,this.chars={},this.pageTextures=f;for(var p=0;p<t.page.length;p++){var d=t.page[p],v=d.id,g=d.file;f[v]=e instanceof Array?e[p]:e[g],(null===c||void 0===c?void 0:c.fieldType)&&"none"!==c.fieldType&&(f[v].baseTexture.alphaMode=z.a.NO_PREMULTIPLIED_ALPHA)}for(p=0;p<t.char.length;p++){var y=t.char[p],_=(v=y.id,y.page),b=t.char[p],x=b.x,w=b.y,E=b.width,T=b.height,S=b.xoffset,A=b.yoffset,O=b.xadvance;x/=h,w/=h,E/=h,T/=h,S/=h,A/=h,O/=h;var P=new a.j(x+f[_].frame.x/h,w+f[_].frame.y/h,E,T);this.chars[v]={xOffset:S,yOffset:A,xAdvance:O,kerning:{},texture:new m.q(f[_].baseTexture,P),page:_}}for(p=0;p<t.kerning.length;p++){var M=t.kerning[p],C=M.first,R=M.second,I=M.amount;C/=h,R/=h,I/=h,this.chars[R]&&(this.chars[R].kerning[C]=I)}this.distanceFieldRange=null===c||void 0===c?void 0:c.distanceRange,this.distanceFieldType=null!==(o=null===(i=null===c||void 0===c?void 0:c.fieldType)||void 0===i?void 0:i.toLowerCase())&&void 0!==o?o:"none"}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,n,r){var i;if(e instanceof un)i=e;else{var o=pn(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}n instanceof m.q&&(n=[n]);var a=new t(i,n,r);return t.available[a.font]=a,a},t.uninstall=function(e){var n=t.available[e];if(!n)throw new Error("No font found named '"+e+"'");n.destroy(),delete t.available[e]},t.from=function(e,n,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,r),o=i.chars,a=i.padding,s=i.resolution,u=i.textureWidth,l=i.textureHeight,c=function(t){"string"===typeof t&&(t=[t]);for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var s=o,u=a;s<=u;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,vn(i))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(o),h=n instanceof Ee?n:new Ee(n),f=u,p=new un;p.info[0]={face:h.fontFamily,size:h.fontSize},p.common[0]={lineHeight:h.fontSize};for(var d,v,g,y=0,_=0,b=0,x=[],w=0;w<c.length;w++){d||((d=document.createElement("canvas")).width=u,d.height=l,v=d.getContext("2d"),g=new m.a(d,{resolution:s}),x.push(new m.q(g)),p.page.push({id:x.length-1,file:""}));var E=Oe.measureText(c[w],h,!1,d),T=E.width,S=Math.ceil(E.height),A=Math.ceil(("italic"===h.fontStyle?2:1)*T);if(_>=l-S*s){if(0===_)throw new Error("[BitmapFont] textureHeight "+l+"px is too small for "+h.fontSize+"px fonts");--w,d=null,v=null,g=null,_=0,y=0,b=0}else if(b=Math.max(S+E.fontProperties.descent,b),A*s+y>=f)--w,_+=b*s,_=Math.ceil(_),y=0,b=0;else{dn(d,v,E,y,_,s,h);var O=mn(E.text);p.char.push({id:O,page:x.length-1,x:y/s,y:_/s,width:A,height:S,xoffset:0,yoffset:0,xadvance:Math.ceil(T-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0))}),y+=(A+2*a)*s,y=Math.ceil(y)}}w=0;for(var P=c.length;w<P;w++)for(var M=c[w],C=0;C<P;C++){var R=c[C],I=v.measureText(M).width,N=v.measureText(R).width,k=v.measureText(M+R).width-(I+N);k&&p.kerning.push({first:mn(M),second:mn(R),amount:k})}var D=new t(p,x,!0);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=D,D},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),yn=[],_n=[],bn=[],xn=(function(t){function e(n,r){void 0===r&&(r={});var i=t.call(this)||this;i._tint=16777215;var o=Object.assign({},e.styleDefaults,r),s=o.align,u=o.tint,l=o.maxWidth,c=o.letterSpacing,h=o.fontName,f=o.fontSize;if(!gn.available[h])throw new Error('Missing BitmapFont "'+h+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=s,i._tint=u,i._fontName=h,i._fontSize=f||gn.available[h].size,i._text=n,i._maxWidth=l,i._maxLineHeight=0,i._letterSpacing=c,i._anchor=new a.e((function(){i.dirty=!0}),i,0,0),i._roundPixels=Ut.b.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}(function(t,e){function n(){this.constructor=t}sn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.updateText=function(){for(var t,e=gn.available[this._fontName],n=this._fontSize/e.size,i=new a.g,o=[],s=[],u=[],l=vn(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),c=this._maxWidth*e.size/this._fontSize,h="none"===e.distanceFieldType?yn:_n,f=null,p=0,d=0,v=0,g=-1,y=0,_=0,b=0,x=0,w=0;w<l.length;w++){var E=mn(X=l[w]);if(/(?:\s)/.test(X)&&(g=w,y=p,x++),"\r"!==X&&"\n"!==X){var T=e.chars[E];if(T){f&&T.kerning[f]&&(i.x+=T.kerning[f]);var S=bn.pop()||{texture:m.q.EMPTY,line:0,charCode:0,prevSpaces:0,position:new a.g};S.texture=T.texture,S.line=v,S.charCode=E,S.position.x=i.x+T.xOffset+this._letterSpacing/2,S.position.y=i.y+T.yOffset,S.prevSpaces=x,o.push(S),p=S.position.x+Math.max(T.xAdvance,T.texture.orig.width),i.x+=T.xAdvance+this._letterSpacing,b=Math.max(b,T.yOffset+T.texture.height),f=E,-1!==g&&c>0&&i.x>c&&(++_,Object(r.x)(o,1+g-_,1+w-g),w=g,g=-1,s.push(y),u.push(o.length>0?o[o.length-1].prevSpaces:0),d=Math.max(d,y),v++,i.x=0,i.y+=e.lineHeight,f=null,x=0)}}else s.push(p),u.push(-1),d=Math.max(d,p),++v,++_,i.x=0,i.y+=e.lineHeight,f=null,x=0}var A=l[l.length-1];"\r"!==A&&"\n"!==A&&(/(?:\s)/.test(A)&&(p=y),s.push(p),d=Math.max(d,p),u.push(-1));var O=[];for(w=0;w<=v;w++){var P=0;"right"===this._align?P=d-s[w]:"center"===this._align?P=(d-s[w])/2:"justify"===this._align&&(P=u[w]<0?0:(d-s[w])/u[w]),O.push(P)}var M=o.length,C={},R=[],I=this._activePagesMeshData;for(w=0;w<I.length;w++)h.push(I[w]);for(w=0;w<M;w++){var N=(Y=o[w].texture).baseTexture.uid;if(!C[N]){if(!(J=h.pop())){var k=new an,D=void 0,L=void 0;"none"===e.distanceFieldType?(D=new on(m.q.EMPTY),L=z.b.NORMAL):(D=new on(m.q.EMPTY,{program:m.k.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),L=z.b.NORMAL_NPM);var F=new rn(k,D);F.blendMode=L,J={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:F,vertices:null,uvs:null,indices:null}}J.index=0,J.indexCount=0,J.vertexCount=0,J.uvsCount=0,J.total=0;var U=this._textureCache;U[N]=U[N]||new m.q(Y.baseTexture),J.mesh.texture=U[N],J.mesh.tint=this._tint,R.push(J),C[N]=J}C[N].total++}for(w=0;w<I.length;w++)-1===R.indexOf(I[w])&&this.removeChild(I[w].mesh);for(w=0;w<R.length;w++)R[w].mesh.parent!==this&&this.addChild(R[w].mesh);for(var w in this._activePagesMeshData=R,C){var j=(J=C[w]).total;if(!((null===(t=J.indices)||void 0===t?void 0:t.length)>6*j)||J.vertices.length<2*rn.BATCHABLE_SIZE)J.vertices=new Float32Array(8*j),J.uvs=new Float32Array(8*j),J.indices=new Uint16Array(6*j);else for(var B=J.total,G=J.vertices,V=4*B*2;V<G.length;V++)G[V]=0;J.mesh.size=6*j}for(w=0;w<M;w++){var X,H=(X=o[w]).position.x+O[X.line]*("justify"===this._align?X.prevSpaces:1);this._roundPixels&&(H=Math.round(H));var Y,W=H*n,q=X.position.y*n,K=C[(Y=X.texture).baseTexture.uid],Z=Y.frame,$=Y._uvs,Q=K.index++;K.indices[6*Q+0]=0+4*Q,K.indices[6*Q+1]=1+4*Q,K.indices[6*Q+2]=2+4*Q,K.indices[6*Q+3]=0+4*Q,K.indices[6*Q+4]=2+4*Q,K.indices[6*Q+5]=3+4*Q,K.vertices[8*Q+0]=W,K.vertices[8*Q+1]=q,K.vertices[8*Q+2]=W+Z.width*n,K.vertices[8*Q+3]=q,K.vertices[8*Q+4]=W+Z.width*n,K.vertices[8*Q+5]=q+Z.height*n,K.vertices[8*Q+6]=W,K.vertices[8*Q+7]=q+Z.height*n,K.uvs[8*Q+0]=$.x0,K.uvs[8*Q+1]=$.y0,K.uvs[8*Q+2]=$.x1,K.uvs[8*Q+3]=$.y1,K.uvs[8*Q+4]=$.x2,K.uvs[8*Q+5]=$.y2,K.uvs[8*Q+6]=$.x3,K.uvs[8*Q+7]=$.y3}for(var w in this._textWidth=d*n,this._textHeight=(i.y+e.lineHeight)*n,C){var J=C[w];if(0!==this.anchor.x||0!==this.anchor.y)for(var tt=0,et=this._textWidth*this.anchor.x,nt=this._textHeight*this.anchor.y,rt=0;rt<J.total;rt++)J.vertices[tt++]-=et,J.vertices[tt++]-=nt,J.vertices[tt++]-=et,J.vertices[tt++]-=nt,J.vertices[tt++]-=et,J.vertices[tt++]-=nt,J.vertices[tt++]-=et,J.vertices[tt++]-=nt;this._maxLineHeight=b*n;var it=J.mesh.geometry.getBuffer("aVertexPosition"),ot=J.mesh.geometry.getBuffer("aTextureCoord"),at=J.mesh.geometry.getIndex();it.data=J.vertices,ot.data=J.uvs,at.data=J.indices,it.update(),ot.update(),at.update()}for(w=0;w<o.length;w++)bn.push(o[w])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(e){var n=gn.available[this._fontName],r=n.distanceFieldRange,i=n.distanceFieldType,o=n.size;if("none"!==i)for(var a=this.worldTransform,s=a.a,u=a.b,l=a.c,c=a.d,h=Math.sqrt(s*s+u*u),f=Math.sqrt(l*l+c*c),p=(Math.abs(h)+Math.abs(f))/2,d=this._fontSize/o,v=0,m=this._activePagesMeshData;v<m.length;v++){m[v].mesh.shader.uniforms.uFWidth=p*r*d*e.resolution}t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!gn.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"===typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null===t||void 0===t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype.destroy=function(e){var n=this._textureCache;for(var r in n){n[r].destroy(),delete n[r]}this._textureCache=null,t.prototype.destroy.call(this,e)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(i.b),function(){function t(){}return t.add=function(){C.setExtensionXhrType("fnt",C.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,n){var r=pn(e.data);if(r)for(var i=t.getBaseUrl(this,e),o=r.parse(e.data),a={},s=function(t){a[t.metadata.pageFile]=t.texture,Object.keys(a).length===o.page.length&&(e.bitmapFont=gn.install(o,a,!0),n())},u=0;u<o.page.length;++u){var l=o.page[u].file,c=i+l,h=!1;for(var f in this.resources){var p=this.resources[f];if(p.url===c){p.metadata.pageFile=l,p.texture?s(p):p.onAfterMiddleware.add(s),h=!0;break}}if(!h){var d={crossOrigin:e.crossOrigin,loadType:C.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e};this.add(c,d,s)}}else n()},t.getBaseUrl=function(e,n){var r=n.isDataUrl?"":t.dirname(n.url);return n.isDataUrl&&("."===r&&(r=""),e.baseUrl&&r&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(r+="/")),(r=r.replace(e.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}()),wn=n(103),En=n(65),Tn=function(t,e){return Tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Tn(t,e)};var Sn=function(t){function e(){var e=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,m.v,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",n)||this).alpha=1,e}return function(t,e){function n(){this.constructor=t}Tn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var n=t;e&&(this._multiply(n,this.uniforms.m,t),n=this._colorMatrix(n)),this.uniforms.m=n},e.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19]+e[4],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19]+e[9],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19]+e[14],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.tint=function(t,e){var n=[(t>>16&255)/255,0,0,0,0,0,(t>>8&255)/255,0,0,0,0,0,(255&t)/255,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var n=Math.cos(t),r=Math.sin(t),i=1/3,o=(0,Math.sqrt)(i),a=[n+(1-n)*i,i*(1-n)-o*r,i*(1-n)+o*r,0,0,i*(1-n)+o*r,n+i*(1-n),i*(1-n)-o*r,0,0,i*(1-n)-o*r,i*(1-n)+o*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(a,e)},e.prototype.contrast=function(t,e){var n=(t||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var n=2*t/3+1,r=-.5*(n-1),i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,n,r,i){var o=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,s=(255&n)/255,u=((r=r||3375104)>>16&255)/255,l=(r>>8&255)/255,c=(255&r)/255,h=[.3,.59,.11,0,0,o,a,s,t=t||.2,0,u,l,c,e=e||.15,0,o-u,a-l,s-c,0,0];this._loadMatrix(h,i)},e.prototype.night=function(t,e){var n=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(m.h);Sn.prototype.grayscale=Sn.prototype.greyscale;var An=function(t,e){return An=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},An(t,e)};!function(t){function e(e,n){var r=this,i=new a.d;return e.renderable=!1,(r=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,r.maskMatrix=i,null!==n&&void 0!==n||(n=20),r.scale=new a.g(n,n),r}(function(t,e){function n(){this.constructor=t}An(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.apply=function(t,e,n,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,o=Math.sqrt(i.a*i.a+i.b*i.b),a=Math.sqrt(i.c*i.c+i.d*i.d);0!==o&&0!==a&&(this.uniforms.rotation[0]=i.a/o,this.uniforms.rotation[1]=i.b/o,this.uniforms.rotation[2]=i.c/a,this.uniforms.rotation[3]=i.d/a),t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0})}(m.h);var On=function(t,e){return On=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},On(t,e)};!function(t){function e(){return t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}(function(t,e){function n(){this.constructor=t}On(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t)}(m.h);var Pn=function(t,e){return Pn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Pn(t,e)};var Mn,Cn,Rn,In,Nn,kn,Dn,Ln,Fn,Un,jn,Bn,Gn,zn,Vn,Xn,Hn,Yn,Wn;!function(t){function e(e,n){void 0===e&&(e=.5),void 0===n&&(n=Math.random());var r=t.call(this,m.v,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=e,r.seed=n,r}(function(t,e){function n(){this.constructor=t}Pn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0})}(m.h);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(Mn||(Mn={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Cn||(Cn={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(Rn||(Rn={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(In||(In={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Nn||(Nn={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(kn||(kn={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Dn||(Dn={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Ln||(Ln={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(Fn||(Fn={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(Un||(Un={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(jn||(jn={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(Bn||(Bn={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(Gn||(Gn={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(zn||(zn={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(Vn||(Vn={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(Xn||(Xn={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(Hn||(Hn={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Yn||(Yn={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(Wn||(Wn={}));var qn=new a.d;i.c.prototype._cacheAsBitmap=!1,i.c.prototype._cacheData=null,i.c.prototype._cacheAsBitmapResolution=null,i.c.prototype._cacheAsBitmapMultisample=Yn.NONE;var Kn=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(i.c.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new Kn),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),i.c.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},i.c.prototype._initCachedDisplayObject=function(t){var e;if(!this._cacheData||!this._cacheData.sprite){var n=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var o=this.filters[0].padding;i.pad(o)}i.ceil(Ut.b.RESOLUTION);var a=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),u=t.renderTexture.destinationFrame.clone(),l=t.projection.transform,c=m.m.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:null!==(e=this.cacheAsBitmapMultisample)&&void 0!==e?e:t.multisample}),h="cacheAsBitmap_"+Object(r.D)();this._cacheData.textureCacheId=h,m.a.addToCache(c.baseTexture,h),m.q.addToCache(c,h);var f=this.transform.localTransform.copyTo(qn).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:f,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=l,t.renderTexture.bind(a,s,u),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var p=new _e(c);p.transform.worldTransform=this.transform.worldTransform,p.anchor.x=-i.x/i.width,p.anchor.y=-i.y/i.height,p.alpha=n,p._bounds=this._bounds,this._cacheData.sprite=p,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=p.containsPoint.bind(p)}},i.c.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},i.c.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=t.context,o=t._projTransform;e.ceil(Ut.b.RESOLUTION);var a=m.m.create({width:e.width,height:e.height}),s="cacheAsBitmap_"+Object(r.D)();this._cacheData.textureCacheId=s,m.a.addToCache(a.baseTexture,s),m.q.addToCache(a,s);var u=qn;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=e.x,u.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:a,clear:!0,transform:u,skipUpdateTransform:!1}),t.context=i,t._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var l=new _e(a);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-e.x/e.width,l.anchor.y=-e.y/e.height,l.alpha=n,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},i.c.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},i.c.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},i.c.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,m.a.removeFromCache(this._cacheData.textureCacheId),m.q.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},i.c.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},i.c.prototype.name=null,i.b.prototype.getChildByName=function(t,e){for(var n=0,r=this.children.length;n<r;n++)if(this.children[n].name===t)return this.children[n];if(e)for(n=0,r=this.children.length;n<r;n++){if(this.children[n].getChildByName){var i=this.children[n].getChildByName(t,!0);if(i)return i}}return null},i.c.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new a.g),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var Zn=function(t,e){return Zn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},Zn(t,e)};function $n(t,e){function n(){this.constructor=t}Zn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Qn=function(t){function e(e,n,r,i){void 0===e&&(e=100),void 0===n&&(n=100),void 0===r&&(r=10),void 0===i&&(i=10);var o=t.call(this)||this;return o.segWidth=r,o.segHeight=i,o.width=e,o.height=n,o.build(),o}return $n(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],n=[],r=[],i=this.segWidth-1,o=this.segHeight-1,a=this.width/i,s=this.height/o,u=0;u<t;u++){var l=u%this.segWidth,c=u/this.segWidth|0;e.push(l*a,c*s),n.push(l/i,c/o)}var h=i*o;for(u=0;u<h;u++){var f=u%i,p=u/i|0,d=p*this.segWidth+f,v=p*this.segWidth+f+1,m=(p+1)*this.segWidth+f,g=(p+1)*this.segWidth+f+1;r.push(d,v,m,v,g,m)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(an),Jn=function(t){function e(e,n,r){void 0===e&&(e=200),void 0===r&&(r=0);var i=t.call(this,new Float32Array(4*n.length),new Float32Array(4*n.length),new Uint16Array(6*(n.length-1)))||this;return i.points=n,i._width=e,i.textureScale=r,i.build(),i}return $n(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),n.data=new Float32Array(4*t.length),r.data=new Uint16Array(6*(t.length-1)));var i=n.data,o=r.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var a=0,s=t[0],u=this._width*this.textureScale,l=t.length,c=0;c<l;c++){var h=4*c;if(this.textureScale>0){var f=s.x-t[c].x,p=s.y-t[c].y,d=Math.sqrt(f*f+p*p);s=t[c],a+=d/u}else a=c/(l-1);i[h]=a,i[h+1]=0,i[h+2]=a,i[h+3]=1}var v=0;for(c=0;c<l-1;c++){h=2*c;o[v++]=h,o[v++]=h+1,o[v++]=h+2,o[v++]=h+2,o[v++]=h+1,o[v++]=h+3}n.update(),r.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,n=t[0],r=0,i=0,o=this.buffers[0].data,a=t.length,s=0;s<a;s++){var u=t[s],l=4*s;i=-((e=s<t.length-1?t[s+1]:u).x-n.x),r=e.y-n.y;var c=Math.sqrt(r*r+i*i),h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;r/=c,i/=c,r*=h,i*=h,o[l]=u.x+r,o[l+1]=u.y+i,o[l+2]=u.x-r,o[l+3]=u.y-i,n=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(an),tr=(function(t){function e(e,n,r){void 0===r&&(r=0);var i=this,o=new Jn(e.height,n,r),a=new on(e);return r>0&&(e.baseTexture.wrapMode=z.s.REPEAT),(i=t.call(this,o,a)||this).autoUpdate=!0,i}$n(e,t),e.prototype._render=function(e){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,e)}}(rn),function(t){function e(e,n,r){var i=this,o=new Qn(e.width,e.height,n,r),a=new on(m.q.WHITE);return(i=t.call(this,o,a)||this).texture=e,i.autoResize=!0,i}return $n(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry,e=this.shader.texture,n=e.width,r=e.height;!this.autoResize||t.width===n&&t.height===r||(t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},e}(rn)),er=(function(t){function e(e,n,r,i,o){void 0===e&&(e=m.q.EMPTY);var a=this,s=new an(n,r,i);s.getBuffer("aVertexPosition").static=!1;var u=new on(e);return(a=t.call(this,s,u,null,o)||this).autoUpdate=!0,a}$n(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)}}(rn),function(t){function e(e,n,r,i,o){void 0===n&&(n=10),void 0===r&&(r=10),void 0===i&&(i=10),void 0===o&&(o=10);var a=t.call(this,m.q.WHITE,4,4)||this;return a._origWidth=e.orig.width,a._origHeight=e.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=n,a._rightWidth=i,a._topHeight=r,a._bottomHeight=o,a.texture=e,a}$n(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,n=this._topHeight+this._bottomHeight,r=this._height>n?1:this._height/n;return Math.min(e,r)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var n=1/this._origWidth,r=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}(tr),n(33),function(t,e){return er=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},er(t,e)});!function(t){function e(e,n){void 0===n&&(n=!0);var r=t.call(this,e[0]instanceof m.q?e[0]:e[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=n,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=e,r}(function(t,e){function n(){this.constructor=t}er(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(s.a.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(s.a.shared.add(this.update,this,s.c.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var n=[],r=0;r<t.length;++r)n.push(m.q.from(t[r]));return new e(n)},e.fromImages=function(t){for(var n=[],r=0;r<t.length;++r)n.push(m.q.from(t[r]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof m.q)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(s.a.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(s.a.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0})}(_e);m.n.registerPlugin("accessibility",o),m.n.registerPlugin("extract",b),m.n.registerPlugin("interaction",v),m.n.registerPlugin("particle",Ft),m.n.registerPlugin("prepare",Ve),m.n.registerPlugin("batch",m.d),m.n.registerPlugin("tilingSprite",$e),L.registerPlugin(xn),L.registerPlugin(Z),L.registerPlugin(vt),L.registerPlugin(Rt),L.registerPlugin(He),g.registerPlugin(s.b),g.registerPlugin(F);wn.a,En.a,En.b},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(20);var i=n(104);function o(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(r.a)(t);if(e){var a=Object(r.a)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return Object(i.a)(this,n)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return U})),n.d(e,"b",(function(){return j}));var r=/iPhone/i,i=/iPod/i,o=/iPad/i,a=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,l=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,c=/Silk/i,h=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,d=/BB10/i,v=/Opera Mini/i,m=/\b(CriOS|Chrome)(?:.+)Mobile/i,g=/Mobile(?:.+)Firefox\b/i,y=function(t){return"undefined"!==typeof t&&"MacIntel"===t.platform&&"number"===typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"===typeof MSStream};var _,b,x,w,E,T,S,A,O,P,M,C,R,I,N,k,D,L,F,U=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"===typeof navigator?"string"===typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=e.userAgent,_=n.split("[FBAN");"undefined"!==typeof _[1]&&(n=_[0]),"undefined"!==typeof(_=n.split("Twitter"))[1]&&(n=_[0]);var b=function(t){return function(e){return e.test(t)}}(n),x={apple:{phone:b(r)&&!b(h),ipod:b(i),tablet:!b(r)&&(b(o)||y(e))&&!b(h),universal:b(a),device:(b(r)||b(i)||b(o)||b(a)||y(e))&&!b(h)},amazon:{phone:b(l),tablet:!b(l)&&b(c),device:b(l)||b(c)},android:{phone:!b(h)&&b(l)||!b(h)&&b(s),tablet:!b(h)&&!b(l)&&!b(s)&&(b(c)||b(u)),device:!b(h)&&(b(l)||b(c)||b(s)||b(u))||b(/\bokhttp\b/i)},windows:{phone:b(h),tablet:b(f),device:b(h)||b(f)},other:{blackberry:b(p),blackberry10:b(d),opera:b(v),firefox:b(g),chrome:b(m),device:b(p)||b(d)||b(v)||b(g)||b(m)},any:!1,phone:!1,tablet:!1};return x.any=x.apple.device||x.android.device||x.windows.device||x.other.device,x.phone=x.apple.phone||x.android.phone||x.windows.phone,x.tablet=x.apple.tablet||x.android.tablet||x.windows.tablet,x}(globalThis.navigator);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(_||(_={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(b||(b={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(x||(x={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(w||(w={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(E||(E={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(T||(T={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(S||(S={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(A||(A={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(O||(O={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(P||(P={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(M||(M={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(C||(C={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(R||(R={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(I||(I={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(N||(N={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(k||(k={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(D||(D={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(L||(L={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(F||(F={}));var j={MIPMAP_TEXTURES:C.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:L.NONE,SPRITE_MAX_TEXTURES:function(t){var e=!0;if(U.tablet||U.phone){var n;if(U.apple.device)if(n=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(n[1],10)<11&&(e=!1);if(U.android.device)if(n=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(n[1],10)<7&&(e=!1)}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:N.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:M.CLAMP,SCALE_MODE:P.LINEAR,PRECISION_VERTEX:k.HIGH,PRECISION_FRAGMENT:U.apple.device?k.HIGH:k.MEDIUM,CAN_UPLOAD_SAME_BUFFER:!U.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1}},function(t,e,n){t.exports={abs:n(148),add:n(149),angle:n(267),clone:n(268),copy:n(150),create:n(82),cross:n(59),distance:n(151),divide:n(269),dot:n(66),equals:n(270),fromScalar:n(271),fromValues:n(152),fromVec2:n(272),length:n(153),lerp:n(273),max:n(154),min:n(155),multiply:n(274),negate:n(275),normalize:n(109),orthogonal:n(276),rotateX:n(277),rotateY:n(278),rotateZ:n(279),scale:n(156),snap:n(280),squaredDistance:n(157),squaredLength:n(158),subtract:n(83),toString:n(281),transform:n(282)}},function(t,e,n){t.exports={clone:n(253),create:n(81),fromPoints:n(299),fromCompactBinary:n(329),isA:n(330),reverse:n(331),toOutlines:n(333),toPoints:n(334),toSides:n(67),toString:n(335),toCompactBinary:n(336),transform:n(337)}},,function(t,e){t.exports=function t(e){return e.reduce((function(e,n){return Array.isArray(n)?e.concat(t(n)):e.concat(n)}),[])}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return R})),n.d(e,"c",(function(){return P})),n.d(e,"d",(function(){return M}));var r=n(10),i=n(2),o=n(4);r.b.SORTABLE_CHILDREN=!1;var a=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?i.j.EMPTY:((t=t||new i.j(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addPointMatrix=function(t,e){var n=t.a,r=t.b,i=t.c,o=t.d,a=t.tx,s=t.ty,u=n*e.x+i*e.y+a,l=r*e.x+o*e.y+s;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,l),this.maxY=Math.max(this.maxY,l)},t.prototype.addQuad=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY,o=t[0],a=t[1];e=o<e?o:e,n=a<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[2])<e?o:e,n=(a=t[3])<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[4])<e?o:e,n=(a=t[5])<n?a:n,r=o>r?o:r,i=a>i?a:i,e=(o=t[6])<e?o:e,n=(a=t[7])<n?a:n,r=o>r?o:r,i=a>i?a:i,this.minX=e,this.minY=n,this.maxX=r,this.maxY=i},t.prototype.addFrame=function(t,e,n,r,i){this.addFrameMatrix(t.worldTransform,e,n,r,i)},t.prototype.addFrameMatrix=function(t,e,n,r,i){var o=t.a,a=t.b,s=t.c,u=t.d,l=t.tx,c=t.ty,h=this.minX,f=this.minY,p=this.maxX,d=this.maxY,v=o*e+s*n+l,m=a*e+u*n+c;h=v<h?v:h,f=m<f?m:f,p=v>p?v:p,d=m>d?m:d,h=(v=o*r+s*n+l)<h?v:h,f=(m=a*r+u*n+c)<f?m:f,p=v>p?v:p,d=m>d?m:d,h=(v=o*e+s*i+l)<h?v:h,f=(m=a*e+u*i+c)<f?m:f,p=v>p?v:p,d=m>d?m:d,h=(v=o*r+s*i+l)<h?v:h,f=(m=a*r+u*i+c)<f?m:f,p=v>p?v:p,d=m>d?m:d,this.minX=h,this.minY=f,this.maxX=p,this.maxY=d},t.prototype.addVertexData=function(t,e,n){for(var r=this.minX,i=this.minY,o=this.maxX,a=this.maxY,s=e;s<n;s+=2){var u=t[s],l=t[s+1];r=u<r?u:r,i=l<i?l:i,o=u>o?u:o,a=l>a?l:a}this.minX=r,this.minY=i,this.maxX=o,this.maxY=a},t.prototype.addVertices=function(t,e,n,r){this.addVerticesMatrix(t.worldTransform,e,n,r)},t.prototype.addVerticesMatrix=function(t,e,n,r,i,o){void 0===i&&(i=0),void 0===o&&(o=i);for(var a=t.a,s=t.b,u=t.c,l=t.d,c=t.tx,h=t.ty,f=this.minX,p=this.minY,d=this.maxX,v=this.maxY,m=n;m<r;m+=2){var g=e[m],y=e[m+1],_=a*g+u*y+c,b=l*y+s*g+h;f=Math.min(f,_-i),d=Math.max(d,_+i),p=Math.min(p,b-o),v=Math.max(v,b+o)}this.minX=f,this.minY=p,this.maxX=d,this.maxY=v},t.prototype.addBounds=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var n=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(n<=i&&r<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var n=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(n<=i&&r<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<a?n:a,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=o>l?o:l}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,n,r,i,o){t-=i,e-=o,n+=i,r+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>r?this.maxY:r},t}(),s=function(t,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},s(t,e)};function u(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var l,c,h,f,p,d,v,m,g,y,_,b,x,w,E,T,S,A,O,P=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new i.m,e.alpha=1,e.visible=!0,e.renderable=!0,e.cullable=!1,e.cullArea=null,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new a,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return u(e,t),e.mixin=function(t){for(var n=Object.keys(t),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(t,i))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new i.j),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new i.j),t=this._localBoundsRect),this._localBounds||(this._localBounds=new a);var e=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,t);return this.parent=n,this.transform=e,this._bounds=r,this._bounds.updateID+=this._boundsID-o,s},e.prototype.toGlobal=function(t,e,n){return void 0===n&&(n=!1),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,n,r){return e&&(t=e.toGlobal(t,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,n,r,i,o,a,s,u){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=0),void 0===u&&(u=0),this.position.x=t,this.position.y=e,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=u,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new M),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*i.i},set:function(t){this.transform.rotation=t*i.b},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){if(this._mask!==t){var e;if(this._mask)(e=this._mask.maskObject||this._mask)._maskRefCount--,0===e._maskRefCount&&(e.renderable=!0,e.isMask=!1);if(this._mask=t,this._mask)0===(e=this._mask.maskObject||this._mask)._maskRefCount&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++}},enumerable:!1,configurable:!0}),e}(o.c),M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return u(e,t),e}(P);function C(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}P.prototype.displayObjectUpdateTransform=P.prototype.updateTransform,function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(l||(l={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(c||(c={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(h||(h={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(f||(f={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(p||(p={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(d||(d={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(v||(v={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(m||(m={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(g||(g={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(y||(y={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(_||(_={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(b||(b={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(x||(x={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(w||(w={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(E||(E={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(T||(T={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(S||(S={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(A||(A={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(O||(O={}));var R=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=r.b.SORTABLE_CHILDREN,e.sortDirty=!1,e}return u(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];if(e.length>1)for(var r=0;r<e.length;r++)this.addChild(e[r]);else{var i=e[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(t);Object(o.x)(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];if(e.length>1)for(var r=0;r<e.length;r++)this.removeChild(e[r]);else{var i=e[0],a=this.children.indexOf(i);if(-1===a)return null;i.parent=null,i.transform._parentID=-1,Object(o.x)(this.children,a,1),this._boundsID++,this.onChildrenChange(a),i.emit("removed",this),this.emit("childRemoved",i,this,a)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Object(o.x)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var n,r=t,i=e-r;if(i>0&&i<=e){n=this.children.splice(r,i);for(var o=0;o<n.length;++o)n[o].parent=null,n[o].transform&&(n[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(o=0;o<n.length;++o)n[o].emit("removed",this),this.emit("childRemoved",n[o],this,o);return n}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,n=this.children.length;e<n;++e){var r=this.children[e];r._lastSortedIndex=e,t||0===r.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(C),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var n=this.children[t];n.visible&&n.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var n=e._mask.maskObject||e._mask;n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,n){void 0===n&&(n=!1);var r=t.prototype.getLocalBounds.call(this,e);if(!n)for(var i=0,o=this.children.length;i<o;++i){var a=this.children[i];a.visible&&a.updateTransform()}return r},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(t){var n=t.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var r,i;if(this.cullArea?(r=this.cullArea,i=this.worldTransform):this._render!==e.prototype._render&&(r=this.getBounds(!0)),r&&n.intersects(r,i))this._render(t);else if(this.cullArea)return;for(var o=0,a=this.children.length;o<a;++o){var s=this.children[o],u=s.cullable;s.cullable=u||!this.cullArea,s.render(t),s.cullable=u}}},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){var e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r])}var i=e&&this._enabledFilters&&this._enabledFilters.length||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==S.NONE));if(i&&t.batch.flush(),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.push(this,this._enabledFilters),n&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);r=0;for(var o=this.children.length;r<o;++r)this.children[r].render(t)}i&&t.batch.flush(),n&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var n="boolean"===typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(n)for(var i=0;i<r.length;++i)r[i].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(P);R.prototype.containerUpdateTransform=R.prototype.updateTransform},function(t,e,n){t.exports={clone:n(338),create:n(85),fromPoints:n(339),fromCompactBinary:n(360),invert:n(361),isA:n(363),toPoints:n(364),toPolygons:n(87),toString:n(365),toCompactBinary:n(366),transform:n(367)}},function(t,e,n){t.exports={appendArc:n(368),appendBezier:n(370),appendPoints:n(171),clone:n(112),close:n(170),concat:n(371),create:n(113),eachPoint:n(372),equals:n(373),fromPoints:n(88),fromCompactBinary:n(374),isA:n(375),reverse:n(376),toPoints:n(46),toString:n(377),toCompactBinary:n(378),transform:n(379)}},function(t,e,n){t.exports={abs:n(300),add:n(301),angle:n(302),angleDegrees:n(303),angleRadians:n(110),clone:n(304),copy:n(305),create:n(84),cross:n(306),distance:n(307),divide:n(308),dot:n(309),equals:n(310),fromAngleDegrees:n(311),fromAngleRadians:n(159),fromScalar:n(312),fromValues:n(313),length:n(314),lerp:n(315),max:n(316),min:n(317),multiply:n(318),negate:n(319),normal:n(320),normalize:n(321),rotate:n(160),scale:n(322),snap:n(323),squaredDistance:n(324),squaredLength:n(325),subtract:n(326),toString:n(327),transform:n(328)}},function(t,e,n){t.exports={clone:n(340),create:n(60),fromPoints:n(341),fromPointsAndPlane:n(342),invert:n(343),isA:n(349),isConvex:n(350),measureArea:n(354),measureBoundingBox:n(169),measureBoundingSphere:n(355),measureSignedVolume:n(356),plane:n(168),toPoints:n(357),toString:n(358),transform:n(359)}},function(t,e,n){"use strict";function r(t){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},r(t)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(20);function i(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(r.a)(t)););return t}function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=i(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},o.apply(this,arguments)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return r}));var r,i=n(10);i.b.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(r||(r={}));var o=function(){function t(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=n,this.once=r}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),a=function(){function t(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new o(null,null,1/0),this.deltaMS=1/i.b.TARGET_FPMS,this.elapsedMS=1/i.b.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,n){return void 0===n&&(n=r.NORMAL),this._addListener(new o(t,e,n))},t.prototype.addOnce=function(t,e,n){return void 0===n&&(n=r.NORMAL),this._addListener(new o(t,e,n,!0))},t.prototype._addListener=function(t){var e=this._head.next,n=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}else t.connect(n);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var n=this._head.next;n;)n=n.match(t,e)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*i.b.TARGET_FPMS;for(var r=this._head,o=r.next;o;)o=o.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,i.b.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),s=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,r.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?a.shared:new a,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(80);var i=n(63);function o(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Object(i.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,n){t.exports={add:n(254),clone:n(255),copy:n(144),create:n(107),invert:n(256),equals:n(257),fromRotation:n(145),fromScaling:n(262),fromTaitBryanRotation:n(263),fromTranslation:n(264),fromValues:n(265),fromVectorRotation:n(266),fromXRotation:n(283),fromYRotation:n(284),fromZRotation:n(285),identity:n(147),isIdentity:n(286),isOnlyTransformScale:n(287),isMirroring:n(288),mirrorByPlane:n(289),multiply:n(290),rotate:n(291),rotateX:n(292),rotateY:n(293),rotateZ:n(294),scale:n(295),subtract:n(296),toString:n(297),translate:n(298)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(63);function i(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Object(r.a)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},function(t,e,n){t.exports=n(252)},function(t,e){t.exports={EPS:1e-5,spatialResolution:1e5}},function(t,e){t.exports={isNumberArray:function(t,e){return!!(Array.isArray(t)&&t.length>=e)&&t.every((function(t){return Number.isFinite(t)}))},isGT:function(t,e){return Number.isFinite(t)&&t>e},isGTE:function(t,e){return Number.isFinite(t)&&t>=e}}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,n,r,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||t,o),u=i?i+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function u(t,e){0===--t._eventsCount?t._events=new o:delete t._events[e]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),l.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},l.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},l.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},l.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,o),!0;case 6:return c.fn.call(c.context,e,n,r,o,a),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,r);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},l.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},l.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||u(this,o);else{for(var s=0,l=[],c=a.length;s<c;s++)(a[s].fn!==e||r&&!a[s].once||n&&a[s].context!==n)&&l.push(a[s]);l.length?this._events[o]=1===l.length?l[0]:l:u(this,o)}return this},l.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&u(this,e)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,t.exports=l},function(t,e,n){t.exports={expand:n(106),offset:n(407)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,n,r,i,o,a,s){if(arguments.length>8)throw new Error("max arguments reached");var u=this,l=u.name,c=u.items;this._aliasCount++;for(var h=0,f=c.length;h<f;h++)c[h][l](t,e,n,r,i,o,a,s);return c===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(r.prototype,{dispatch:{value:r.prototype.emit},run:{value:r.prototype.emit}})},function(t,e,n){var r;!function(n){"use strict";var i=function(t){return.5*(Math.exp(t)+Math.exp(-t))},o=function(t){return.5*(Math.exp(t)-Math.exp(-t))},a=function(){throw SyntaxError("Invalid Param")};function s(t,e){var n=Math.abs(t),r=Math.abs(e);return 0===t?Math.log(r):0===e?Math.log(n):n<3e3&&r<3e3?.5*Math.log(t*t+e*e):(t/=2,e/=2,.5*Math.log(t*t+e*e)+Math.LN2)}function u(t,e){if(!(this instanceof u))return new u(t,e);var n=function(t,e){var n={re:0,im:0};if(void 0===t||null===t)n.re=n.im=0;else if(void 0!==e)n.re=t,n.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return u.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return u.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else 2===t.length?(n.re=t[0],n.im=t[1]):a();break;case"string":n.im=n.re=0;var r=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),i=1,o=0;null===r&&a();for(var s=0;s<r.length;s++){var l=r[s];" "===l||"\t"===l||"\n"===l||("+"===l?i++:"-"===l?o++:"i"===l||"I"===l?(i+o===0&&a()," "===r[s+1]||isNaN(r[s+1])?n.im+=parseFloat((o%2?"-":"")+"1"):(n.im+=parseFloat((o%2?"-":"")+r[s+1]),s++),i=o=0):((i+o===0||isNaN(l))&&a(),"i"===r[s+1]||"I"===r[s+1]?(n.im+=parseFloat((o%2?"-":"")+l),s++):n.re+=parseFloat((o%2?"-":"")+l),i=o=0))}i+o>0&&a();break;case"number":n.im=0,n.re=t;break;default:a()}return isNaN(n.re)||isNaN(n.im),n}(t,e);this.re=n.re,this.im=n.im}u.prototype={re:0,im:0,sign:function(){var t=this.abs();return new u(this.re/t,this.im/t)},add:function(t,e){var n=new u(t,e);return this.isInfinite()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:new u(this.re+n.re,this.im+n.im)},sub:function(t,e){var n=new u(t,e);return this.isInfinite()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:new u(this.re-n.re,this.im-n.im)},mul:function(t,e){var n=new u(t,e);return this.isInfinite()&&n.isZero()||this.isZero()&&n.isInfinite()?u.NAN:this.isInfinite()||n.isInfinite()?u.INFINITY:0===n.im&&0===this.im?new u(this.re*n.re,0):new u(this.re*n.re-this.im*n.im,this.re*n.im+this.im*n.re)},div:function(t,e){var n=new u(t,e);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return u.NAN;if(this.isInfinite()||n.isZero())return u.INFINITY;if(this.isZero()||n.isInfinite())return u.ZERO;t=this.re,e=this.im;var r,i,o=n.re,a=n.im;return 0===a?new u(t/o,e/o):Math.abs(o)<Math.abs(a)?new u((t*(i=o/a)+e)/(r=o*i+a),(e*i-t)/r):new u((t+e*(i=a/o))/(r=a*i+o),(e-t*i)/r)},pow:function(t,e){var n=new u(t,e);if(t=this.re,e=this.im,n.isZero())return u.ONE;if(0===n.im){if(0===e&&t>0)return new u(Math.pow(t,n.re),0);if(0===t)switch((n.re%4+4)%4){case 0:return new u(Math.pow(e,n.re),0);case 1:return new u(0,Math.pow(e,n.re));case 2:return new u(-Math.pow(e,n.re),0);case 3:return new u(0,-Math.pow(e,n.re))}}if(0===t&&0===e&&n.re>0&&n.im>=0)return u.ZERO;var r=Math.atan2(e,t),i=s(t,e);return t=Math.exp(n.re*i-n.im*r),e=n.im*i+n.re*r,new u(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,n=this.re,r=this.im,i=this.abs();if(n>=0){if(0===r)return new u(Math.sqrt(n),0);t=.5*Math.sqrt(2*(i+n))}else t=Math.abs(r)/Math.sqrt(2*(i-n));return e=n<=0?.5*Math.sqrt(2*(i-n)):Math.abs(r)/Math.sqrt(2*(i+n)),new u(t,r<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new u(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new u(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;var n=t*t;return n*(n*(n*(n*(n*(n*(n*(n/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new u(s(t,e),Math.atan2(e,t))},abs:function(){return function(t,e){var n=Math.abs(t),r=Math.abs(e);return n<3e3&&r<3e3?Math.sqrt(n*n+r*r):(n<r?(n=r,r=t/e):r=e/t,n*Math.sqrt(1+r*r))}(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,e=this.im;return new u(Math.sin(t)*i(e),Math.cos(t)*o(e))},cos:function(){var t=this.re,e=this.im;return new u(Math.cos(t)*i(e),-Math.sin(t)*o(e))},tan:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)+i(e);return new u(Math.sin(t)/n,o(e)/n)},cot:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)-i(e);return new u(-Math.sin(t)/n,o(e)/n)},sec:function(){var t=this.re,e=this.im,n=.5*i(2*e)+.5*Math.cos(2*t);return new u(Math.cos(t)*i(e)/n,Math.sin(t)*o(e)/n)},csc:function(){var t=this.re,e=this.im,n=.5*i(2*e)-.5*Math.cos(2*t);return new u(Math.sin(t)*i(e)/n,-Math.cos(t)*o(e)/n)},asin:function(){var t=this.re,e=this.im,n=new u(e*e-t*t+1,-2*t*e).sqrt(),r=new u(n.re-e,n.im+t).log();return new u(r.im,-r.re)},acos:function(){var t=this.re,e=this.im,n=new u(e*e-t*t+1,-2*t*e).sqrt(),r=new u(n.re-e,n.im+t).log();return new u(Math.PI/2-r.im,r.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new u(0,1/0);if(-1===e)return new u(0,-1/0)}var n=t*t+(1-e)*(1-e),r=new u((1-e*e-t*t)/n,-2*t/n).log();return new u(-.5*r.im,.5*r.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new u(Math.atan2(1,t),0);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).atan():new u(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(0,1/0);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).acos():new u(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(Math.PI/2,1/0);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).asin():new u(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,e=this.im;return new u(o(t)*Math.cos(e),i(t)*Math.sin(e))},cosh:function(){var t=this.re,e=this.im;return new u(i(t)*Math.cos(e),o(t)*Math.sin(e))},tanh:function(){var t=2*this.re,e=2*this.im,n=i(t)+Math.cos(e);return new u(o(t)/n,Math.sin(e)/n)},coth:function(){var t=2*this.re,e=2*this.im,n=i(t)-Math.cos(e);return new u(o(t)/n,-Math.sin(e)/n)},csch:function(){var t=this.re,e=this.im,n=Math.cos(2*e)-i(2*t);return new u(-2*o(t)*Math.cos(e)/n,2*i(t)*Math.sin(e)/n)},sech:function(){var t=this.re,e=this.im,n=Math.cos(2*e)+i(2*t);return new u(2*i(t)*Math.cos(e)/n,-2*o(t)*Math.sin(e)/n)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t=this.acos();if(t.im<=0){var e=t.re;t.re=-t.im,t.im=e}else{e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){var t=this.re,e=this.im,n=t>1&&0===e,r=1-t,i=1+t,o=r*r+e*e,a=0!==o?new u((i*r-e*e)/o,(e*r+i*e)/o):new u(-1!==t?t/0:0,0!==e?e/0:0),l=a.re;return a.re=s(a.re,a.im)/2,a.im=Math.atan2(a.im,l)/2,n&&(a.im=-a.im),a},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(0,Math.PI/2);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).atanh():new u(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new u(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).asinh():new u(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return u.INFINITY;var n=t*t+e*e;return 0!==n?new u(t/n,-e/n).acosh():new u(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var t=this.re,e=this.im,n=t*t+e*e;return new u(t/n,-e/n)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new u(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new u(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new u(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){var n=new u(t,e);return Math.abs(n.re-this.re)<=u.EPSILON&&Math.abs(n.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var t=this.re,e=this.im,n="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<u.EPSILON&&(t=0),Math.abs(e)<u.EPSILON&&(e=0),0===e?n+t:(0!==t?(n+=t,n+=" ",e<0?(e=-e,n+="-"):n+="+",n+=" "):e<0&&(e=-e,n+="-"),1!==e&&(n+=e),n+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return isNaN(this.re)||isNaN(this.im)})),isZero:function(){return 0===this.im&&0===this.re},isFinite:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return isFinite(this.re)&&isFinite(this.im)})),isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-15,void 0===(r=function(){return u}.apply(e,[]))||(t.exports=r)}()},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(63);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||Object(r.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.d(e,"e",(function(){return v})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return d})),n.d(e,"a",(function(){return y}));var r=function(t){return null!==t&&"function"!==typeof t&&isFinite(t.length)},i={}.toString,o=function(t,e){return i.call(t)==="[object "+e+"]"},a=function(t){return o(t,"Function")},s=function(t){return null===t||void 0===t},u=function(t){return Array.isArray?Array.isArray(t):o(t,"Array")},l=function(t){var e=typeof t;return null!==t&&"object"===e||"function"===e};var c=function(t,e){if(t)if(u(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(l(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break};Object.keys;var h=function(t){return"object"===typeof t&&null!==t};var f=Array.prototype,p=(f.splice,f.indexOf,Array.prototype.splice,function(t){return o(t,"String")});Object.prototype.hasOwnProperty;var d=function(t){return o(t,"Number")};Number.isInteger&&Number.isInteger;function v(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}Math.PI,parseInt,Math.PI;var m=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return c(t,(function(n,r){a(t)&&"prototype"===r||e.push(n)})),e};var g=function(t){return null===t};Object.prototype;Object.prototype.hasOwnProperty;var y=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(p(e)||p(n))return!1;if(r(e)||r(n)){if(e.length!==n.length)return!1;for(var i=!0,o=0;o<e.length&&(i=t(e[o],n[o]));o++);return i}if(h(e)||h(n)){var a=Object.keys(e),s=Object.keys(n);if(a.length!==s.length)return!1;for(i=!0,o=0;o<a.length&&(i=t(e[a[o]],n[a[o]]));o++);return i}return!1};Object.prototype.hasOwnProperty;Object.create;var _;Object.create;(function(t,e){if(!a(t))throw new TypeError("Expected a function");var n=function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=t.apply(this,r);return a.set(o,s),s};n.cache=new Map})((function(t,e){void 0===e&&(e={});var n=e.fontSize,r=e.fontFamily,i=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return _||(_=document.createElement("canvas").getContext("2d")),_.font=[o,a,i,n+"px",r].join(" "),_.measureText(p(t)?t:"").width}),(function(t,e){return void 0===e&&(e={}),function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}([t],m(e)).join("")})),function(){function t(){this.map={}}t.prototype.has=function(t){return void 0!==this.map[t]},t.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},t.prototype.set=function(t,e){this.map[t]=e},t.prototype.clear=function(){this.map={}},t.prototype.delete=function(t){delete this.map[t]},t.prototype.size=function(){return Object.keys(this.map).length}}()},function(t,e,n){t.exports={clone:n(161),copy:n(162),create:n(86),equals:n(163),flip:n(164),fromNormalAndPoint:n(344),fromValues:n(165),fromPoints:n(166),fromPointsRandom:n(345),projectionOfPoint:n(346),signedDistanceToPoint:n(347),toString:n(167),transform:n(348)}},function(t,e,n){var r=n(214),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){"use strict";t.exports=n(620)},function(t,e,n){"use strict";t.exports=n(246)},function(t,e,n){var r=n(258),i=n(259),o=n(108),a=n(260);t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(369);t.exports=function(t){return r(t).points}},function(t,e,n){var r=n(14),i=n(78),o=i.geom2,a=i.geom3,s=i.path2,u=n(182),l=n(51),c=function(t){return u(l(t),2)},h=function(t){return u(l(t),2)},f=function(t){return u(l(t),3)};t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===(e=r(e)).length)throw new Error("wrong number of arguments");var i=e.map((function(t){return s.isA(t)?c(t):o.isA(t)?h(t):a.isA(t)?f(t):0}));return 1===i.length?i[0]:i}},function(t,e){function n(){return t.exports=n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,n.apply(this,arguments)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)}))}}n.d(e,"a",(function(){return i}))},function(t,e,n){(function(t,r){var i;(function(){var o,a="Expected a function",s="__lodash_hash_undefined__",u="__lodash_placeholder__",l=16,c=32,h=64,f=128,p=256,d=1/0,v=9007199254740991,m=NaN,g=4294967295,y=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",h],["rearg",p]],_="[object Arguments]",b="[object Array]",x="[object Boolean]",w="[object Date]",E="[object Error]",T="[object Function]",S="[object GeneratorFunction]",A="[object Map]",O="[object Number]",P="[object Object]",M="[object Promise]",C="[object RegExp]",R="[object Set]",I="[object String]",N="[object Symbol]",k="[object WeakMap]",D="[object ArrayBuffer]",L="[object DataView]",F="[object Float32Array]",U="[object Float64Array]",j="[object Int8Array]",B="[object Int16Array]",G="[object Int32Array]",z="[object Uint8Array]",V="[object Uint8ClampedArray]",X="[object Uint16Array]",H="[object Uint32Array]",Y=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,Z=/[&<>"']/g,$=RegExp(K.source),Q=RegExp(Z.source),J=/<%-([\s\S]+?)%>/g,tt=/<%([\s\S]+?)%>/g,et=/<%=([\s\S]+?)%>/g,nt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rt=/^\w*$/,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ot=/[\\^$.*+?()[\]{}|]/g,at=RegExp(ot.source),st=/^\s+/,ut=/\s/,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct=/\{\n\/\* \[wrapped with (.+)\] \*/,ht=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pt=/[()=,{}\[\]\/\s]/,dt=/\\(\\)?/g,vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mt=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,_t=/^\[object .+?Constructor\]$/,bt=/^0o[0-7]+$/i,xt=/^(?:0|[1-9]\d*)$/,wt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,Tt=/['\n\r\u2028\u2029\\]/g,St="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",At="\\u2700-\\u27bf",Ot="a-z\\xdf-\\xf6\\xf8-\\xff",Pt="A-Z\\xc0-\\xd6\\xd8-\\xde",Mt="\\ufe0e\\ufe0f",Ct="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rt="['\u2019]",It="[\\ud800-\\udfff]",Nt="["+Ct+"]",kt="["+St+"]",Dt="\\d+",Lt="[\\u2700-\\u27bf]",Ft="["+Ot+"]",Ut="[^\\ud800-\\udfff"+Ct+Dt+At+Ot+Pt+"]",jt="\\ud83c[\\udffb-\\udfff]",Bt="[^\\ud800-\\udfff]",Gt="(?:\\ud83c[\\udde6-\\uddff]){2}",zt="[\\ud800-\\udbff][\\udc00-\\udfff]",Vt="["+Pt+"]",Xt="(?:"+Ft+"|"+Ut+")",Ht="(?:"+Vt+"|"+Ut+")",Yt="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Wt="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",qt="(?:"+kt+"|"+jt+")"+"?",Kt="[\\ufe0e\\ufe0f]?",Zt=Kt+qt+("(?:\\u200d(?:"+[Bt,Gt,zt].join("|")+")"+Kt+qt+")*"),$t="(?:"+[Lt,Gt,zt].join("|")+")"+Zt,Qt="(?:"+[Bt+kt+"?",kt,Gt,zt,It].join("|")+")",Jt=RegExp(Rt,"g"),te=RegExp(kt,"g"),ee=RegExp(jt+"(?="+jt+")|"+Qt+Zt,"g"),ne=RegExp([Vt+"?"+Ft+"+"+Yt+"(?="+[Nt,Vt,"$"].join("|")+")",Ht+"+"+Wt+"(?="+[Nt,Vt+Xt,"$"].join("|")+")",Vt+"?"+Xt+"+"+Yt,Vt+"+"+Wt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dt,$t].join("|"),"g"),re=RegExp("[\\u200d\\ud800-\\udfff"+St+Mt+"]"),ie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,se={};se[F]=se[U]=se[j]=se[B]=se[G]=se[z]=se[V]=se[X]=se[H]=!0,se[_]=se[b]=se[D]=se[x]=se[L]=se[w]=se[E]=se[T]=se[A]=se[O]=se[P]=se[C]=se[R]=se[I]=se[k]=!1;var ue={};ue[_]=ue[b]=ue[D]=ue[L]=ue[x]=ue[w]=ue[F]=ue[U]=ue[j]=ue[B]=ue[G]=ue[A]=ue[O]=ue[P]=ue[C]=ue[R]=ue[I]=ue[N]=ue[z]=ue[V]=ue[X]=ue[H]=!0,ue[E]=ue[T]=ue[k]=!1;var le={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ce=parseFloat,he=parseInt,fe="object"==typeof t&&t&&t.Object===Object&&t,pe="object"==typeof self&&self&&self.Object===Object&&self,de=fe||pe||Function("return this")(),ve=e&&!e.nodeType&&e,me=ve&&"object"==typeof r&&r&&!r.nodeType&&r,ge=me&&me.exports===ve,ye=ge&&fe.process,_e=function(){try{var t=me&&me.require&&me.require("util").types;return t||ye&&ye.binding&&ye.binding("util")}catch(e){}}(),be=_e&&_e.isArrayBuffer,xe=_e&&_e.isDate,we=_e&&_e.isMap,Ee=_e&&_e.isRegExp,Te=_e&&_e.isSet,Se=_e&&_e.isTypedArray;function Ae(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Oe(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function Pe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Me(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ce(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Re(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Ie(t,e){return!!(null==t?0:t.length)&&ze(t,e,0)>-1}function Ne(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function ke(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function De(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Le(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Fe(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Ue(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var je=Ye("length");function Be(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Ge(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function ze(t,e,n){return e===e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Ge(t,Xe,n)}function Ve(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Xe(t){return t!==t}function He(t,e){var n=null==t?0:t.length;return n?Ke(t,e)/n:m}function Ye(t){return function(e){return null==e?o:e[t]}}function We(t){return function(e){return null==t?o:t[e]}}function qe(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function Ke(t,e){for(var n,r=-1,i=t.length;++r<i;){var a=e(t[r]);a!==o&&(n=n===o?a:n+a)}return n}function Ze(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function $e(t){return t?t.slice(0,mn(t)+1).replace(st,""):t}function Qe(t){return function(e){return t(e)}}function Je(t,e){return ke(e,(function(e){return t[e]}))}function tn(t,e){return t.has(e)}function en(t,e){for(var n=-1,r=t.length;++n<r&&ze(e,t[n],0)>-1;);return n}function nn(t,e){for(var n=t.length;n--&&ze(e,t[n],0)>-1;);return n}function rn(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var on=We({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=We({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(t){return"\\"+le[t]}function un(t){return re.test(t)}function ln(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function cn(t,e){return function(n){return t(e(n))}}function hn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==u||(t[n]=u,o[i++]=n)}return o}function fn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function pn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function dn(t){return un(t)?function(t){var e=ee.lastIndex=0;for(;ee.test(t);)++e;return e}(t):je(t)}function vn(t){return un(t)?function(t){return t.match(ee)||[]}(t):function(t){return t.split("")}(t)}function mn(t){for(var e=t.length;e--&&ut.test(t.charAt(e)););return e}var gn=We({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function t(e){var n=(e=null==e?de:yn.defaults(de.Object(),e,yn.pick(de,oe))).Array,r=e.Date,i=e.Error,ut=e.Function,St=e.Math,At=e.Object,Ot=e.RegExp,Pt=e.String,Mt=e.TypeError,Ct=n.prototype,Rt=ut.prototype,It=At.prototype,Nt=e["__core-js_shared__"],kt=Rt.toString,Dt=It.hasOwnProperty,Lt=0,Ft=function(){var t=/[^.]+$/.exec(Nt&&Nt.keys&&Nt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ut=It.toString,jt=kt.call(At),Bt=de._,Gt=Ot("^"+kt.call(Dt).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zt=ge?e.Buffer:o,Vt=e.Symbol,Xt=e.Uint8Array,Ht=zt?zt.allocUnsafe:o,Yt=cn(At.getPrototypeOf,At),Wt=At.create,qt=It.propertyIsEnumerable,Kt=Ct.splice,Zt=Vt?Vt.isConcatSpreadable:o,$t=Vt?Vt.iterator:o,Qt=Vt?Vt.toStringTag:o,ee=function(){try{var t=fo(At,"defineProperty");return t({},"",{}),t}catch(e){}}(),re=e.clearTimeout!==de.clearTimeout&&e.clearTimeout,le=r&&r.now!==de.Date.now&&r.now,fe=e.setTimeout!==de.setTimeout&&e.setTimeout,pe=St.ceil,ve=St.floor,me=At.getOwnPropertySymbols,ye=zt?zt.isBuffer:o,_e=e.isFinite,je=Ct.join,We=cn(At.keys,At),_n=St.max,bn=St.min,xn=r.now,wn=e.parseInt,En=St.random,Tn=Ct.reverse,Sn=fo(e,"DataView"),An=fo(e,"Map"),On=fo(e,"Promise"),Pn=fo(e,"Set"),Mn=fo(e,"WeakMap"),Cn=fo(At,"create"),Rn=Mn&&new Mn,In={},Nn=Bo(Sn),kn=Bo(An),Dn=Bo(On),Ln=Bo(Pn),Fn=Bo(Mn),Un=Vt?Vt.prototype:o,jn=Un?Un.valueOf:o,Bn=Un?Un.toString:o;function Gn(t){if(rs(t)&&!Ya(t)&&!(t instanceof Hn)){if(t instanceof Xn)return t;if(Dt.call(t,"__wrapped__"))return Go(t)}return new Xn(t)}var zn=function(){function t(){}return function(e){if(!ns(e))return{};if(Wt)return Wt(e);t.prototype=e;var n=new t;return t.prototype=o,n}}();function Vn(){}function Xn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=o}function Hn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Wn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new qn;++e<n;)this.add(t[e])}function Zn(t){var e=this.__data__=new Wn(t);this.size=e.size}function $n(t,e){var n=Ya(t),r=!n&&Ha(t),i=!n&&!r&&Za(t),o=!n&&!r&&!i&&hs(t),a=n||r||i||o,s=a?Ze(t.length,Pt):[],u=s.length;for(var l in t)!e&&!Dt.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||bo(l,u))||s.push(l);return s}function Qn(t){var e=t.length;return e?t[Kr(0,e-1)]:o}function Jn(t,e){return Fo(Ci(t),ur(e,0,t.length))}function tr(t){return Fo(Ci(t))}function er(t,e,n){(n!==o&&!za(t[e],n)||n===o&&!(e in t))&&ar(t,e,n)}function nr(t,e,n){var r=t[e];Dt.call(t,e)&&za(r,n)&&(n!==o||e in t)||ar(t,e,n)}function rr(t,e){for(var n=t.length;n--;)if(za(t[n][0],e))return n;return-1}function ir(t,e,n,r){return pr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function or(t,e){return t&&Ri(e,Ns(e),t)}function ar(t,e,n){"__proto__"==e&&ee?ee(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function sr(t,e){for(var r=-1,i=e.length,a=n(i),s=null==t;++r<i;)a[r]=s?o:Ps(t,e[r]);return a}function ur(t,e,n){return t===t&&(n!==o&&(t=t<=n?t:n),e!==o&&(t=t>=e?t:e)),t}function lr(t,e,n,r,i,a){var s,u=1&e,l=2&e,c=4&e;if(n&&(s=i?n(t,r,i,a):n(t)),s!==o)return s;if(!ns(t))return t;var h=Ya(t);if(h){if(s=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&Dt.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!u)return Ci(t,s)}else{var f=mo(t),p=f==T||f==S;if(Za(t))return Ti(t,u);if(f==P||f==_||p&&!i){if(s=l||p?{}:yo(t),!u)return l?function(t,e){return Ri(t,vo(t),e)}(t,function(t,e){return t&&Ri(e,ks(e),t)}(s,t)):function(t,e){return Ri(t,po(t),e)}(t,or(s,t))}else{if(!ue[f])return i?t:{};s=function(t,e,n){var r=t.constructor;switch(e){case D:return Si(t);case x:case w:return new r(+t);case L:return function(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case F:case U:case j:case B:case G:case z:case V:case X:case H:return Ai(t,n);case A:return new r;case O:case I:return new r(t);case C:return function(t){var e=new t.constructor(t.source,mt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case R:return new r;case N:return i=t,jn?At(jn.call(i)):{}}var i}(t,f,u)}}a||(a=new Zn);var d=a.get(t);if(d)return d;a.set(t,s),us(t)?t.forEach((function(r){s.add(lr(r,e,n,r,t,a))})):is(t)&&t.forEach((function(r,i){s.set(i,lr(r,e,n,i,t,a))}));var v=h?o:(c?l?oo:io:l?ks:Ns)(t);return Pe(v||t,(function(r,i){v&&(r=t[i=r]),nr(s,i,lr(r,e,n,i,t,a))})),s}function cr(t,e,n){var r=n.length;if(null==t)return!r;for(t=At(t);r--;){var i=n[r],a=e[i],s=t[i];if(s===o&&!(i in t)||!a(s))return!1}return!0}function hr(t,e,n){if("function"!=typeof t)throw new Mt(a);return No((function(){t.apply(o,n)}),e)}function fr(t,e,n,r){var i=-1,o=Ie,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;n&&(e=ke(e,Qe(n))),r?(o=Ne,a=!1):e.length>=200&&(o=tn,a=!1,e=new Kn(e));t:for(;++i<s;){var c=t[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,a&&h===h){for(var f=l;f--;)if(e[f]===h)continue t;u.push(c)}else o(e,h,r)||u.push(c)}return u}Gn.templateSettings={escape:J,evaluate:tt,interpolate:et,variable:"",imports:{_:Gn}},Gn.prototype=Vn.prototype,Gn.prototype.constructor=Gn,Xn.prototype=zn(Vn.prototype),Xn.prototype.constructor=Xn,Hn.prototype=zn(Vn.prototype),Hn.prototype.constructor=Hn,Yn.prototype.clear=function(){this.__data__=Cn?Cn(null):{},this.size=0},Yn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Yn.prototype.get=function(t){var e=this.__data__;if(Cn){var n=e[t];return n===s?o:n}return Dt.call(e,t)?e[t]:o},Yn.prototype.has=function(t){var e=this.__data__;return Cn?e[t]!==o:Dt.call(e,t)},Yn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Cn&&e===o?s:e,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(t){var e=this.__data__,n=rr(e,t);return!(n<0)&&(n==e.length-1?e.pop():Kt.call(e,n,1),--this.size,!0)},Wn.prototype.get=function(t){var e=this.__data__,n=rr(e,t);return n<0?o:e[n][1]},Wn.prototype.has=function(t){return rr(this.__data__,t)>-1},Wn.prototype.set=function(t,e){var n=this.__data__,r=rr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Yn,map:new(An||Wn),string:new Yn}},qn.prototype.delete=function(t){var e=co(this,t).delete(t);return this.size-=e?1:0,e},qn.prototype.get=function(t){return co(this,t).get(t)},qn.prototype.has=function(t){return co(this,t).has(t)},qn.prototype.set=function(t,e){var n=co(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(t){return this.__data__.set(t,s),this},Kn.prototype.has=function(t){return this.__data__.has(t)},Zn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Zn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Zn.prototype.get=function(t){return this.__data__.get(t)},Zn.prototype.has=function(t){return this.__data__.has(t)},Zn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!An||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new qn(r)}return n.set(t,e),this.size=n.size,this};var pr=ki(xr),dr=ki(wr,!0);function vr(t,e){var n=!0;return pr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function mr(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],s=e(a);if(null!=s&&(u===o?s===s&&!cs(s):n(s,u)))var u=s,l=a}return l}function gr(t,e){var n=[];return pr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function yr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=_o),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?yr(s,e-1,n,r,i):De(i,s):r||(i[i.length]=s)}return i}var _r=Di(),br=Di(!0);function xr(t,e){return t&&_r(t,e,Ns)}function wr(t,e){return t&&br(t,e,Ns)}function Er(t,e){return Re(e,(function(e){return Ja(t[e])}))}function Tr(t,e){for(var n=0,r=(e=bi(e,t)).length;null!=t&&n<r;)t=t[jo(e[n++])];return n&&n==r?t:o}function Sr(t,e,n){var r=e(t);return Ya(t)?r:De(r,n(t))}function Ar(t){return null==t?t===o?"[object Undefined]":"[object Null]":Qt&&Qt in At(t)?function(t){var e=Dt.call(t,Qt),n=t[Qt];try{t[Qt]=o;var r=!0}catch(a){}var i=Ut.call(t);r&&(e?t[Qt]=n:delete t[Qt]);return i}(t):function(t){return Ut.call(t)}(t)}function Or(t,e){return t>e}function Pr(t,e){return null!=t&&Dt.call(t,e)}function Mr(t,e){return null!=t&&e in At(t)}function Cr(t,e,r){for(var i=r?Ne:Ie,a=t[0].length,s=t.length,u=s,l=n(s),c=1/0,h=[];u--;){var f=t[u];u&&e&&(f=ke(f,Qe(e))),c=bn(f.length,c),l[u]=!r&&(e||a>=120&&f.length>=120)?new Kn(u&&f):o}f=t[0];var p=-1,d=l[0];t:for(;++p<a&&h.length<c;){var v=f[p],m=e?e(v):v;if(v=r||0!==v?v:0,!(d?tn(d,m):i(h,m,r))){for(u=s;--u;){var g=l[u];if(!(g?tn(g,m):i(t[u],m,r)))continue t}d&&d.push(m),h.push(v)}}return h}function Rr(t,e,n){var r=null==(t=Mo(t,e=bi(e,t)))?t:t[jo(Qo(e))];return null==r?o:Ae(r,t,n)}function Ir(t){return rs(t)&&Ar(t)==_}function Nr(t,e,n,r,i){return t===e||(null==t||null==e||!rs(t)&&!rs(e)?t!==t&&e!==e:function(t,e,n,r,i,a){var s=Ya(t),u=Ya(e),l=s?b:mo(t),c=u?b:mo(e),h=(l=l==_?P:l)==P,f=(c=c==_?P:c)==P,p=l==c;if(p&&Za(t)){if(!Za(e))return!1;s=!0,h=!1}if(p&&!h)return a||(a=new Zn),s||hs(t)?no(t,e,n,r,i,a):function(t,e,n,r,i,o,a){switch(n){case L:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case D:return!(t.byteLength!=e.byteLength||!o(new Xt(t),new Xt(e)));case x:case w:case O:return za(+t,+e);case E:return t.name==e.name&&t.message==e.message;case C:case I:return t==e+"";case A:var s=ln;case R:var u=1&r;if(s||(s=fn),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;r|=2,a.set(t,e);var c=no(s(t),s(e),r,i,o,a);return a.delete(t),c;case N:if(jn)return jn.call(t)==jn.call(e)}return!1}(t,e,l,n,r,i,a);if(!(1&n)){var d=h&&Dt.call(t,"__wrapped__"),v=f&&Dt.call(e,"__wrapped__");if(d||v){var m=d?t.value():t,g=v?e.value():e;return a||(a=new Zn),i(m,g,n,r,a)}}if(!p)return!1;return a||(a=new Zn),function(t,e,n,r,i,a){var s=1&n,u=io(t),l=u.length,c=io(e).length;if(l!=c&&!s)return!1;var h=l;for(;h--;){var f=u[h];if(!(s?f in e:Dt.call(e,f)))return!1}var p=a.get(t),d=a.get(e);if(p&&d)return p==e&&d==t;var v=!0;a.set(t,e),a.set(e,t);var m=s;for(;++h<l;){var g=t[f=u[h]],y=e[f];if(r)var _=s?r(y,g,f,e,t,a):r(g,y,f,t,e,a);if(!(_===o?g===y||i(g,y,n,r,a):_)){v=!1;break}m||(m="constructor"==f)}if(v&&!m){var b=t.constructor,x=e.constructor;b==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(v=!1)}return a.delete(t),a.delete(e),v}(t,e,n,r,i,a)}(t,e,n,r,Nr,i))}function kr(t,e,n,r){var i=n.length,a=i,s=!r;if(null==t)return!a;for(t=At(t);i--;){var u=n[i];if(s&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<a;){var l=(u=n[i])[0],c=t[l],h=u[1];if(s&&u[2]){if(c===o&&!(l in t))return!1}else{var f=new Zn;if(r)var p=r(c,h,l,t,e,f);if(!(p===o?Nr(h,c,3,r,f):p))return!1}}return!0}function Dr(t){return!(!ns(t)||(e=t,Ft&&Ft in e))&&(Ja(t)?Gt:_t).test(Bo(t));var e}function Lr(t){return"function"==typeof t?t:null==t?ou:"object"==typeof t?Ya(t)?zr(t[0],t[1]):Gr(t):du(t)}function Fr(t){if(!So(t))return We(t);var e=[];for(var n in At(t))Dt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Ur(t){if(!ns(t))return function(t){var e=[];if(null!=t)for(var n in At(t))e.push(n);return e}(t);var e=So(t),n=[];for(var r in t)("constructor"!=r||!e&&Dt.call(t,r))&&n.push(r);return n}function jr(t,e){return t<e}function Br(t,e){var r=-1,i=qa(t)?n(t.length):[];return pr(t,(function(t,n,o){i[++r]=e(t,n,o)})),i}function Gr(t){var e=ho(t);return 1==e.length&&e[0][2]?Oo(e[0][0],e[0][1]):function(n){return n===t||kr(n,t,e)}}function zr(t,e){return wo(t)&&Ao(e)?Oo(jo(t),e):function(n){var r=Ps(n,t);return r===o&&r===e?Ms(n,t):Nr(e,r,3)}}function Vr(t,e,n,r,i){t!==e&&_r(e,(function(a,s){if(i||(i=new Zn),ns(a))!function(t,e,n,r,i,a,s){var u=Ro(t,n),l=Ro(e,n),c=s.get(l);if(c)return void er(t,n,c);var h=a?a(u,l,n+"",t,e,s):o,f=h===o;if(f){var p=Ya(l),d=!p&&Za(l),v=!p&&!d&&hs(l);h=l,p||d||v?Ya(u)?h=u:Ka(u)?h=Ci(u):d?(f=!1,h=Ti(l,!0)):v?(f=!1,h=Ai(l,!0)):h=[]:as(l)||Ha(l)?(h=u,Ha(u)?h=_s(u):ns(u)&&!Ja(u)||(h=yo(l))):f=!1}f&&(s.set(l,h),i(h,l,r,a,s),s.delete(l));er(t,n,h)}(t,e,s,n,Vr,r,i);else{var u=r?r(Ro(t,s),a,s+"",t,e,i):o;u===o&&(u=a),er(t,s,u)}}),ks)}function Xr(t,e){var n=t.length;if(n)return bo(e+=e<0?n:0,n)?t[e]:o}function Hr(t,e,n){e=e.length?ke(e,(function(t){return Ya(t)?function(e){return Tr(e,1===t.length?t[0]:t)}:t})):[ou];var r=-1;e=ke(e,Qe(lo()));var i=Br(t,(function(t,n,i){var o=ke(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(i,(function(t,e){return function(t,e,n){var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;for(;++r<a;){var u=Oi(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}))}function Yr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=Tr(t,a);n(s,a)&&ti(o,bi(a,t),s)}return o}function Wr(t,e,n,r){var i=r?Ve:ze,o=-1,a=e.length,s=t;for(t===e&&(e=Ci(e)),n&&(s=ke(t,Qe(n)));++o<a;)for(var u=0,l=e[o],c=n?n(l):l;(u=i(s,c,u,r))>-1;)s!==t&&Kt.call(s,u,1),Kt.call(t,u,1);return t}function qr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;bo(i)?Kt.call(t,i,1):fi(t,i)}}return t}function Kr(t,e){return t+ve(En()*(e-t+1))}function Zr(t,e){var n="";if(!t||e<1||e>v)return n;do{e%2&&(n+=t),(e=ve(e/2))&&(t+=t)}while(e);return n}function $r(t,e){return ko(Po(t,e,ou),t+"")}function Qr(t){return Qn(zs(t))}function Jr(t,e){var n=zs(t);return Fo(n,ur(e,0,n.length))}function ti(t,e,n,r){if(!ns(t))return t;for(var i=-1,a=(e=bi(e,t)).length,s=a-1,u=t;null!=u&&++i<a;){var l=jo(e[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(i!=s){var h=u[l];(c=r?r(h,l,u):o)===o&&(c=ns(h)?h:bo(e[i+1])?[]:{})}nr(u,l,c),u=u[l]}return t}var ei=Rn?function(t,e){return Rn.set(t,e),t}:ou,ni=ee?function(t,e){return ee(t,"toString",{configurable:!0,enumerable:!1,value:nu(e),writable:!0})}:ou;function ri(t){return Fo(zs(t))}function ii(t,e,r){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var a=n(o);++i<o;)a[i]=t[i+e];return a}function oi(t,e){var n;return pr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ai(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!cs(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return si(t,e,ou,n)}function si(t,e,n,r){var i=0,a=null==t?0:t.length;if(0===a)return 0;for(var s=(e=n(e))!==e,u=null===e,l=cs(e),c=e===o;i<a;){var h=ve((i+a)/2),f=n(t[h]),p=f!==o,d=null===f,v=f===f,m=cs(f);if(s)var g=r||v;else g=c?v&&(r||p):u?v&&p&&(r||!d):l?v&&p&&!d&&(r||!m):!d&&!m&&(r?f<=e:f<e);g?i=h+1:a=h}return bn(a,4294967294)}function ui(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!za(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function li(t){return"number"==typeof t?t:cs(t)?m:+t}function ci(t){if("string"==typeof t)return t;if(Ya(t))return ke(t,ci)+"";if(cs(t))return Bn?Bn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function hi(t,e,n){var r=-1,i=Ie,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=Ne;else if(o>=200){var l=e?null:Zi(t);if(l)return fn(l);a=!1,i=tn,u=new Kn}else u=e?[]:s;t:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||0!==c?c:0,a&&h===h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),s.push(c)}else i(u,h,n)||(u!==s&&u.push(h),s.push(c))}return s}function fi(t,e){return null==(t=Mo(t,e=bi(e,t)))||delete t[jo(Qo(e))]}function pi(t,e,n,r){return ti(t,e,n(Tr(t,e)),r)}function di(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ii(t,r?0:o,r?o+1:i):ii(t,r?o+1:0,r?i:o)}function vi(t,e){var n=t;return n instanceof Hn&&(n=n.value()),Le(e,(function(t,e){return e.func.apply(e.thisArg,De([t],e.args))}),n)}function mi(t,e,r){var i=t.length;if(i<2)return i?hi(t[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=t[o],u=-1;++u<i;)u!=o&&(a[o]=fr(a[o]||s,t[u],e,r));return hi(yr(a,1),e,r)}function gi(t,e,n){for(var r=-1,i=t.length,a=e.length,s={};++r<i;){var u=r<a?e[r]:o;n(s,t[r],u)}return s}function yi(t){return Ka(t)?t:[]}function _i(t){return"function"==typeof t?t:ou}function bi(t,e){return Ya(t)?t:wo(t,e)?[t]:Uo(bs(t))}var xi=$r;function wi(t,e,n){var r=t.length;return n=n===o?r:n,!e&&n>=r?t:ii(t,e,n)}var Ei=re||function(t){return de.clearTimeout(t)};function Ti(t,e){if(e)return t.slice();var n=t.length,r=Ht?Ht(n):new t.constructor(n);return t.copy(r),r}function Si(t){var e=new t.constructor(t.byteLength);return new Xt(e).set(new Xt(t)),e}function Ai(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Oi(t,e){if(t!==e){var n=t!==o,r=null===t,i=t===t,a=cs(t),s=e!==o,u=null===e,l=e===e,c=cs(e);if(!u&&!c&&!a&&t>e||a&&s&&l&&!u&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!a&&!c&&t<e||c&&n&&i&&!r&&!a||u&&n&&i||!s&&i||!l)return-1}return 0}function Pi(t,e,r,i){for(var o=-1,a=t.length,s=r.length,u=-1,l=e.length,c=_n(a-s,0),h=n(l+c),f=!i;++u<l;)h[u]=e[u];for(;++o<s;)(f||o<a)&&(h[r[o]]=t[o]);for(;c--;)h[u++]=t[o++];return h}function Mi(t,e,r,i){for(var o=-1,a=t.length,s=-1,u=r.length,l=-1,c=e.length,h=_n(a-u,0),f=n(h+c),p=!i;++o<h;)f[o]=t[o];for(var d=o;++l<c;)f[d+l]=e[l];for(;++s<u;)(p||o<a)&&(f[d+r[s]]=t[o++]);return f}function Ci(t,e){var r=-1,i=t.length;for(e||(e=n(i));++r<i;)e[r]=t[r];return e}function Ri(t,e,n,r){var i=!n;n||(n={});for(var a=-1,s=e.length;++a<s;){var u=e[a],l=r?r(n[u],t[u],u,n,t):o;l===o&&(l=t[u]),i?ar(n,u,l):nr(n,u,l)}return n}function Ii(t,e){return function(n,r){var i=Ya(n)?Oe:ir,o=e?e():{};return i(n,t,lo(r,2),o)}}function Ni(t){return $r((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=t.length>3&&"function"==typeof a?(i--,a):o,s&&xo(n[0],n[1],s)&&(a=i<3?o:a,i=1),e=At(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e}))}function ki(t,e){return function(n,r){if(null==n)return n;if(!qa(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=At(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Di(t){return function(e,n,r){for(var i=-1,o=At(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function Li(t){return function(e){var n=un(e=bs(e))?vn(e):o,r=n?n[0]:e.charAt(0),i=n?wi(n,1).join(""):e.slice(1);return r[t]()+i}}function Fi(t){return function(e){return Le(Js(Hs(e).replace(Jt,"")),t,"")}}function Ui(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=zn(t.prototype),r=t.apply(n,e);return ns(r)?r:n}}function ji(t){return function(e,n,r){var i=At(e);if(!qa(e)){var a=lo(n,3);e=Ns(e),n=function(t){return a(i[t],t,i)}}var s=t(e,n,r);return s>-1?i[a?e[s]:s]:o}}function Bi(t){return ro((function(e){var n=e.length,r=n,i=Xn.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new Mt(a);if(i&&!u&&"wrapper"==so(s))var u=new Xn([],!0)}for(r=u?r:n;++r<n;){var l=so(s=e[r]),c="wrapper"==l?ao(s):o;u=c&&Eo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[so(c[0])].apply(u,c[3]):1==s.length&&Eo(s)?u[l]():u.thru(s)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&Ya(r))return u.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Gi(t,e,r,i,a,s,u,l,c,h){var p=e&f,d=1&e,v=2&e,m=24&e,g=512&e,y=v?o:Ui(t);return function o(){for(var f=arguments.length,_=n(f),b=f;b--;)_[b]=arguments[b];if(m)var x=uo(o),w=rn(_,x);if(i&&(_=Pi(_,i,a,m)),s&&(_=Mi(_,s,u,m)),f-=w,m&&f<h){var E=hn(_,x);return qi(t,e,Gi,o.placeholder,r,_,E,l,c,h-f)}var T=d?r:this,S=v?T[t]:t;return f=_.length,l?_=Co(_,l):g&&f>1&&_.reverse(),p&&c<f&&(_.length=c),this&&this!==de&&this instanceof o&&(S=y||Ui(S)),S.apply(T,_)}}function zi(t,e){return function(n,r){return function(t,e,n,r){return xr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Vi(t,e){return function(n,r){var i;if(n===o&&r===o)return e;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),i=t(n,r)}return i}}function Xi(t){return ro((function(e){return e=ke(e,Qe(lo())),$r((function(n){var r=this;return t(e,(function(t){return Ae(t,r,n)}))}))}))}function Hi(t,e){var n=(e=e===o?" ":ci(e)).length;if(n<2)return n?Zr(e,t):e;var r=Zr(e,pe(t/dn(e)));return un(e)?wi(vn(r),0,t).join(""):r.slice(0,t)}function Yi(t){return function(e,r,i){return i&&"number"!=typeof i&&xo(e,r,i)&&(r=i=o),e=vs(e),r===o?(r=e,e=0):r=vs(r),function(t,e,r,i){for(var o=-1,a=_n(pe((e-t)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=t,t+=r;return s}(e,r,i=i===o?e<r?1:-1:vs(i),t)}}function Wi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=ys(e),n=ys(n)),t(e,n)}}function qi(t,e,n,r,i,a,s,u,l,f){var p=8&e;e|=p?c:h,4&(e&=~(p?h:c))||(e&=-4);var d=[t,e,i,p?a:o,p?s:o,p?o:a,p?o:s,u,l,f],v=n.apply(o,d);return Eo(t)&&Io(v,d),v.placeholder=r,Do(v,t,e)}function Ki(t){var e=St[t];return function(t,n){if(t=ys(t),(n=null==n?0:bn(ms(n),292))&&_e(t)){var r=(bs(t)+"e").split("e");return+((r=(bs(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Zi=Pn&&1/fn(new Pn([,-0]))[1]==d?function(t){return new Pn(t)}:cu;function $i(t){return function(e){var n=mo(e);return n==A?ln(e):n==R?pn(e):function(t,e){return ke(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Qi(t,e,r,i,s,d,v,m){var g=2&e;if(!g&&"function"!=typeof t)throw new Mt(a);var y=i?i.length:0;if(y||(e&=-97,i=s=o),v=v===o?v:_n(ms(v),0),m=m===o?m:ms(m),y-=s?s.length:0,e&h){var _=i,b=s;i=s=o}var x=g?o:ao(t),w=[t,e,r,i,s,_,b,d,v,m];if(x&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,a=r==f&&8==n||r==f&&n==p&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!a)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var s=e[3];if(s){var l=t[3];t[3]=l?Pi(l,s,e[4]):s,t[4]=l?hn(t[3],u):e[4]}(s=e[5])&&(l=t[5],t[5]=l?Mi(l,s,e[6]):s,t[6]=l?hn(t[5],u):e[6]);(s=e[7])&&(t[7]=s);r&f&&(t[8]=null==t[8]?e[8]:bn(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=i}(w,x),t=w[0],e=w[1],r=w[2],i=w[3],s=w[4],!(m=w[9]=w[9]===o?g?0:t.length:_n(w[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)E=8==e||e==l?function(t,e,r){var i=Ui(t);return function a(){for(var s=arguments.length,u=n(s),l=s,c=uo(a);l--;)u[l]=arguments[l];var h=s<3&&u[0]!==c&&u[s-1]!==c?[]:hn(u,c);return(s-=h.length)<r?qi(t,e,Gi,a.placeholder,o,u,h,o,o,r-s):Ae(this&&this!==de&&this instanceof a?i:t,this,u)}}(t,e,m):e!=c&&33!=e||s.length?Gi.apply(o,w):function(t,e,r,i){var o=1&e,a=Ui(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=i.length,h=n(c+u),f=this&&this!==de&&this instanceof e?a:t;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++s];return Ae(f,o?r:this,h)}}(t,e,r,i);else var E=function(t,e,n){var r=1&e,i=Ui(t);return function e(){return(this&&this!==de&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return Do((x?ei:Io)(E,w),t,e)}function Ji(t,e,n,r){return t===o||za(t,It[n])&&!Dt.call(r,n)?e:t}function to(t,e,n,r,i,a){return ns(t)&&ns(e)&&(a.set(e,t),Vr(t,e,o,to,a),a.delete(e)),t}function eo(t){return as(t)?o:t}function no(t,e,n,r,i,a){var s=1&n,u=t.length,l=e.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(t),h=a.get(e);if(c&&h)return c==e&&h==t;var f=-1,p=!0,d=2&n?new Kn:o;for(a.set(t,e),a.set(e,t);++f<u;){var v=t[f],m=e[f];if(r)var g=s?r(m,v,f,e,t,a):r(v,m,f,t,e,a);if(g!==o){if(g)continue;p=!1;break}if(d){if(!Ue(e,(function(t,e){if(!tn(d,e)&&(v===t||i(v,t,n,r,a)))return d.push(e)}))){p=!1;break}}else if(v!==m&&!i(v,m,n,r,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function ro(t){return ko(Po(t,o,Wo),t+"")}function io(t){return Sr(t,Ns,po)}function oo(t){return Sr(t,ks,vo)}var ao=Rn?function(t){return Rn.get(t)}:cu;function so(t){for(var e=t.name+"",n=In[e],r=Dt.call(In,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function uo(t){return(Dt.call(Gn,"placeholder")?Gn:t).placeholder}function lo(){var t=Gn.iteratee||au;return t=t===au?Lr:t,arguments.length?t(arguments[0],arguments[1]):t}function co(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function ho(t){for(var e=Ns(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ao(i)]}return e}function fo(t,e){var n=function(t,e){return null==t?o:t[e]}(t,e);return Dr(n)?n:o}var po=me?function(t){return null==t?[]:(t=At(t),Re(me(t),(function(e){return qt.call(t,e)})))}:gu,vo=me?function(t){for(var e=[];t;)De(e,po(t)),t=Yt(t);return e}:gu,mo=Ar;function go(t,e,n){for(var r=-1,i=(e=bi(e,t)).length,o=!1;++r<i;){var a=jo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&es(i)&&bo(a,i)&&(Ya(t)||Ha(t))}function yo(t){return"function"!=typeof t.constructor||So(t)?{}:zn(Yt(t))}function _o(t){return Ya(t)||Ha(t)||!!(Zt&&t&&t[Zt])}function bo(t,e){var n=typeof t;return!!(e=null==e?v:e)&&("number"==n||"symbol"!=n&&xt.test(t))&&t>-1&&t%1==0&&t<e}function xo(t,e,n){if(!ns(n))return!1;var r=typeof e;return!!("number"==r?qa(n)&&bo(e,n.length):"string"==r&&e in n)&&za(n[e],t)}function wo(t,e){if(Ya(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!cs(t))||(rt.test(t)||!nt.test(t)||null!=e&&t in At(e))}function Eo(t){var e=so(t),n=Gn[e];if("function"!=typeof n||!(e in Hn.prototype))return!1;if(t===n)return!0;var r=ao(n);return!!r&&t===r[0]}(Sn&&mo(new Sn(new ArrayBuffer(1)))!=L||An&&mo(new An)!=A||On&&mo(On.resolve())!=M||Pn&&mo(new Pn)!=R||Mn&&mo(new Mn)!=k)&&(mo=function(t){var e=Ar(t),n=e==P?t.constructor:o,r=n?Bo(n):"";if(r)switch(r){case Nn:return L;case kn:return A;case Dn:return M;case Ln:return R;case Fn:return k}return e});var To=Nt?Ja:yu;function So(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||It)}function Ao(t){return t===t&&!ns(t)}function Oo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==o||t in At(n)))}}function Po(t,e,r){return e=_n(e===o?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=_n(i.length-e,0),s=n(a);++o<a;)s[o]=i[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=i[o];return u[e]=r(s),Ae(t,this,u)}}function Mo(t,e){return e.length<2?t:Tr(t,ii(e,0,-1))}function Co(t,e){for(var n=t.length,r=bn(e.length,n),i=Ci(t);r--;){var a=e[r];t[r]=bo(a,n)?i[a]:o}return t}function Ro(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}var Io=Lo(ei),No=fe||function(t,e){return de.setTimeout(t,e)},ko=Lo(ni);function Do(t,e,n){var r=e+"";return ko(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(lt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Pe(y,(function(n){var r="_."+n[0];e&n[1]&&!Ie(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ct);return e?e[1].split(ht):[]}(r),n)))}function Lo(t){var e=0,n=0;return function(){var r=xn(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(o,arguments)}}function Fo(t,e){var n=-1,r=t.length,i=r-1;for(e=e===o?r:e;++n<e;){var a=Kr(n,i),s=t[a];t[a]=t[n],t[n]=s}return t.length=e,t}var Uo=function(t){var e=La(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(it,(function(t,n,r,i){e.push(r?i.replace(dt,"$1"):n||t)})),e}));function jo(t){if("string"==typeof t||cs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Bo(t){if(null!=t){try{return kt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Go(t){if(t instanceof Hn)return t.clone();var e=new Xn(t.__wrapped__,t.__chain__);return e.__actions__=Ci(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var zo=$r((function(t,e){return Ka(t)?fr(t,yr(e,1,Ka,!0)):[]})),Vo=$r((function(t,e){var n=Qo(e);return Ka(n)&&(n=o),Ka(t)?fr(t,yr(e,1,Ka,!0),lo(n,2)):[]})),Xo=$r((function(t,e){var n=Qo(e);return Ka(n)&&(n=o),Ka(t)?fr(t,yr(e,1,Ka,!0),o,n):[]}));function Ho(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ms(n);return i<0&&(i=_n(r+i,0)),Ge(t,lo(e,3),i)}function Yo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==o&&(i=ms(n),i=n<0?_n(r+i,0):bn(i,r-1)),Ge(t,lo(e,3),i,!0)}function Wo(t){return(null==t?0:t.length)?yr(t,1):[]}function qo(t){return t&&t.length?t[0]:o}var Ko=$r((function(t){var e=ke(t,yi);return e.length&&e[0]===t[0]?Cr(e):[]})),Zo=$r((function(t){var e=Qo(t),n=ke(t,yi);return e===Qo(n)?e=o:n.pop(),n.length&&n[0]===t[0]?Cr(n,lo(e,2)):[]})),$o=$r((function(t){var e=Qo(t),n=ke(t,yi);return(e="function"==typeof e?e:o)&&n.pop(),n.length&&n[0]===t[0]?Cr(n,o,e):[]}));function Qo(t){var e=null==t?0:t.length;return e?t[e-1]:o}var Jo=$r(ta);function ta(t,e){return t&&t.length&&e&&e.length?Wr(t,e):t}var ea=ro((function(t,e){var n=null==t?0:t.length,r=sr(t,e);return qr(t,ke(e,(function(t){return bo(t,n)?+t:t})).sort(Oi)),r}));function na(t){return null==t?t:Tn.call(t)}var ra=$r((function(t){return hi(yr(t,1,Ka,!0))})),ia=$r((function(t){var e=Qo(t);return Ka(e)&&(e=o),hi(yr(t,1,Ka,!0),lo(e,2))})),oa=$r((function(t){var e=Qo(t);return e="function"==typeof e?e:o,hi(yr(t,1,Ka,!0),o,e)}));function aa(t){if(!t||!t.length)return[];var e=0;return t=Re(t,(function(t){if(Ka(t))return e=_n(t.length,e),!0})),Ze(e,(function(e){return ke(t,Ye(e))}))}function sa(t,e){if(!t||!t.length)return[];var n=aa(t);return null==e?n:ke(n,(function(t){return Ae(e,o,t)}))}var ua=$r((function(t,e){return Ka(t)?fr(t,e):[]})),la=$r((function(t){return mi(Re(t,Ka))})),ca=$r((function(t){var e=Qo(t);return Ka(e)&&(e=o),mi(Re(t,Ka),lo(e,2))})),ha=$r((function(t){var e=Qo(t);return e="function"==typeof e?e:o,mi(Re(t,Ka),o,e)})),fa=$r(aa);var pa=$r((function(t){var e=t.length,n=e>1?t[e-1]:o;return n="function"==typeof n?(t.pop(),n):o,sa(t,n)}));function da(t){var e=Gn(t);return e.__chain__=!0,e}function va(t,e){return e(t)}var ma=ro((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,i=function(e){return sr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Hn&&bo(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:va,args:[i],thisArg:o}),new Xn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(o),t}))):this.thru(i)}));var ga=Ii((function(t,e,n){Dt.call(t,n)?++t[n]:ar(t,n,1)}));var ya=ji(Ho),_a=ji(Yo);function ba(t,e){return(Ya(t)?Pe:pr)(t,lo(e,3))}function xa(t,e){return(Ya(t)?Me:dr)(t,lo(e,3))}var wa=Ii((function(t,e,n){Dt.call(t,n)?t[n].push(e):ar(t,n,[e])}));var Ea=$r((function(t,e,r){var i=-1,o="function"==typeof e,a=qa(t)?n(t.length):[];return pr(t,(function(t){a[++i]=o?Ae(e,t,r):Rr(t,e,r)})),a})),Ta=Ii((function(t,e,n){ar(t,n,e)}));function Sa(t,e){return(Ya(t)?ke:Br)(t,lo(e,3))}var Aa=Ii((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]}));var Oa=$r((function(t,e){if(null==t)return[];var n=e.length;return n>1&&xo(t,e[0],e[1])?e=[]:n>2&&xo(e[0],e[1],e[2])&&(e=[e[0]]),Hr(t,yr(e,1),[])})),Pa=le||function(){return de.Date.now()};function Ma(t,e,n){return e=n?o:e,e=t&&null==e?t.length:e,Qi(t,f,o,o,o,o,e)}function Ca(t,e){var n;if("function"!=typeof e)throw new Mt(a);return t=ms(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=o),n}}var Ra=$r((function(t,e,n){var r=1;if(n.length){var i=hn(n,uo(Ra));r|=c}return Qi(t,r,e,n,i)})),Ia=$r((function(t,e,n){var r=3;if(n.length){var i=hn(n,uo(Ia));r|=c}return Qi(e,r,t,n,i)}));function Na(t,e,n){var r,i,s,u,l,c,h=0,f=!1,p=!1,d=!0;if("function"!=typeof t)throw new Mt(a);function v(e){var n=r,a=i;return r=i=o,h=e,u=t.apply(a,n)}function m(t){return h=t,l=No(y,e),f?v(t):u}function g(t){var n=t-c;return c===o||n>=e||n<0||p&&t-h>=s}function y(){var t=Pa();if(g(t))return _(t);l=No(y,function(t){var n=e-(t-c);return p?bn(n,s-(t-h)):n}(t))}function _(t){return l=o,d&&r?v(t):(r=i=o,u)}function b(){var t=Pa(),n=g(t);if(r=arguments,i=this,c=t,n){if(l===o)return m(c);if(p)return Ei(l),l=No(y,e),v(c)}return l===o&&(l=No(y,e)),u}return e=ys(e)||0,ns(n)&&(f=!!n.leading,s=(p="maxWait"in n)?_n(ys(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),b.cancel=function(){l!==o&&Ei(l),h=0,r=c=i=l=o},b.flush=function(){return l===o?u:_(Pa())},b}var ka=$r((function(t,e){return hr(t,1,e)})),Da=$r((function(t,e,n){return hr(t,ys(e)||0,n)}));function La(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Mt(a);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(La.Cache||qn),n}function Fa(t){if("function"!=typeof t)throw new Mt(a);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}La.Cache=qn;var Ua=xi((function(t,e){var n=(e=1==e.length&&Ya(e[0])?ke(e[0],Qe(lo())):ke(yr(e,1),Qe(lo()))).length;return $r((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Ae(t,this,r)}))})),ja=$r((function(t,e){var n=hn(e,uo(ja));return Qi(t,c,o,e,n)})),Ba=$r((function(t,e){var n=hn(e,uo(Ba));return Qi(t,h,o,e,n)})),Ga=ro((function(t,e){return Qi(t,p,o,o,o,e)}));function za(t,e){return t===e||t!==t&&e!==e}var Va=Wi(Or),Xa=Wi((function(t,e){return t>=e})),Ha=Ir(function(){return arguments}())?Ir:function(t){return rs(t)&&Dt.call(t,"callee")&&!qt.call(t,"callee")},Ya=n.isArray,Wa=be?Qe(be):function(t){return rs(t)&&Ar(t)==D};function qa(t){return null!=t&&es(t.length)&&!Ja(t)}function Ka(t){return rs(t)&&qa(t)}var Za=ye||yu,$a=xe?Qe(xe):function(t){return rs(t)&&Ar(t)==w};function Qa(t){if(!rs(t))return!1;var e=Ar(t);return e==E||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!as(t)}function Ja(t){if(!ns(t))return!1;var e=Ar(t);return e==T||e==S||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ts(t){return"number"==typeof t&&t==ms(t)}function es(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=v}function ns(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function rs(t){return null!=t&&"object"==typeof t}var is=we?Qe(we):function(t){return rs(t)&&mo(t)==A};function os(t){return"number"==typeof t||rs(t)&&Ar(t)==O}function as(t){if(!rs(t)||Ar(t)!=P)return!1;var e=Yt(t);if(null===e)return!0;var n=Dt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&kt.call(n)==jt}var ss=Ee?Qe(Ee):function(t){return rs(t)&&Ar(t)==C};var us=Te?Qe(Te):function(t){return rs(t)&&mo(t)==R};function ls(t){return"string"==typeof t||!Ya(t)&&rs(t)&&Ar(t)==I}function cs(t){return"symbol"==typeof t||rs(t)&&Ar(t)==N}var hs=Se?Qe(Se):function(t){return rs(t)&&es(t.length)&&!!se[Ar(t)]};var fs=Wi(jr),ps=Wi((function(t,e){return t<=e}));function ds(t){if(!t)return[];if(qa(t))return ls(t)?vn(t):Ci(t);if($t&&t[$t])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[$t]());var e=mo(t);return(e==A?ln:e==R?fn:zs)(t)}function vs(t){return t?(t=ys(t))===d||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}function ms(t){var e=vs(t),n=e%1;return e===e?n?e-n:e:0}function gs(t){return t?ur(ms(t),0,g):0}function ys(t){if("number"==typeof t)return t;if(cs(t))return m;if(ns(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ns(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=$e(t);var n=yt.test(t);return n||bt.test(t)?he(t.slice(2),n?2:8):gt.test(t)?m:+t}function _s(t){return Ri(t,ks(t))}function bs(t){return null==t?"":ci(t)}var xs=Ni((function(t,e){if(So(e)||qa(e))Ri(e,Ns(e),t);else for(var n in e)Dt.call(e,n)&&nr(t,n,e[n])})),ws=Ni((function(t,e){Ri(e,ks(e),t)})),Es=Ni((function(t,e,n,r){Ri(e,ks(e),t,r)})),Ts=Ni((function(t,e,n,r){Ri(e,Ns(e),t,r)})),Ss=ro(sr);var As=$r((function(t,e){t=At(t);var n=-1,r=e.length,i=r>2?e[2]:o;for(i&&xo(e[0],e[1],i)&&(r=1);++n<r;)for(var a=e[n],s=ks(a),u=-1,l=s.length;++u<l;){var c=s[u],h=t[c];(h===o||za(h,It[c])&&!Dt.call(t,c))&&(t[c]=a[c])}return t})),Os=$r((function(t){return t.push(o,to),Ae(Ls,o,t)}));function Ps(t,e,n){var r=null==t?o:Tr(t,e);return r===o?n:r}function Ms(t,e){return null!=t&&go(t,e,Mr)}var Cs=zi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ut.call(e)),t[e]=n}),nu(ou)),Rs=zi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Ut.call(e)),Dt.call(t,e)?t[e].push(n):t[e]=[n]}),lo),Is=$r(Rr);function Ns(t){return qa(t)?$n(t):Fr(t)}function ks(t){return qa(t)?$n(t,!0):Ur(t)}var Ds=Ni((function(t,e,n){Vr(t,e,n)})),Ls=Ni((function(t,e,n,r){Vr(t,e,n,r)})),Fs=ro((function(t,e){var n={};if(null==t)return n;var r=!1;e=ke(e,(function(e){return e=bi(e,t),r||(r=e.length>1),e})),Ri(t,oo(t),n),r&&(n=lr(n,7,eo));for(var i=e.length;i--;)fi(n,e[i]);return n}));var Us=ro((function(t,e){return null==t?{}:function(t,e){return Yr(t,e,(function(e,n){return Ms(t,n)}))}(t,e)}));function js(t,e){if(null==t)return{};var n=ke(oo(t),(function(t){return[t]}));return e=lo(e),Yr(t,n,(function(t,n){return e(t,n[0])}))}var Bs=$i(Ns),Gs=$i(ks);function zs(t){return null==t?[]:Je(t,Ns(t))}var Vs=Fi((function(t,e,n){return e=e.toLowerCase(),t+(n?Xs(e):e)}));function Xs(t){return Qs(bs(t).toLowerCase())}function Hs(t){return(t=bs(t))&&t.replace(wt,on).replace(te,"")}var Ys=Fi((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ws=Fi((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),qs=Li("toLowerCase");var Ks=Fi((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}));var Zs=Fi((function(t,e,n){return t+(n?" ":"")+Qs(e)}));var $s=Fi((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Qs=Li("toUpperCase");function Js(t,e,n){return t=bs(t),(e=n?o:e)===o?function(t){return ie.test(t)}(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.match(ft)||[]}(t):t.match(e)||[]}var tu=$r((function(t,e){try{return Ae(t,o,e)}catch(n){return Qa(n)?n:new i(n)}})),eu=ro((function(t,e){return Pe(e,(function(e){e=jo(e),ar(t,e,Ra(t[e],t))})),t}));function nu(t){return function(){return t}}var ru=Bi(),iu=Bi(!0);function ou(t){return t}function au(t){return Lr("function"==typeof t?t:lr(t,1))}var su=$r((function(t,e){return function(n){return Rr(n,t,e)}})),uu=$r((function(t,e){return function(n){return Rr(t,n,e)}}));function lu(t,e,n){var r=Ns(e),i=Er(e,r);null!=n||ns(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Er(e,Ns(e)));var o=!(ns(n)&&"chain"in n)||!!n.chain,a=Ja(t);return Pe(i,(function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),i=n.__actions__=Ci(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,De([this.value()],arguments))})})),t}function cu(){}var hu=Xi(ke),fu=Xi(Ce),pu=Xi(Ue);function du(t){return wo(t)?Ye(jo(t)):function(t){return function(e){return Tr(e,t)}}(t)}var vu=Yi(),mu=Yi(!0);function gu(){return[]}function yu(){return!1}var _u=Vi((function(t,e){return t+e}),0),bu=Ki("ceil"),xu=Vi((function(t,e){return t/e}),1),wu=Ki("floor");var Eu=Vi((function(t,e){return t*e}),1),Tu=Ki("round"),Su=Vi((function(t,e){return t-e}),0);return Gn.after=function(t,e){if("function"!=typeof e)throw new Mt(a);return t=ms(t),function(){if(--t<1)return e.apply(this,arguments)}},Gn.ary=Ma,Gn.assign=xs,Gn.assignIn=ws,Gn.assignInWith=Es,Gn.assignWith=Ts,Gn.at=Ss,Gn.before=Ca,Gn.bind=Ra,Gn.bindAll=eu,Gn.bindKey=Ia,Gn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ya(t)?t:[t]},Gn.chain=da,Gn.chunk=function(t,e,r){e=(r?xo(t,e,r):e===o)?1:_n(ms(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var a=0,s=0,u=n(pe(i/e));a<i;)u[s++]=ii(t,a,a+=e);return u},Gn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Gn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),r=arguments[0],i=t;i--;)e[i-1]=arguments[i];return De(Ya(r)?Ci(r):[r],yr(e,1))},Gn.cond=function(t){var e=null==t?0:t.length,n=lo();return t=e?ke(t,(function(t){if("function"!=typeof t[1])throw new Mt(a);return[n(t[0]),t[1]]})):[],$r((function(n){for(var r=-1;++r<e;){var i=t[r];if(Ae(i[0],this,n))return Ae(i[1],this,n)}}))},Gn.conforms=function(t){return function(t){var e=Ns(t);return function(n){return cr(n,t,e)}}(lr(t,1))},Gn.constant=nu,Gn.countBy=ga,Gn.create=function(t,e){var n=zn(t);return null==e?n:or(n,e)},Gn.curry=function t(e,n,r){var i=Qi(e,8,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Gn.curryRight=function t(e,n,r){var i=Qi(e,l,o,o,o,o,o,n=r?o:n);return i.placeholder=t.placeholder,i},Gn.debounce=Na,Gn.defaults=As,Gn.defaultsDeep=Os,Gn.defer=ka,Gn.delay=Da,Gn.difference=zo,Gn.differenceBy=Vo,Gn.differenceWith=Xo,Gn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=n||e===o?1:ms(e))<0?0:e,r):[]},Gn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,0,(e=r-(e=n||e===o?1:ms(e)))<0?0:e):[]},Gn.dropRightWhile=function(t,e){return t&&t.length?di(t,lo(e,3),!0,!0):[]},Gn.dropWhile=function(t,e){return t&&t.length?di(t,lo(e,3),!0):[]},Gn.fill=function(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&xo(t,e,n)&&(n=0,r=i),function(t,e,n,r){var i=t.length;for((n=ms(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:ms(r))<0&&(r+=i),r=n>r?0:gs(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Gn.filter=function(t,e){return(Ya(t)?Re:gr)(t,lo(e,3))},Gn.flatMap=function(t,e){return yr(Sa(t,e),1)},Gn.flatMapDeep=function(t,e){return yr(Sa(t,e),d)},Gn.flatMapDepth=function(t,e,n){return n=n===o?1:ms(n),yr(Sa(t,e),n)},Gn.flatten=Wo,Gn.flattenDeep=function(t){return(null==t?0:t.length)?yr(t,d):[]},Gn.flattenDepth=function(t,e){return(null==t?0:t.length)?yr(t,e=e===o?1:ms(e)):[]},Gn.flip=function(t){return Qi(t,512)},Gn.flow=ru,Gn.flowRight=iu,Gn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Gn.functions=function(t){return null==t?[]:Er(t,Ns(t))},Gn.functionsIn=function(t){return null==t?[]:Er(t,ks(t))},Gn.groupBy=wa,Gn.initial=function(t){return(null==t?0:t.length)?ii(t,0,-1):[]},Gn.intersection=Ko,Gn.intersectionBy=Zo,Gn.intersectionWith=$o,Gn.invert=Cs,Gn.invertBy=Rs,Gn.invokeMap=Ea,Gn.iteratee=au,Gn.keyBy=Ta,Gn.keys=Ns,Gn.keysIn=ks,Gn.map=Sa,Gn.mapKeys=function(t,e){var n={};return e=lo(e,3),xr(t,(function(t,r,i){ar(n,e(t,r,i),t)})),n},Gn.mapValues=function(t,e){var n={};return e=lo(e,3),xr(t,(function(t,r,i){ar(n,r,e(t,r,i))})),n},Gn.matches=function(t){return Gr(lr(t,1))},Gn.matchesProperty=function(t,e){return zr(t,lr(e,1))},Gn.memoize=La,Gn.merge=Ds,Gn.mergeWith=Ls,Gn.method=su,Gn.methodOf=uu,Gn.mixin=lu,Gn.negate=Fa,Gn.nthArg=function(t){return t=ms(t),$r((function(e){return Xr(e,t)}))},Gn.omit=Fs,Gn.omitBy=function(t,e){return js(t,Fa(lo(e)))},Gn.once=function(t){return Ca(2,t)},Gn.orderBy=function(t,e,n,r){return null==t?[]:(Ya(e)||(e=null==e?[]:[e]),Ya(n=r?o:n)||(n=null==n?[]:[n]),Hr(t,e,n))},Gn.over=hu,Gn.overArgs=Ua,Gn.overEvery=fu,Gn.overSome=pu,Gn.partial=ja,Gn.partialRight=Ba,Gn.partition=Aa,Gn.pick=Us,Gn.pickBy=js,Gn.property=du,Gn.propertyOf=function(t){return function(e){return null==t?o:Tr(t,e)}},Gn.pull=Jo,Gn.pullAll=ta,Gn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Wr(t,e,lo(n,2)):t},Gn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Wr(t,e,o,n):t},Gn.pullAt=ea,Gn.range=vu,Gn.rangeRight=mu,Gn.rearg=Ga,Gn.reject=function(t,e){return(Ya(t)?Re:gr)(t,Fa(lo(e,3)))},Gn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=lo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return qr(t,i),n},Gn.rest=function(t,e){if("function"!=typeof t)throw new Mt(a);return $r(t,e=e===o?e:ms(e))},Gn.reverse=na,Gn.sampleSize=function(t,e,n){return e=(n?xo(t,e,n):e===o)?1:ms(e),(Ya(t)?Jn:Jr)(t,e)},Gn.set=function(t,e,n){return null==t?t:ti(t,e,n)},Gn.setWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:ti(t,e,n,r)},Gn.shuffle=function(t){return(Ya(t)?tr:ri)(t)},Gn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&xo(t,e,n)?(e=0,n=r):(e=null==e?0:ms(e),n=n===o?r:ms(n)),ii(t,e,n)):[]},Gn.sortBy=Oa,Gn.sortedUniq=function(t){return t&&t.length?ui(t):[]},Gn.sortedUniqBy=function(t,e){return t&&t.length?ui(t,lo(e,2)):[]},Gn.split=function(t,e,n){return n&&"number"!=typeof n&&xo(t,e,n)&&(e=n=o),(n=n===o?g:n>>>0)?(t=bs(t))&&("string"==typeof e||null!=e&&!ss(e))&&!(e=ci(e))&&un(t)?wi(vn(t),0,n):t.split(e,n):[]},Gn.spread=function(t,e){if("function"!=typeof t)throw new Mt(a);return e=null==e?0:_n(ms(e),0),$r((function(n){var r=n[e],i=wi(n,0,e);return r&&De(i,r),Ae(t,this,i)}))},Gn.tail=function(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]},Gn.take=function(t,e,n){return t&&t.length?ii(t,0,(e=n||e===o?1:ms(e))<0?0:e):[]},Gn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ii(t,(e=r-(e=n||e===o?1:ms(e)))<0?0:e,r):[]},Gn.takeRightWhile=function(t,e){return t&&t.length?di(t,lo(e,3),!1,!0):[]},Gn.takeWhile=function(t,e){return t&&t.length?di(t,lo(e,3)):[]},Gn.tap=function(t,e){return e(t),t},Gn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Mt(a);return ns(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Na(t,e,{leading:r,maxWait:e,trailing:i})},Gn.thru=va,Gn.toArray=ds,Gn.toPairs=Bs,Gn.toPairsIn=Gs,Gn.toPath=function(t){return Ya(t)?ke(t,jo):cs(t)?[t]:Ci(Uo(bs(t)))},Gn.toPlainObject=_s,Gn.transform=function(t,e,n){var r=Ya(t),i=r||Za(t)||hs(t);if(e=lo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:ns(t)&&Ja(o)?zn(Yt(t)):{}}return(i?Pe:xr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Gn.unary=function(t){return Ma(t,1)},Gn.union=ra,Gn.unionBy=ia,Gn.unionWith=oa,Gn.uniq=function(t){return t&&t.length?hi(t):[]},Gn.uniqBy=function(t,e){return t&&t.length?hi(t,lo(e,2)):[]},Gn.uniqWith=function(t,e){return e="function"==typeof e?e:o,t&&t.length?hi(t,o,e):[]},Gn.unset=function(t,e){return null==t||fi(t,e)},Gn.unzip=aa,Gn.unzipWith=sa,Gn.update=function(t,e,n){return null==t?t:pi(t,e,_i(n))},Gn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:o,null==t?t:pi(t,e,_i(n),r)},Gn.values=zs,Gn.valuesIn=function(t){return null==t?[]:Je(t,ks(t))},Gn.without=ua,Gn.words=Js,Gn.wrap=function(t,e){return ja(_i(e),t)},Gn.xor=la,Gn.xorBy=ca,Gn.xorWith=ha,Gn.zip=fa,Gn.zipObject=function(t,e){return gi(t||[],e||[],nr)},Gn.zipObjectDeep=function(t,e){return gi(t||[],e||[],ti)},Gn.zipWith=pa,Gn.entries=Bs,Gn.entriesIn=Gs,Gn.extend=ws,Gn.extendWith=Es,lu(Gn,Gn),Gn.add=_u,Gn.attempt=tu,Gn.camelCase=Vs,Gn.capitalize=Xs,Gn.ceil=bu,Gn.clamp=function(t,e,n){return n===o&&(n=e,e=o),n!==o&&(n=(n=ys(n))===n?n:0),e!==o&&(e=(e=ys(e))===e?e:0),ur(ys(t),e,n)},Gn.clone=function(t){return lr(t,4)},Gn.cloneDeep=function(t){return lr(t,5)},Gn.cloneDeepWith=function(t,e){return lr(t,5,e="function"==typeof e?e:o)},Gn.cloneWith=function(t,e){return lr(t,4,e="function"==typeof e?e:o)},Gn.conformsTo=function(t,e){return null==e||cr(t,e,Ns(e))},Gn.deburr=Hs,Gn.defaultTo=function(t,e){return null==t||t!==t?e:t},Gn.divide=xu,Gn.endsWith=function(t,e,n){t=bs(t),e=ci(e);var r=t.length,i=n=n===o?r:ur(ms(n),0,r);return(n-=e.length)>=0&&t.slice(n,i)==e},Gn.eq=za,Gn.escape=function(t){return(t=bs(t))&&Q.test(t)?t.replace(Z,an):t},Gn.escapeRegExp=function(t){return(t=bs(t))&&at.test(t)?t.replace(ot,"\\$&"):t},Gn.every=function(t,e,n){var r=Ya(t)?Ce:vr;return n&&xo(t,e,n)&&(e=o),r(t,lo(e,3))},Gn.find=ya,Gn.findIndex=Ho,Gn.findKey=function(t,e){return Be(t,lo(e,3),xr)},Gn.findLast=_a,Gn.findLastIndex=Yo,Gn.findLastKey=function(t,e){return Be(t,lo(e,3),wr)},Gn.floor=wu,Gn.forEach=ba,Gn.forEachRight=xa,Gn.forIn=function(t,e){return null==t?t:_r(t,lo(e,3),ks)},Gn.forInRight=function(t,e){return null==t?t:br(t,lo(e,3),ks)},Gn.forOwn=function(t,e){return t&&xr(t,lo(e,3))},Gn.forOwnRight=function(t,e){return t&&wr(t,lo(e,3))},Gn.get=Ps,Gn.gt=Va,Gn.gte=Xa,Gn.has=function(t,e){return null!=t&&go(t,e,Pr)},Gn.hasIn=Ms,Gn.head=qo,Gn.identity=ou,Gn.includes=function(t,e,n,r){t=qa(t)?t:zs(t),n=n&&!r?ms(n):0;var i=t.length;return n<0&&(n=_n(i+n,0)),ls(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&ze(t,e,n)>-1},Gn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ms(n);return i<0&&(i=_n(r+i,0)),ze(t,e,i)},Gn.inRange=function(t,e,n){return e=vs(e),n===o?(n=e,e=0):n=vs(n),function(t,e,n){return t>=bn(e,n)&&t<_n(e,n)}(t=ys(t),e,n)},Gn.invoke=Is,Gn.isArguments=Ha,Gn.isArray=Ya,Gn.isArrayBuffer=Wa,Gn.isArrayLike=qa,Gn.isArrayLikeObject=Ka,Gn.isBoolean=function(t){return!0===t||!1===t||rs(t)&&Ar(t)==x},Gn.isBuffer=Za,Gn.isDate=$a,Gn.isElement=function(t){return rs(t)&&1===t.nodeType&&!as(t)},Gn.isEmpty=function(t){if(null==t)return!0;if(qa(t)&&(Ya(t)||"string"==typeof t||"function"==typeof t.splice||Za(t)||hs(t)||Ha(t)))return!t.length;var e=mo(t);if(e==A||e==R)return!t.size;if(So(t))return!Fr(t).length;for(var n in t)if(Dt.call(t,n))return!1;return!0},Gn.isEqual=function(t,e){return Nr(t,e)},Gn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:o)?n(t,e):o;return r===o?Nr(t,e,o,n):!!r},Gn.isError=Qa,Gn.isFinite=function(t){return"number"==typeof t&&_e(t)},Gn.isFunction=Ja,Gn.isInteger=ts,Gn.isLength=es,Gn.isMap=is,Gn.isMatch=function(t,e){return t===e||kr(t,e,ho(e))},Gn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:o,kr(t,e,ho(e),n)},Gn.isNaN=function(t){return os(t)&&t!=+t},Gn.isNative=function(t){if(To(t))throw new i("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dr(t)},Gn.isNil=function(t){return null==t},Gn.isNull=function(t){return null===t},Gn.isNumber=os,Gn.isObject=ns,Gn.isObjectLike=rs,Gn.isPlainObject=as,Gn.isRegExp=ss,Gn.isSafeInteger=function(t){return ts(t)&&t>=-9007199254740991&&t<=v},Gn.isSet=us,Gn.isString=ls,Gn.isSymbol=cs,Gn.isTypedArray=hs,Gn.isUndefined=function(t){return t===o},Gn.isWeakMap=function(t){return rs(t)&&mo(t)==k},Gn.isWeakSet=function(t){return rs(t)&&"[object WeakSet]"==Ar(t)},Gn.join=function(t,e){return null==t?"":je.call(t,e)},Gn.kebabCase=Ys,Gn.last=Qo,Gn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=ms(n))<0?_n(r+i,0):bn(i,r-1)),e===e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,i):Ge(t,Xe,i,!0)},Gn.lowerCase=Ws,Gn.lowerFirst=qs,Gn.lt=fs,Gn.lte=ps,Gn.max=function(t){return t&&t.length?mr(t,ou,Or):o},Gn.maxBy=function(t,e){return t&&t.length?mr(t,lo(e,2),Or):o},Gn.mean=function(t){return He(t,ou)},Gn.meanBy=function(t,e){return He(t,lo(e,2))},Gn.min=function(t){return t&&t.length?mr(t,ou,jr):o},Gn.minBy=function(t,e){return t&&t.length?mr(t,lo(e,2),jr):o},Gn.stubArray=gu,Gn.stubFalse=yu,Gn.stubObject=function(){return{}},Gn.stubString=function(){return""},Gn.stubTrue=function(){return!0},Gn.multiply=Eu,Gn.nth=function(t,e){return t&&t.length?Xr(t,ms(e)):o},Gn.noConflict=function(){return de._===this&&(de._=Bt),this},Gn.noop=cu,Gn.now=Pa,Gn.pad=function(t,e,n){t=bs(t);var r=(e=ms(e))?dn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Hi(ve(i),n)+t+Hi(pe(i),n)},Gn.padEnd=function(t,e,n){t=bs(t);var r=(e=ms(e))?dn(t):0;return e&&r<e?t+Hi(e-r,n):t},Gn.padStart=function(t,e,n){t=bs(t);var r=(e=ms(e))?dn(t):0;return e&&r<e?Hi(e-r,n)+t:t},Gn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),wn(bs(t).replace(st,""),e||0)},Gn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&xo(t,e,n)&&(e=n=o),n===o&&("boolean"==typeof e?(n=e,e=o):"boolean"==typeof t&&(n=t,t=o)),t===o&&e===o?(t=0,e=1):(t=vs(t),e===o?(e=t,t=0):e=vs(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=En();return bn(t+i*(e-t+ce("1e-"+((i+"").length-1))),e)}return Kr(t,e)},Gn.reduce=function(t,e,n){var r=Ya(t)?Le:qe,i=arguments.length<3;return r(t,lo(e,4),n,i,pr)},Gn.reduceRight=function(t,e,n){var r=Ya(t)?Fe:qe,i=arguments.length<3;return r(t,lo(e,4),n,i,dr)},Gn.repeat=function(t,e,n){return e=(n?xo(t,e,n):e===o)?1:ms(e),Zr(bs(t),e)},Gn.replace=function(){var t=arguments,e=bs(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Gn.result=function(t,e,n){var r=-1,i=(e=bi(e,t)).length;for(i||(i=1,t=o);++r<i;){var a=null==t?o:t[jo(e[r])];a===o&&(r=i,a=n),t=Ja(a)?a.call(t):a}return t},Gn.round=Tu,Gn.runInContext=t,Gn.sample=function(t){return(Ya(t)?Qn:Qr)(t)},Gn.size=function(t){if(null==t)return 0;if(qa(t))return ls(t)?dn(t):t.length;var e=mo(t);return e==A||e==R?t.size:Fr(t).length},Gn.snakeCase=Ks,Gn.some=function(t,e,n){var r=Ya(t)?Ue:oi;return n&&xo(t,e,n)&&(e=o),r(t,lo(e,3))},Gn.sortedIndex=function(t,e){return ai(t,e)},Gn.sortedIndexBy=function(t,e,n){return si(t,e,lo(n,2))},Gn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ai(t,e);if(r<n&&za(t[r],e))return r}return-1},Gn.sortedLastIndex=function(t,e){return ai(t,e,!0)},Gn.sortedLastIndexBy=function(t,e,n){return si(t,e,lo(n,2),!0)},Gn.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=ai(t,e,!0)-1;if(za(t[n],e))return n}return-1},Gn.startCase=Zs,Gn.startsWith=function(t,e,n){return t=bs(t),n=null==n?0:ur(ms(n),0,t.length),e=ci(e),t.slice(n,n+e.length)==e},Gn.subtract=Su,Gn.sum=function(t){return t&&t.length?Ke(t,ou):0},Gn.sumBy=function(t,e){return t&&t.length?Ke(t,lo(e,2)):0},Gn.template=function(t,e,n){var r=Gn.templateSettings;n&&xo(t,e,n)&&(e=o),t=bs(t),e=Es({},e,r,Ji);var a,s,u=Es({},e.imports,r.imports,Ji),l=Ns(u),c=Je(u,l),h=0,f=e.interpolate||Et,p="__p += '",d=Ot((e.escape||Et).source+"|"+f.source+"|"+(f===et?vt:Et).source+"|"+(e.evaluate||Et).source+"|$","g"),v="//# sourceURL="+(Dt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(d,(function(e,n,r,i,o,u){return r||(r=i),p+=t.slice(h,u).replace(Tt,sn),n&&(a=!0,p+="' +\n__e("+n+") +\n'"),o&&(s=!0,p+="';\n"+o+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=u+e.length,e})),p+="';\n";var m=Dt.call(e,"variable")&&e.variable;if(m){if(pt.test(m))throw new i("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(s?p.replace(Y,""):p).replace(W,"$1").replace(q,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=tu((function(){return ut(l,v+"return "+p).apply(o,c)}));if(g.source=p,Qa(g))throw g;return g},Gn.times=function(t,e){if((t=ms(t))<1||t>v)return[];var n=g,r=bn(t,g);e=lo(e),t-=g;for(var i=Ze(r,e);++n<t;)e(n);return i},Gn.toFinite=vs,Gn.toInteger=ms,Gn.toLength=gs,Gn.toLower=function(t){return bs(t).toLowerCase()},Gn.toNumber=ys,Gn.toSafeInteger=function(t){return t?ur(ms(t),-9007199254740991,v):0===t?t:0},Gn.toString=bs,Gn.toUpper=function(t){return bs(t).toUpperCase()},Gn.trim=function(t,e,n){if((t=bs(t))&&(n||e===o))return $e(t);if(!t||!(e=ci(e)))return t;var r=vn(t),i=vn(e);return wi(r,en(r,i),nn(r,i)+1).join("")},Gn.trimEnd=function(t,e,n){if((t=bs(t))&&(n||e===o))return t.slice(0,mn(t)+1);if(!t||!(e=ci(e)))return t;var r=vn(t);return wi(r,0,nn(r,vn(e))+1).join("")},Gn.trimStart=function(t,e,n){if((t=bs(t))&&(n||e===o))return t.replace(st,"");if(!t||!(e=ci(e)))return t;var r=vn(t);return wi(r,en(r,vn(e))).join("")},Gn.truncate=function(t,e){var n=30,r="...";if(ns(e)){var i="separator"in e?e.separator:i;n="length"in e?ms(e.length):n,r="omission"in e?ci(e.omission):r}var a=(t=bs(t)).length;if(un(t)){var s=vn(t);a=s.length}if(n>=a)return t;var u=n-dn(r);if(u<1)return r;var l=s?wi(s,0,u).join(""):t.slice(0,u);if(i===o)return l+r;if(s&&(u+=l.length-u),ss(i)){if(t.slice(u).search(i)){var c,h=l;for(i.global||(i=Ot(i.source,bs(mt.exec(i))+"g")),i.lastIndex=0;c=i.exec(h);)var f=c.index;l=l.slice(0,f===o?u:f)}}else if(t.indexOf(ci(i),u)!=u){var p=l.lastIndexOf(i);p>-1&&(l=l.slice(0,p))}return l+r},Gn.unescape=function(t){return(t=bs(t))&&$.test(t)?t.replace(K,gn):t},Gn.uniqueId=function(t){var e=++Lt;return bs(t)+e},Gn.upperCase=$s,Gn.upperFirst=Qs,Gn.each=ba,Gn.eachRight=xa,Gn.first=qo,lu(Gn,function(){var t={};return xr(Gn,(function(e,n){Dt.call(Gn.prototype,n)||(t[n]=e)})),t}(),{chain:!1}),Gn.VERSION="4.17.21",Pe(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Gn[t].placeholder=Gn})),Pe(["drop","take"],(function(t,e){Hn.prototype[t]=function(n){n=n===o?1:_n(ms(n),0);var r=this.__filtered__&&!e?new Hn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:t+(r.__dir__<0?"Right":"")}),r},Hn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Pe(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Hn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:lo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Pe(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Hn.prototype[t]=function(){return this[n](1).value()[0]}})),Pe(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Hn.prototype[t]=function(){return this.__filtered__?new Hn(this):this[n](1)}})),Hn.prototype.compact=function(){return this.filter(ou)},Hn.prototype.find=function(t){return this.filter(t).head()},Hn.prototype.findLast=function(t){return this.reverse().find(t)},Hn.prototype.invokeMap=$r((function(t,e){return"function"==typeof t?new Hn(this):this.map((function(n){return Rr(n,t,e)}))})),Hn.prototype.reject=function(t){return this.filter(Fa(lo(t)))},Hn.prototype.slice=function(t,e){t=ms(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Hn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==o&&(n=(e=ms(e))<0?n.dropRight(-e):n.take(e-t)),n)},Hn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Hn.prototype.toArray=function(){return this.take(g)},xr(Hn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Gn[r?"take"+("last"==e?"Right":""):e],a=r||/^find/.test(e);i&&(Gn.prototype[e]=function(){var e=this.__wrapped__,s=r?[1]:arguments,u=e instanceof Hn,l=s[0],c=u||Ya(e),h=function(t){var e=i.apply(Gn,De([t],s));return r&&f?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,p=!!this.__actions__.length,d=a&&!f,v=u&&!p;if(!a&&c){e=v?e:new Hn(this);var m=t.apply(e,s);return m.__actions__.push({func:va,args:[h],thisArg:o}),new Xn(m,f)}return d&&v?t.apply(this,s):(m=this.thru(h),d?r?m.value()[0]:m.value():m)})})),Pe(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Ct[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Gn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ya(i)?i:[],t)}return this[n]((function(n){return e.apply(Ya(n)?n:[],t)}))}})),xr(Hn.prototype,(function(t,e){var n=Gn[e];if(n){var r=n.name+"";Dt.call(In,r)||(In[r]=[]),In[r].push({name:e,func:n})}})),In[Gi(o,2).name]=[{name:"wrapper",func:o}],Hn.prototype.clone=function(){var t=new Hn(this.__wrapped__);return t.__actions__=Ci(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ci(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ci(this.__views__),t},Hn.prototype.reverse=function(){if(this.__filtered__){var t=new Hn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Hn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ya(t),r=e<0,i=n?t.length:0,o=function(t,e,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=bn(e,t+a);break;case"takeRight":t=_n(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,h=c.length,f=0,p=bn(u,this.__takeCount__);if(!n||!r&&i==u&&p==u)return vi(t,this.__actions__);var d=[];t:for(;u--&&f<p;){for(var v=-1,m=t[l+=e];++v<h;){var g=c[v],y=g.iteratee,_=g.type,b=y(m);if(2==_)m=b;else if(!b){if(1==_)continue t;break t}}d[f++]=m}return d},Gn.prototype.at=ma,Gn.prototype.chain=function(){return da(this)},Gn.prototype.commit=function(){return new Xn(this.value(),this.__chain__)},Gn.prototype.next=function(){this.__values__===o&&(this.__values__=ds(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?o:this.__values__[this.__index__++]}},Gn.prototype.plant=function(t){for(var e,n=this;n instanceof Vn;){var r=Go(n);r.__index__=0,r.__values__=o,e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e},Gn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Hn){var e=t;return this.__actions__.length&&(e=new Hn(this)),(e=e.reverse()).__actions__.push({func:va,args:[na],thisArg:o}),new Xn(e,this.__chain__)}return this.thru(na)},Gn.prototype.toJSON=Gn.prototype.valueOf=Gn.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Gn.prototype.first=Gn.prototype.head,$t&&(Gn.prototype[$t]=function(){return this}),Gn}();de._=yn,(i=function(){return yn}.call(e,n,e,r))===o||(r.exports=i)}).call(this)}).call(this,n(53),n(39)(t))},function(t,e,n){var r=n(14),i=n(18),o=n(11),a=n(12),s=n(16),u=n(17),l=n(19),c=new WeakMap,h=function(t){var e=c.get(t);if(e)return e;var n,r=u.toPoints(t);n=0===r.length?i.create():i.clone(r[0]);var o=i.clone(n);return r.forEach((function(t){i.min(n,n,t),i.max(o,o,t)})),n=[n[0],n[1],0],o=[o[0],o[1],0],e=[n,o],c.set(t,e),e},f=function(t){var e=c.get(t);if(e)return e;var n,r=a.toPoints(t);n=0===r.length?i.create():i.clone(r[0]);var o=i.clone(n);return r.forEach((function(t){i.min(n,n,t),i.max(o,o,t)})),n=[n[0],n[1],0],o=[o[0],o[1],0],e=[n,o],c.set(t,e),e},p=function(t){var e=c.get(t);if(e)return e;var n=s.toPolygons(t),r=o.create();if(n.length>0){var i=l.toPoints(n[0]);o.copy(r,i[0])}var a=o.clone(r);return n.forEach((function(t){l.toPoints(t).forEach((function(t){o.min(r,r,t),o.max(a,a,t)}))})),r=[r[0],r[1],r[2]],a=[a[0],a[1],a[2]],e=[r,a],c.set(t,e),e};t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===(e=r(e)).length)throw new Error("wrong number of arguments");var i=e.map((function(t){return u.isA(t)?h(t):a.isA(t)?f(t):s.isA(t)?p(t):[[0,0,0],[0,0,0]]}));return 1===i.length?i[0]:i}},function(t,e,n){var r=n(14),i=n(26),o=n(12),a=n(16),s=n(17),u=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];if(!Array.isArray(t))throw new Error("offset must be an array");if(0===(n=r(n)).length)throw new Error("wrong number of arguments");for(t=t.slice();t.length<3;)t.push(0);var l=i.fromTranslation(i.create(),t),c=n.map((function(t){return s.isA(t)?s.transform(l,t):o.isA(t)?o.transform(l,t):a.isA(t)?a.transform(l,t):t}));return 1===c.length?c[0]:c};t.exports={translate:u,translateX:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return u([t,0,0],n)},translateY:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return u([0,t,0],n)},translateZ:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return u([0,0,t],n)}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(546),i=n(551);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e,n){t.exports={hull:n(209),hullChain:n(521)}},function(t,e,n){var r;!function(i){"use strict";var o,a,s,u=9e15,l=1e9,c="0123456789abcdef",h="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",f="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",p={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u,maxE:u,crypto:!1},d=!0,v="[DecimalError] ",m=v+"Invalid argument: ",g=v+"Precision limit exceeded",y=v+"crypto unavailable",_="[object Decimal]",b=Math.floor,x=Math.pow,w=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,E=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,T=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,S=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,A=1e7,O=h.length-1,P=f.length-1,M={toStringTag:_};function C(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)(n=7-(r=t[e]+"").length)&&(o+=G(n)),o+=r;(n=7-(r=(a=t[e])+"").length)&&(o+=G(n))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}function R(t,e,n){if(t!==~~t||t<e||t>n)throw Error(m+t)}function I(t,e,n,r){var i,o,a,s;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=7,i=0):(i=Math.ceil((e+1)/7),e%=7),o=x(10,7-e),s=t[i]%o|0,null==r?e<3?(0==e?s=s/100|0:1==e&&(s=s/10|0),a=n<4&&99999==s||n>3&&49999==s||5e4==s||0==s):a=(n<4&&s+1==o||n>3&&s+1==o/2)&&(t[i+1]/o/100|0)==x(10,e-2)-1||(s==o/2||0==s)&&0==(t[i+1]/o/100|0):e<4?(0==e?s=s/1e3|0:1==e?s=s/100|0:2==e&&(s=s/10|0),a=(r||n<4)&&9999==s||!r&&n>3&&4999==s):a=((r||n<4)&&s+1==o||!r&&n>3&&s+1==o/2)&&(t[i+1]/o/1e3|0)==x(10,e-3)-1,a}function N(t,e,n){for(var r,i,o=[0],a=0,s=t.length;a<s;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=c.indexOf(t.charAt(a++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}M.absoluteValue=M.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),D(t)},M.ceil=function(){return D(new this.constructor(this),this.e+1,2)},M.clampedTo=M.clamp=function(t,e){var n=this,r=n.constructor;if(t=new r(t),e=new r(e),!t.s||!e.s)return new r(NaN);if(t.gt(e))throw Error(m+e);return n.cmp(t)<0?t:n.cmp(e)>0?e:new r(n)},M.comparedTo=M.cmp=function(t){var e,n,r,i,o=this,a=o.d,s=(t=new o.constructor(t)).d,u=o.s,l=t.s;if(!a||!s)return u&&l?u!==l?u:a===s?0:!a^u<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?u:s[0]?-l:0;if(u!==l)return u;if(o.e!==t.e)return o.e>t.e^u<0?1:-1;for(e=0,n=(r=a.length)<(i=s.length)?r:i;e<n;++e)if(a[e]!==s[e])return a[e]>s[e]^u<0?1:-1;return r===i?0:r>i^u<0?1:-1},M.cosine=M.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(t,e){var n,r,i;if(e.isZero())return e;(r=e.d.length)<32?i=(1/$(4,n=Math.ceil(r/3))).toString():(n=16,i="2.3283064365386962890625e-10");t.precision+=n,e=Z(t,1,e.times(i),new t(1));for(var o=n;o--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=n,e}(r,Q(r,n)),r.precision=t,r.rounding=e,D(2==s||3==s?n.neg():n,t,e,!0)):new r(1):new r(NaN)},M.cubeRoot=M.cbrt=function(){var t,e,n,r,i,o,a,s,u,l,c=this,h=c.constructor;if(!c.isFinite()||c.isZero())return new h(c);for(d=!1,(o=c.s*x(c.s*c,1/3))&&Math.abs(o)!=1/0?r=new h(o.toString()):(n=C(c.d),(o=((t=c.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=x(n,1/3),t=b((t+1)/3)-(t%3==(t<0?-1:2)),(r=new h(n=o==1/0?"5e"+t:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=c.s),a=(t=h.precision)+3;;)if(l=(u=(s=r).times(s).times(s)).plus(c),r=k(l.plus(c).times(s),l.plus(u),a+2,1),C(s.d).slice(0,a)===(n=C(r.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(D(r,t+1,1),e=!r.times(r).times(r).eq(c));break}if(!i&&(D(s,t+1,0),s.times(s).times(s).eq(c))){r=s;break}a+=4,i=1}return d=!0,D(r,t,h.rounding,e)},M.decimalPlaces=M.dp=function(){var t,e=this.d,n=NaN;if(e){if(n=7*((t=e.length-1)-b(this.e/7)),t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},M.dividedBy=M.div=function(t){return k(this,new this.constructor(t))},M.dividedToIntegerBy=M.divToInt=function(t){var e=this.constructor;return D(k(this,new e(t),0,1,1),e.precision,e.rounding)},M.equals=M.eq=function(t){return 0===this.cmp(t)},M.floor=function(){return D(new this.constructor(this),this.e+1,3)},M.greaterThan=M.gt=function(t){return this.cmp(t)>0},M.greaterThanOrEqualTo=M.gte=function(t){var e=this.cmp(t);return 1==e||0===e},M.hyperbolicCosine=M.cosh=function(){var t,e,n,r,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;n=a.precision,r=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,(i=o.d.length)<32?e=(1/$(4,t=Math.ceil(i/3))).toString():(t=16,e="2.3283064365386962890625e-10"),o=Z(a,1,o.times(e),new a(1),!0);for(var u,l=t,c=new a(8);l--;)u=o.times(o),o=s.minus(u.times(c.minus(u.times(c))));return D(o,a.precision=n,a.rounding=r,!0)},M.hyperbolicSine=M.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=Z(o,2,i,i,!0);else{t=(t=1.4*Math.sqrt(r))>16?16:0|t,i=Z(o,2,i=i.times(1/$(5,t)),i,!0);for(var a,s=new o(5),u=new o(16),l=new o(20);t--;)a=i.times(i),i=i.times(s.plus(a.times(u.times(a).plus(l))))}return o.precision=e,o.rounding=n,D(i,e,n,!0)},M.hyperbolicTangent=M.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,k(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)},M.inverseCosine=M.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?e.isNeg()?j(n,i,o):new n(0):new n(NaN):e.isZero()?j(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=j(n,i+4,o).times(.5),n.precision=i,n.rounding=o,t.minus(e))},M.inverseHyperbolicCosine=M.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,d=!1,n=n.times(n).minus(1).sqrt().plus(n),d=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)},M.inverseHyperbolicSine=M.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,d=!1,n=n.times(n).plus(1).sqrt().plus(n),d=!0,r.precision=t,r.rounding=e,n.ln())},M.inverseHyperbolicTangent=M.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?D(new o(i),t,e,!0):(o.precision=n=r-i.e,i=k(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)},M.inverseSine=M.asin=function(){var t,e,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==e?0===e?((t=j(o,n+4,r).times(.5)).s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},M.inverseTangent=M.atan=function(){var t,e,n,r,i,o,a,s,u,l=this,c=l.constructor,h=c.precision,f=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&h+4<=P)return(a=j(c,h+4,f).times(.25)).s=l.s,a}else{if(!l.s)return new c(NaN);if(h+4<=P)return(a=j(c,h+4,f).times(.5)).s=l.s,a}for(c.precision=s=h+10,c.rounding=1,t=n=Math.min(28,s/7+2|0);t;--t)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(d=!1,e=Math.ceil(s/7),r=1,u=l.times(l),a=new c(l),i=l;-1!==t;)if(i=i.times(u),o=a.minus(i.div(r+=2)),i=i.times(u),void 0!==(a=o.plus(i.div(r+=2))).d[e])for(t=e;a.d[t]===o.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),d=!0,D(a,c.precision=h,c.rounding=f,!0)},M.isFinite=function(){return!!this.d},M.isInteger=M.isInt=function(){return!!this.d&&b(this.e/7)>this.d.length-2},M.isNaN=function(){return!this.s},M.isNegative=M.isNeg=function(){return this.s<0},M.isPositive=M.isPos=function(){return this.s>0},M.isZero=function(){return!!this.d&&0===this.d[0]},M.lessThan=M.lt=function(t){return this.cmp(t)<0},M.lessThanOrEqualTo=M.lte=function(t){return this.cmp(t)<1},M.logarithm=M.log=function(t){var e,n,r,i,o,a,s,u,l=this,c=l.constructor,h=c.precision,f=c.rounding;if(null==t)t=new c(10),e=!0;else{if(n=(t=new c(t)).d,t.s<0||!n||!n[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(n=l.d,l.s<0||!n||!n[0]||l.eq(1))return new c(n&&!n[0]?-1/0:1!=l.s?NaN:n?0:1/0);if(e)if(n.length>1)o=!0;else{for(i=n[0];i%10===0;)i/=10;o=1!==i}if(d=!1,a=Y(l,s=h+5),r=e?U(c,s+10):Y(t,s),I((u=k(a,r,s,1)).d,i=h,f))do{if(a=Y(l,s+=10),r=e?U(c,s+10):Y(t,s),u=k(a,r,s,1),!o){+C(u.d).slice(i+1,i+15)+1==1e14&&(u=D(u,h+1,0));break}}while(I(u.d,i+=10,f));return d=!0,D(u,h,f)},M.minus=M.sub=function(t){var e,n,r,i,o,a,s,u,l,c,h,f,p=this,v=p.constructor;if(t=new v(t),!p.d||!t.d)return p.s&&t.s?p.d?t.s=-t.s:t=new v(t.d||p.s!==t.s?p:NaN):t=new v(NaN),t;if(p.s!=t.s)return t.s=-t.s,p.plus(t);if(l=p.d,f=t.d,s=v.precision,u=v.rounding,!l[0]||!f[0]){if(f[0])t.s=-t.s;else{if(!l[0])return new v(3===u?-0:0);t=new v(p)}return d?D(t,s,u):t}if(n=b(t.e/7),c=b(p.e/7),l=l.slice(),o=c-n){for((h=o<0)?(e=l,o=-o,a=f.length):(e=f,n=c,a=l.length),o>(r=Math.max(Math.ceil(s/7),a)+2)&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for((h=(r=l.length)<(a=f.length))&&(a=r),r=0;r<a;r++)if(l[r]!=f[r]){h=l[r]<f[r];break}o=0}for(h&&(e=l,l=f,f=e,t.s=-t.s),a=l.length,r=f.length-a;r>0;--r)l[a++]=0;for(r=f.length;r>o;){if(l[--r]<f[r]){for(i=r;i&&0===l[--i];)l[i]=A-1;--l[i],l[r]+=A}l[r]-=f[r]}for(;0===l[--a];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=F(l,n),d?D(t,s,u):t):new v(3===u?-0:0)},M.modulo=M.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?D(new r(n),r.precision,r.rounding):(d=!1,9==r.modulo?(e=k(n,t.abs(),0,3,1)).s*=t.s:e=k(n,t,0,r.modulo,1),e=e.times(t),d=!0,n.minus(e))},M.naturalExponential=M.exp=function(){return H(this)},M.naturalLogarithm=M.ln=function(){return Y(this)},M.negated=M.neg=function(){var t=new this.constructor(this);return t.s=-t.s,D(t)},M.plus=M.add=function(t){var e,n,r,i,o,a,s,u,l,c,h=this,f=h.constructor;if(t=new f(t),!h.d||!t.d)return h.s&&t.s?h.d||(t=new f(t.d||h.s===t.s?h:NaN)):t=new f(NaN),t;if(h.s!=t.s)return t.s=-t.s,h.minus(t);if(l=h.d,c=t.d,s=f.precision,u=f.rounding,!l[0]||!c[0])return c[0]||(t=new f(h)),d?D(t,s,u):t;if(o=b(h.e/7),r=b(t.e/7),l=l.slice(),i=o-r){for(i<0?(n=l,i=-i,a=c.length):(n=c,r=o,a=l.length),i>(a=(o=Math.ceil(s/7))>a?o+1:a+1)&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((a=l.length)-(i=c.length)<0&&(i=a,n=c,c=l,l=n),e=0;i;)e=(l[--i]=l[i]+c[i]+e)/A|0,l[i]%=A;for(e&&(l.unshift(e),++r),a=l.length;0==l[--a];)l.pop();return t.d=l,t.e=F(l,r),d?D(t,s,u):t},M.precision=M.sd=function(t){var e,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(m+t);return n.d?(e=B(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e},M.round=function(){var t=this,e=t.constructor;return D(new e(t),t.e+1,e.rounding)},M.sine=M.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+7,r.rounding=1,n=function(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:Z(t,2,e,e);n=(n=1.4*Math.sqrt(r))>16?16:0|n,e=e.times(1/$(5,n)),e=Z(t,2,e,e);for(var i,o=new t(5),a=new t(16),s=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(a.times(i).minus(s))));return e}(r,Q(r,n)),r.precision=t,r.rounding=e,D(s>2?n.neg():n,t,e,!0)):new r(NaN)},M.squareRoot=M.sqrt=function(){var t,e,n,r,i,o,a=this,s=a.d,u=a.e,l=a.s,c=a.constructor;if(1!==l||!s||!s[0])return new c(!l||l<0&&(!s||s[0])?NaN:s?a:1/0);for(d=!1,0==(l=Math.sqrt(+a))||l==1/0?(((e=C(s)).length+u)%2==0&&(e+="0"),l=Math.sqrt(e),u=b((u+1)/2)-(u<0||u%2),r=new c(e=l==1/0?"5e"+u:(e=l.toExponential()).slice(0,e.indexOf("e")+1)+u)):r=new c(l.toString()),n=(u=c.precision)+3;;)if(r=(o=r).plus(k(a,o,n+2,1)).times(.5),C(o.d).slice(0,n)===(e=C(r.d)).slice(0,n)){if("9999"!=(e=e.slice(n-3,n+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(D(r,u+1,1),t=!r.times(r).eq(a));break}if(!i&&(D(o,u+1,0),o.times(o).eq(a))){r=o;break}n+=4,i=1}return d=!0,D(r,u,c.rounding,t)},M.tangent=M.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,(n=n.sin()).s=1,n=k(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,D(2==s||4==s?n.neg():n,t,e,!0)):new r(NaN)},M.times=M.mul=function(t){var e,n,r,i,o,a,s,u,l,c=this,h=c.constructor,f=c.d,p=(t=new h(t)).d;if(t.s*=c.s,!f||!f[0]||!p||!p[0])return new h(!t.s||f&&!f[0]&&!p||p&&!p[0]&&!f?NaN:f&&p?0*t.s:t.s/0);for(n=b(c.e/7)+b(t.e/7),(u=f.length)<(l=p.length)&&(o=f,f=p,p=o,a=u,u=l,l=a),o=[],r=a=u+l;r--;)o.push(0);for(r=l;--r>=0;){for(e=0,i=u+r;i>r;)s=o[i]+p[r]*f[i-r-1]+e,o[i--]=s%A|0,e=s/A|0;o[i]=(o[i]+e)%A|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=F(o,n),d?D(t,h.precision,h.rounding):t},M.toBinary=function(t,e){return J(this,2,t,e)},M.toDecimalPlaces=M.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),void 0===t?n:(R(t,0,l),void 0===e?e=r.rounding:R(e,0,8),D(n,t+n.e+1,e))},M.toExponential=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=L(r,!0):(R(t,0,l),void 0===e?e=i.rounding:R(e,0,8),n=L(r=D(new i(r),t+1,e),!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n},M.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return void 0===t?n=L(i):(R(t,0,l),void 0===e?e=o.rounding:R(e,0,8),n=L(r=D(new o(i),t+i.e+1,e),!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},M.toFraction=function(t){var e,n,r,i,o,a,s,u,l,c,h,f,p=this,v=p.d,g=p.constructor;if(!v)return new g(p);if(l=n=new g(1),r=u=new g(0),a=(o=(e=new g(r)).e=B(v)-p.e-1)%7,e.d[0]=x(10,a<0?7+a:a),null==t)t=o>0?e:l;else{if(!(s=new g(t)).isInt()||s.lt(l))throw Error(m+s);t=s.gt(e)?o>0?e:l:s}for(d=!1,s=new g(C(v)),c=g.precision,g.precision=o=7*v.length*2;h=k(s,e,0,1,1),1!=(i=n.plus(h.times(r))).cmp(t);)n=r,r=i,i=l,l=u.plus(h.times(i)),u=i,i=e,e=s.minus(h.times(i)),s=i;return i=k(t.minus(n),r,0,1,1),u=u.plus(i.times(l)),n=n.plus(i.times(r)),u.s=l.s=p.s,f=k(l,r,o,1).minus(p).abs().cmp(k(u,n,o,1).minus(p).abs())<1?[l,r]:[u,n],g.precision=c,d=!0,f},M.toHexadecimal=M.toHex=function(t,e){return J(this,16,t,e)},M.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),null==t){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),void 0===e?e=r.rounding:R(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(d=!1,n=k(n,t,0,e,1).times(t),d=!0,D(n)):(t.s=n.s,n=t),n},M.toNumber=function(){return+this},M.toOctal=function(t,e){return J(this,8,t,e)},M.toPower=M.pow=function(t){var e,n,r,i,o,a,s=this,u=s.constructor,l=+(t=new u(t));if(!s.d||!t.d||!s.d[0]||!t.d[0])return new u(x(+s,l));if((s=new u(s)).eq(1))return s;if(r=u.precision,o=u.rounding,t.eq(1))return D(s,r,o);if((e=b(t.e/7))>=t.d.length-1&&(n=l<0?-l:l)<=9007199254740991)return i=z(u,s,n,r),t.s<0?new u(1).div(i):D(i,r,o);if((a=s.s)<0){if(e<t.d.length-1)return new u(NaN);if(0==(1&t.d[e])&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(e=0!=(n=x(+s,l))&&isFinite(n)?new u(n+"").e:b(l*(Math.log("0."+C(s.d))/Math.LN10+s.e+1)))>u.maxE+1||e<u.minE-1?new u(e>0?a/0:0):(d=!1,u.rounding=s.s=1,n=Math.min(12,(e+"").length),(i=H(t.times(Y(s,r+n)),r)).d&&I((i=D(i,r+5,1)).d,r,o)&&(e=r+10,+C((i=D(H(t.times(Y(s,e+n)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=D(i,r+1,0))),i.s=a,d=!0,u.rounding=o,D(i,r,o))},M.toPrecision=function(t,e){var n,r=this,i=r.constructor;return void 0===t?n=L(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(R(t,1,l),void 0===e?e=i.rounding:R(e,0,8),n=L(r=D(new i(r),t,e),t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n},M.toSignificantDigits=M.toSD=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(R(t,1,l),void 0===e?e=n.rounding:R(e,0,8)),D(new n(this),t,e)},M.toString=function(){var t=this,e=t.constructor,n=L(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},M.truncated=M.trunc=function(){return D(new this.constructor(this),this.e+1,1)},M.valueOf=M.toJSON=function(){var t=this,e=t.constructor,n=L(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};var k=function(){function t(t,e,n){var r,i=0,o=t.length;for(t=t.slice();o--;)r=t[o]*e+i,t[o]=r%n|0,i=r/n|0;return i&&t.unshift(i),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;)t.shift()}return function(r,i,o,s,u,l){var c,h,f,p,d,v,m,g,y,_,x,w,E,T,S,O,P,M,C,R,I=r.constructor,N=r.s==i.s?1:-1,k=r.d,L=i.d;if(!k||!k[0]||!L||!L[0])return new I(r.s&&i.s&&(k?!L||k[0]!=L[0]:L)?k&&0==k[0]||!L?0*N:N/0:NaN);for(l?(d=1,h=r.e-i.e):(l=A,d=7,h=b(r.e/d)-b(i.e/d)),C=L.length,P=k.length,_=(y=new I(N)).d=[],f=0;L[f]==(k[f]||0);f++);if(L[f]>(k[f]||0)&&h--,null==o?(T=o=I.precision,s=I.rounding):T=u?o+(r.e-i.e)+1:o,T<0)_.push(1),v=!0;else{if(T=T/d+2|0,f=0,1==C){for(p=0,L=L[0],T++;(f<P||p)&&T--;f++)S=p*l+(k[f]||0),_[f]=S/L|0,p=S%L|0;v=p||f<P}else{for((p=l/(L[0]+1)|0)>1&&(L=t(L,p,l),k=t(k,p,l),C=L.length,P=k.length),O=C,w=(x=k.slice(0,C)).length;w<C;)x[w++]=0;(R=L.slice()).unshift(0),M=L[0],L[1]>=l/2&&++M;do{p=0,(c=e(L,x,C,w))<0?(E=x[0],C!=w&&(E=E*l+(x[1]||0)),(p=E/M|0)>1?(p>=l&&(p=l-1),1==(c=e(m=t(L,p,l),x,g=m.length,w=x.length))&&(p--,n(m,C<g?R:L,g,l))):(0==p&&(c=p=1),m=L.slice()),(g=m.length)<w&&m.unshift(0),n(x,m,w,l),-1==c&&(c=e(L,x,C,w=x.length))<1&&(p++,n(x,C<w?R:L,w,l)),w=x.length):0===c&&(p++,x=[0]),_[f++]=p,c&&x[0]?x[w++]=k[O]||0:(x=[k[O]],w=1)}while((O++<P||void 0!==x[0])&&T--);v=void 0!==x[0]}_[0]||_.shift()}if(1==d)y.e=h,a=v;else{for(f=1,p=_[0];p>=10;p/=10)f++;y.e=f+h*d-1,D(y,u?o+y.e+1:o,s,v)}return y}}();function D(t,e,n,r){var i,o,a,s,u,l,c,h,f,p=t.constructor;t:if(null!=e){if(!(h=t.d))return t;for(i=1,s=h[0];s>=10;s/=10)i++;if((o=e-i)<0)o+=7,a=e,u=(c=h[f=0])/x(10,i-a-1)%10|0;else if((f=Math.ceil((o+1)/7))>=(s=h.length)){if(!r)break t;for(;s++<=f;)h.push(0);c=u=0,i=1,a=(o%=7)-7+1}else{for(c=s=h[f],i=1;s>=10;s/=10)i++;u=(a=(o%=7)-7+i)<0?0:c/x(10,i-a-1)%10|0}if(r=r||e<0||void 0!==h[f+1]||(a<0?c:c%x(10,i-a-1)),l=n<4?(u||r)&&(0==n||n==(t.s<0?3:2)):u>5||5==u&&(4==n||r||6==n&&(o>0?a>0?c/x(10,i-a):0:h[f-1])%10&1||n==(t.s<0?8:7)),e<1||!h[0])return h.length=0,l?(e-=t.e+1,h[0]=x(10,(7-e%7)%7),t.e=-e||0):h[0]=t.e=0,t;if(0==o?(h.length=f,s=1,f--):(h.length=f+1,s=x(10,7-o),h[f]=a>0?(c/x(10,i-a)%x(10,a)|0)*s:0),l)for(;;){if(0==f){for(o=1,a=h[0];a>=10;a/=10)o++;for(a=h[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(t.e++,h[0]==A&&(h[0]=1));break}if(h[f]+=s,h[f]!=A)break;h[f--]=0,s=1}for(o=h.length;0===h[--o];)h.pop()}return d&&(t.e>p.maxE?(t.d=null,t.e=NaN):t.e<p.minE&&(t.e=0,t.d=[0])),t}function L(t,e,n){if(!t.isFinite())return W(t);var r,i=t.e,o=C(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+G(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+G(-i-1)+o,n&&(r=n-a)>0&&(o+=G(r))):i>=a?(o+=G(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+G(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=G(r))),o}function F(t,e){var n=t[0];for(e*=7;n>=10;n/=10)e++;return e}function U(t,e,n){if(e>O)throw d=!0,n&&(t.precision=n),Error(g);return D(new t(h),e,1,!0)}function j(t,e,n){if(e>P)throw Error(g);return D(new t(f),e,n,!0)}function B(t){var e=t.length-1,n=7*e+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function G(t){for(var e="";t--;)e+="0";return e}function z(t,e,n,r){var i,o=new t(1),a=Math.ceil(r/7+4);for(d=!1;;){if(n%2&&tt((o=o.times(e)).d,a)&&(i=!0),0===(n=b(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}tt((e=e.times(e)).d,a)}return d=!0,o}function V(t){return 1&t.d[t.d.length-1]}function X(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;){if(!(r=new t(e[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function H(t,e){var n,r,i,o,a,s,u,l=0,c=0,h=0,f=t.constructor,p=f.rounding,v=f.precision;if(!t.d||!t.d[0]||t.e>17)return new f(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(d=!1,u=v):u=e,s=new f(.03125);t.e>-2;)t=t.times(s),h+=5;for(u+=r=Math.log(x(2,h))/Math.LN10*2+5|0,n=o=a=new f(1),f.precision=u;;){if(o=D(o.times(t),u,1),n=n.times(++c),C((s=a.plus(k(o,n,u,1))).d).slice(0,u)===C(a.d).slice(0,u)){for(i=h;i--;)a=D(a.times(a),u,1);if(null!=e)return f.precision=v,a;if(!(l<3&&I(a.d,u-r,p,l)))return D(a,f.precision=v,p,d=!0);f.precision=u+=10,n=o=s=new f(1),c=0,l++}a=s}}function Y(t,e){var n,r,i,o,a,s,u,l,c,h,f,p=1,v=t,m=v.d,g=v.constructor,y=g.rounding,_=g.precision;if(v.s<0||!m||!m[0]||!v.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=v.s?NaN:m?0:v);if(null==e?(d=!1,c=_):c=e,g.precision=c+=10,r=(n=C(m)).charAt(0),!(Math.abs(o=v.e)<15e14))return l=U(g,c+2,_).times(o+""),v=Y(new g(r+"."+n.slice(1)),c-10).plus(l),g.precision=_,null==e?D(v,_,y,d=!0):v;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=C((v=v.times(t)).d)).charAt(0),p++;for(o=v.e,r>1?(v=new g("0."+n),o++):v=new g(r+"."+n.slice(1)),h=v,u=a=v=k(v.minus(1),v.plus(1),c,1),f=D(v.times(v),c,1),i=3;;){if(a=D(a.times(f),c,1),C((l=u.plus(k(a,new g(i),c,1))).d).slice(0,c)===C(u.d).slice(0,c)){if(u=u.times(2),0!==o&&(u=u.plus(U(g,c+2,_).times(o+""))),u=k(u,new g(p),c,1),null!=e)return g.precision=_,u;if(!I(u.d,c-10,y,s))return D(u,g.precision=_,y,d=!0);g.precision=c+=10,l=a=v=k(h.minus(1),h.plus(1),c,1),f=D(v.times(v),c,1),i=s=1}u=l,i+=2}}function W(t){return String(t.s*t.s/0)}function q(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;48===e.charCodeAt(r);r++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(r,i)){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=7;r<i;)t.d.push(+e.slice(r,r+=7));r=7-(e=e.slice(r)).length}else r-=i;for(;r--;)e+="0";t.d.push(+e),d&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function K(t,e){var n,r,i,a,s,u,l,c,h;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),S.test(e))return q(t,e)}else if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(E.test(e))n=16,e=e.toLowerCase();else if(w.test(e))n=2;else{if(!T.test(e))throw Error(m+e);n=8}for((a=e.search(/p/i))>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),s=(a=e.indexOf("."))>=0,r=t.constructor,s&&(a=(u=(e=e.replace(".","")).length)-a,i=z(r,new r(n),a,2*a)),a=h=(c=N(e,n,A)).length-1;0===c[a];--a)c.pop();return a<0?new r(0*t.s):(t.e=F(c,h),t.d=c,d=!1,s&&(t=k(t,i,4*u)),l&&(t=t.times(Math.abs(l)<54?x(2,l):o.pow(2,l))),d=!0,t)}function Z(t,e,n,r,i){var o,a,s,u,l=t.precision,c=Math.ceil(l/7);for(d=!1,u=n.times(n),s=new t(r);;){if(a=k(s.times(u),new t(e++*e++),l,1),s=i?r.plus(a):r.minus(a),r=k(a.times(u),new t(e++*e++),l,1),void 0!==(a=s.plus(r)).d[c]){for(o=c;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=r,r=a,a=o}return d=!0,a.d.length=c+1,a}function $(t,e){for(var n=t;--e;)n*=t;return n}function Q(t,e){var n,r=e.s<0,i=j(t,t.precision,1),o=i.times(.5);if((e=e.abs()).lte(o))return s=r?4:1,e;if((n=e.divToInt(i)).isZero())s=r?3:2;else{if((e=e.minus(n.times(i))).lte(o))return s=V(n)?r?2:3:r?4:1,e;s=V(n)?r?1:4:r?3:2}return e.minus(i).abs()}function J(t,e,n,r){var i,o,s,u,h,f,p,d,v,m=t.constructor,g=void 0!==n;if(g?(R(n,1,l),void 0===r?r=m.rounding:R(r,0,8)):(n=m.precision,r=m.rounding),t.isFinite()){for(g?(i=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):i=e,(s=(p=L(t)).indexOf("."))>=0&&(p=p.replace(".",""),(v=new m(1)).e=p.length-s,v.d=N(L(v),10,i),v.e=v.d.length),o=h=(d=N(p,10,i)).length;0==d[--h];)d.pop();if(d[0]){if(s<0?o--:((t=new m(t)).d=d,t.e=o,d=(t=k(t,v,n,r,0,i)).d,o=t.e,f=a),s=d[n],u=i/2,f=f||void 0!==d[n+1],f=r<4?(void 0!==s||f)&&(0===r||r===(t.s<0?3:2)):s>u||s===u&&(4===r||f||6===r&&1&d[n-1]||r===(t.s<0?8:7)),d.length=n,f)for(;++d[--n]>i-1;)d[n]=0,n||(++o,d.unshift(1));for(h=d.length;!d[h-1];--h);for(s=0,p="";s<h;s++)p+=c.charAt(d[s]);if(g){if(h>1)if(16==e||8==e){for(s=16==e?4:3,--h;h%s;h++)p+="0";for(h=(d=N(p,i,e)).length;!d[h-1];--h);for(s=1,p="1.";s<h;s++)p+=c.charAt(d[s])}else p=p.charAt(0)+"."+p.slice(1);p=p+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)p="0"+p;p="0."+p}else if(++o>h)for(o-=h;o--;)p+="0";else o<h&&(p=p.slice(0,o)+"."+p.slice(o))}else p=g?"0p+0":"0";p=(16==e?"0x":2==e?"0b":8==e?"0o":"")+p}else p=W(t);return t.s<0?"-"+p:p}function tt(t,e){if(t.length>e)return t.length=e,!0}function et(t){return new this(t).abs()}function nt(t){return new this(t).acos()}function rt(t){return new this(t).acosh()}function it(t,e){return new this(t).plus(e)}function ot(t){return new this(t).asin()}function at(t){return new this(t).asinh()}function st(t){return new this(t).atan()}function ut(t){return new this(t).atanh()}function lt(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?j(this,r,i):new this(0)).s=t.s:!t.d||e.isZero()?(n=j(this,o,1).times(.5)).s=t.s:e.s<0?(this.precision=o,this.rounding=1,n=this.atan(k(t,e,o,1)),e=j(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(k(t,e,o,1)):(n=j(this,o,1).times(e.s>0?.25:.75)).s=t.s:n=new this(NaN),n}function ct(t){return new this(t).cbrt()}function ht(t){return D(t=new this(t),t.e+1,2)}function ft(t,e,n){return new this(t).clamp(e,n)}function pt(t){if(!t||"object"!==typeof t)throw Error(v+"Object expected");var e,n,r,i=!0===t.defaults,o=["precision",1,l,"rounding",0,8,"toExpNeg",-u,0,"toExpPos",0,u,"maxE",0,u,"minE",-u,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(n=o[e],i&&(this[n]=p[n]),void 0!==(r=t[n])){if(!(b(r)===r&&r>=o[e+1]&&r<=o[e+2]))throw Error(m+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=p[n]),void 0!==(r=t[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(m+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(y);this[n]=!0}else this[n]=!1}return this}function dt(t){return new this(t).cos()}function vt(t){return new this(t).cosh()}function mt(t,e){return new this(t).div(e)}function gt(t){return new this(t).exp()}function yt(t){return D(t=new this(t),t.e+1,3)}function _t(){var t,e,n=new this(0);for(d=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return d=!0,new this(1/0);n=e}return d=!0,n.sqrt()}function bt(t){return t instanceof o||t&&t.toStringTag===_||!1}function xt(t){return new this(t).ln()}function wt(t,e){return new this(t).log(e)}function Et(t){return new this(t).log(2)}function Tt(t){return new this(t).log(10)}function St(){return X(this,arguments,"lt")}function At(){return X(this,arguments,"gt")}function Ot(t,e){return new this(t).mod(e)}function Pt(t,e){return new this(t).mul(e)}function Mt(t,e){return new this(t).pow(e)}function Ct(t){var e,n,r,i,o=0,a=new this(1),s=[];if(void 0===t?t=this.precision:R(t,1,l),r=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=e[o])>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(y);for(e=crypto.randomBytes(r*=4);o<r;)(i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,o):(s.push(i%1e7),o+=4);o=r/4}else for(;o<r;)s[o++]=1e7*Math.random()|0;for(t%=7,(r=s[--o])&&t&&(i=x(10,7-t),s[o]=(r/i|0)*i);0===s[o];o--)s.pop();if(o<0)n=0,s=[0];else{for(n=-1;0===s[0];n-=7)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<7&&(n-=7-r)}return a.e=n,a.d=s,a}function Rt(t){return D(t=new this(t),t.e+1,this.rounding)}function It(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Nt(t){return new this(t).sin()}function kt(t){return new this(t).sinh()}function Dt(t){return new this(t).sqrt()}function Lt(t,e){return new this(t).sub(e)}function Ft(){var t=0,e=arguments,n=new this(e[t]);for(d=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return d=!0,D(n,this.precision,this.rounding)}function Ut(t){return new this(t).tan()}function jt(t){return new this(t).tanh()}function Bt(t){return D(t=new this(t),t.e+1,1)}o=function t(e){var n,r,i;function o(t){var e,n,r,i=this;if(!(i instanceof o))return new o(t);if(i.constructor=o,bt(t))return i.s=t.s,void(d?!t.d||t.e>o.maxE?(i.e=NaN,i.d=null):t.e<o.minE?(i.e=0,i.d=[0]):(i.e=t.e,i.d=t.d.slice()):(i.e=t.e,i.d=t.d?t.d.slice():t.d));if("number"===(r=typeof t)){if(0===t)return i.s=1/t<0?-1:1,i.e=0,void(i.d=[0]);if(t<0?(t=-t,i.s=-1):i.s=1,t===~~t&&t<1e7){for(e=0,n=t;n>=10;n/=10)e++;return void(d?e>o.maxE?(i.e=NaN,i.d=null):e<o.minE?(i.e=0,i.d=[0]):(i.e=e,i.d=[t]):(i.e=e,i.d=[t]))}return 0*t!==0?(t||(i.s=NaN),i.e=NaN,void(i.d=null)):q(i,t.toString())}if("string"!==r)throw Error(m+t);return 45===(n=t.charCodeAt(0))?(t=t.slice(1),i.s=-1):(43===n&&(t=t.slice(1)),i.s=1),S.test(t)?q(i,t):K(i,t)}if(o.prototype=M,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=pt,o.clone=t,o.isDecimal=bt,o.abs=et,o.acos=nt,o.acosh=rt,o.add=it,o.asin=ot,o.asinh=at,o.atan=st,o.atanh=ut,o.atan2=lt,o.cbrt=ct,o.ceil=ht,o.clamp=ft,o.cos=dt,o.cosh=vt,o.div=mt,o.exp=gt,o.floor=yt,o.hypot=_t,o.ln=xt,o.log=wt,o.log10=Tt,o.log2=Et,o.max=St,o.min=At,o.mod=Ot,o.mul=Pt,o.pow=Mt,o.random=Ct,o.round=Rt,o.sign=It,o.sin=Nt,o.sinh=kt,o.sqrt=Dt,o.sub=Lt,o.sum=Ft,o.tan=Ut,o.tanh=jt,o.trunc=Bt,void 0===e&&(e={}),e&&!0!==e.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)e.hasOwnProperty(r=i[n++])||(e[r]=this[r]);return o.config(e),o}(p),o.prototype.constructor=o,o.default=o.Decimal=o,h=new o(h),f=new o(f),void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){var r;!function(n){"use strict";var i={s:1,n:0,d:1};function o(t,e){if(isNaN(t=parseInt(t,10)))throw c.InvalidParameter;return t*e}function a(t,e){if(0===e)throw c.DivisionByZero;var n=Object.create(c.prototype);n.s=t<0?-1:1;var r=l(t=t<0?-t:t,e);return n.n=t/r,n.d=e/r,n}function s(t){for(var e={},n=t,r=2,i=4;i<=n;){for(;n%r===0;)n/=r,e[r]=(e[r]||0)+1;i+=1+2*r++}return n!==t?n>1&&(e[n]=(e[n]||0)+1):e[t]=(e[t]||0)+1,e}var u=function(t,e){var n,r=0,a=1,s=1,u=0,l=0,h=0,f=1,p=1,d=0,v=1,m=1,g=1,y=1e7;if(void 0===t||null===t);else if(void 0!==e){if(s=(r=t)*(a=e),r%1!==0||a%1!==0)throw c.NonIntegerParameter}else switch(typeof t){case"object":if("d"in t&&"n"in t)r=t.n,a=t.d,"s"in t&&(r*=t.s);else{if(!(0 in t))throw c.InvalidParameter;r=t[0],1 in t&&(a=t[1])}s=r*a;break;case"number":if(t<0&&(s=t,t=-t),t%1===0)r=t;else if(t>0){for(t>=1&&(t/=p=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));v<=y&&g<=y;){if(t===(n=(d+m)/(v+g))){v+g<=y?(r=d+m,a=v+g):g>v?(r=m,a=g):(r=d,a=v);break}t>n?(d+=m,v+=g):(m+=d,g+=v),v>y?(r=m,a=g):(r=d,a=v)}r*=p}else(isNaN(t)||isNaN(e))&&(a=r=NaN);break;case"string":if(null===(v=t.match(/\d+|./g)))throw c.InvalidParameter;if("-"===v[d]?(s=-1,d++):"+"===v[d]&&d++,v.length===d+1?l=o(v[d++],s):"."===v[d+1]||"."===v[d]?("."!==v[d]&&(u=o(v[d++],s)),(++d+1===v.length||"("===v[d+1]&&")"===v[d+3]||"'"===v[d+1]&&"'"===v[d+3])&&(l=o(v[d],s),f=Math.pow(10,v[d].length),d++),("("===v[d]&&")"===v[d+2]||"'"===v[d]&&"'"===v[d+2])&&(h=o(v[d+1],s),p=Math.pow(10,v[d+1].length)-1,d+=3)):"/"===v[d+1]||":"===v[d+1]?(l=o(v[d],s),f=o(v[d+2],1),d+=3):"/"===v[d+3]&&" "===v[d+1]&&(u=o(v[d],s),l=o(v[d+2],s),f=o(v[d+4],1),d+=5),v.length<=d){s=r=h+(a=f*p)*u+p*l;break}default:throw c.InvalidParameter}if(0===a)throw c.DivisionByZero;i.s=s<0?-1:1,i.n=Math.abs(r),i.d=Math.abs(a)};function l(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function c(t,e){if(u(t,e),!(this instanceof c))return a(i.s*i.n,i.d);t=l(i.d,i.n),this.s=i.s,this.n=i.n/t,this.d=i.d/t}c.DivisionByZero=new Error("Division by Zero"),c.InvalidParameter=new Error("Invalid argument"),c.NonIntegerParameter=new Error("Parameters must be integer"),c.prototype={s:1,n:0,d:1,abs:function(){return a(this.n,this.d)},neg:function(){return a(-this.s*this.n,this.d)},add:function(t,e){return u(t,e),a(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(t,e){return u(t,e),a(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(t,e){return u(t,e),a(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(t,e){return u(t,e),a(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return a(this.s*this.n,this.d)},mod:function(t,e){if(isNaN(this.n)||isNaN(this.d))return new c(NaN);if(void 0===t)return a(this.s*this.n%this.d,1);if(u(t,e),0===i.n&&0===this.d)throw c.DivisionByZero;return a(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(t,e){return u(t,e),a(l(i.n,this.n)*l(i.d,this.d),i.d*this.d)},lcm:function(t,e){return u(t,e),0===i.n&&0===this.n?a(0,1):a(i.n*this.n,l(i.n,this.n)*l(i.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):a(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):a(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new c(NaN):a(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return a(this.s*this.d,this.n)},pow:function(t,e){if(u(t,e),1===i.d)return i.s<0?a(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):a(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var n=s(this.n),r=s(this.d),o=1,l=1;for(var c in n)if("1"!==c){if("0"===c){o=0;break}if(n[c]*=i.n,n[c]%i.d!==0)return null;n[c]/=i.d,o*=Math.pow(c,n[c])}for(var c in r)if("1"!==c){if(r[c]*=i.n,r[c]%i.d!==0)return null;r[c]/=i.d,l*=Math.pow(c,r[c])}return i.s<0?a(l,o):a(o,l)},equals:function(t,e){return u(t,e),this.s*this.n*i.d===i.s*i.n*this.d},compare:function(t,e){u(t,e);var n=this.s*this.n*i.d-i.s*i.n*this.d;return(0<n)-(n<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;t=t||.001;for(var e=this.abs(),n=e.toContinued(),r=1;r<n.length;r++){for(var i=a(n[r-1],1),o=r-2;o>=0;o--)i=i.inverse().add(n[o]);if(i.sub(e).abs().valueOf()<t)return i.mul(this.s)}return this},divisible:function(t,e){return u(t,e),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,n+=" ",r%=i),n+=r,n+="/",n+=i),n},toLatex:function(t){var e,n="",r=this.n,i=this.d;return this.s<0&&(n+="-"),1===i?n+=r:(t&&(e=Math.floor(r/i))>0&&(n+=e,r%=i),n+="\\frac{",n+=r,n+="}{",n+=i,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,r=[];if(isNaN(e)||isNaN(n))return r;do{r.push(Math.floor(e/n)),t=e%n,e=n,n=t}while(1!==e);return r},toString:function(t){var e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";t=t||15;var r=function(t,e){for(;e%2===0;e/=2);for(;e%5===0;e/=5);if(1===e)return 0;for(var n=10%e,r=1;1!==n;r++)if(n=10*n%e,r>2e3)return 0;return r}(0,n),i=function(t,e,n){for(var r=1,i=function(t,e,n){for(var r=1;e>0;t=t*t%n,e>>=1)1&e&&(r=r*t%n);return r}(10,n,e),o=0;o<300;o++){if(r===i)return o;r=10*r%e,i=10*i%e}return 0}(0,n,r),o=this.s<0?"-":"";if(o+=e/n|0,e%=n,(e*=10)&&(o+="."),r){for(var a=i;a--;)o+=e/n|0,e%=n,e*=10;o+="(";for(a=r;a--;)o+=e/n|0,e%=n,e*=10;o+=")"}else for(a=t;e&&a--;)o+=e/n|0,e%=n,e*=10;return o}},void 0===(r=function(){return c}.apply(e,[]))||(t.exports=r)}()},function(t,e){t.exports=function t(e,n){"use strict";var r,i,o=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,l=/^0/,c=function(e){return t.insensitive&&(""+e).toLowerCase()||""+e},h=c(e).replace(a,"")||"",f=c(n).replace(a,"")||"",p=h.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=f.replace(o,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),v=parseInt(h.match(u),16)||1!==p.length&&h.match(s)&&Date.parse(h),m=parseInt(f.match(u),16)||v&&f.match(s)&&Date.parse(f)||null;if(m){if(v<m)return-1;if(v>m)return 1}for(var g=0,y=Math.max(p.length,d.length);g<y;g++){if(r=!(p[g]||"").match(l)&&parseFloat(p[g])||p[g]||0,i=!(d[g]||"").match(l)&&parseFloat(d[g])||d[g]||0,isNaN(r)!==isNaN(i))return isNaN(r)?1:-1;if(typeof r!==typeof i&&(r+="",i+=""),r<i)return-1;if(r>i)return 1}return 0}},function(t,e){t.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t}},function(t,e){t.exports=function(t){return(void 0===t||t.length<3)&&(t=[]),{vertices:t}}},function(t,e){t.exports=function(t){return t||(t=[]),{edges:t}}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(80);function i(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},function(t,e,n){t.exports={arc:n(410),circle:n(188),cube:n(411),cuboid:n(190),cylinder:n(412),cylinderElliptic:n(191),ellipse:n(189),ellipsoid:n(187),geodesicSphere:n(413),line:n(414),polygon:n(415),polyhedron:n(192),rectangle:n(193),roundedCuboid:n(416),roundedCylinder:n(417),roundedRectangle:n(418),sphere:n(186),square:n(419),star:n(420),torus:n(421),triangle:n(439)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return M})),n.d(e,"b",(function(){return P}));var r=n(1),i=n(10),o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},o(t,e)};function a(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s,u,l,c,h,f,p,d,v,m,g,y,_,b,x,w,E,T,S,A={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},O=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(s||(s={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(u||(u={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(l||(l={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(c||(c={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(h||(h={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(f||(f={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(p||(p={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(d||(d={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(v||(v={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(m||(m={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(g||(g={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(y||(y={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(_||(_={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(b||(b={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(x||(x={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(w||(w={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(E||(E={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(T||(T={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(S||(S={}));var P=function(t){function e(e,n,r,o,a){void 0===n&&(n=8),void 0===r&&(r=4),void 0===o&&(o=i.b.FILTER_RESOLUTION),void 0===a&&(a=5);var s=this,u=function(t,e){var n,r=Math.ceil(t/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",o="";n=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<t;a++){var s=n.replace("%index%",a.toString());o+=s=s.replace("%sampleIndex%",a-(r-1)+".0"),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",t.toString())}(a,e),l=function(t){for(var e,n=A[t],r=n.length,i=O,o="",a=0;a<t;a++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());e=a,a>=r&&(e=t-a-1),o+=s=s.replace("%value%",n[e].toString()),o+="\n"}return(i=i.replace("%blur%",o)).replace("%size%",t.toString())}(a);return(s=t.call(this,u,l)||this).horizontal=e,s.resolution=o,s._quality=0,s.quality=r,s.blur=n,s}return a(e,t),e.prototype.apply=function(t,e,n,r){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/e.width):this.uniforms.strength=1/n.height*(n.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{var i=t.getFilterTexture(),o=t.renderer,a=e,s=i;this.state.blend=!1,t.applyFilter(this,a,s,b.CLEAR);for(var u=1;u<this.passes-1;u++){t.bindAndClear(a,b.BLIT),this.uniforms.uSampler=s;var l=s;s=a,a=l,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,s,n,r),t.returnFilterTexture(i)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(r.h),M=function(t){function e(e,n,r,o){void 0===e&&(e=8),void 0===n&&(n=4),void 0===r&&(r=i.b.FILTER_RESOLUTION),void 0===o&&(o=5);var a=t.call(this)||this;return a.blurXFilter=new P(!0,e,n,r,o),a.blurYFilter=new P(!1,e,n,r,o),a.resolution=r,a.quality=n,a.blur=e,a.repeatEdgePixels=!1,a}return a(e,t),e.prototype.apply=function(t,e,n,r){var i=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(i&&o){var a=t.getFilterTexture();this.blurXFilter.apply(t,e,a,b.CLEAR),this.blurYFilter.apply(t,a,n,r),t.returnFilterTexture(a)}else o?this.blurYFilter.apply(t,e,n,r):this.blurXFilter.apply(t,e,n,r)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),e}(r.h)},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},function(t,e,n){var r=n(332);t.exports=function(t){return r(t).sides}},function(t,e,n){var r=n(351),i=n(352),o=n(108),a=n(353);t.exports=function(t){return r(t)||i(t)||o(t)||a()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){t.exports={aboutEqualNormals:n(176),area:n(91),interpolateBetween2DPointsForY:n(177),intersect:n(172),solve2Linear:n(386)}},function(t,e,n){var r=n(12),i=n(16),o=n(17);t.exports=function(t){var e;return t.forEach((function(t){var n=0;if(r.isA(t)&&(n=1),i.isA(t)&&(n=2),o.isA(t)&&(n=3),e&&n!==e)return!1;e=n})),!0}},function(t,e,n){var r=n(14),i=n(26),o=n(41),a=n(12),s=n(16),u=n(17),l=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),l=1;l<e;l++)n[l-1]=arguments[l];var c={origin:[0,0,0],normal:[0,0,1]},h=Object.assign({},c,t),f=h.origin,p=h.normal;if(0===(n=r(n)).length)throw new Error("wrong number of arguments");var d=o.fromNormalAndPoint(o.create(),p,f);if(Number.isNaN(d[0]))throw new Error("the given origin and normal do not define a proper plane");var v=i.mirrorByPlane(i.create(),d),m=n.map((function(t){return u.isA(t)?u.transform(v,t):a.isA(t)?a.transform(v,t):s.isA(t)?s.transform(v,t):t}));return 1===m.length?m[0]:m};t.exports={mirror:l,mirrorX:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return l({normal:[1,0,0]},e)},mirrorY:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return l({normal:[0,1,0]},e)},mirrorZ:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return l({normal:[0,0,1]},e)}}},function(t,e,n){t.exports={calculatePlane:n(195),clone:n(422),create:n(61),equals:n(423),fromPoints:n(424),fromSides:n(425),isA:n(426),reverse:n(427),toEdges:n(428),toPolygons:n(429),toString:n(435),transform:n(436)}},function(t,e,n){var r=n(14),i=n(26),o=n(12),a=n(16),s=n(17),u=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];if(!Array.isArray(t))throw new Error("angles must be an array");if(0===(n=r(n)).length)throw new Error("wrong number of arguments");for(t=t.slice();t.length<3;)t.push(0);var l=t[2],c=t[1],h=t[0],f=i.fromTaitBryanRotation(i.create(),l,c,h),p=n.map((function(t){return s.isA(t)?s.transform(f,t):o.isA(t)?o.transform(f,t):a.isA(t)?a.transform(f,t):t}));return 1===p.length?p[0]:p};t.exports={rotate:u,rotateX:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return u([t,0,0],n)},rotateY:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return u([0,t,0],n)},rotateZ:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return u([0,0,t],n)}}},function(t,e,n){var r=n(11);t.exports=function(t,e,n){var i=r.normalize(r.create(),n);return r.copy(t[0],e),r.copy(t[1],i),t}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,u=a(t),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(t,e,n){t.exports={geom2:n(12),geom3:n(16),path2:n(17),poly2:n(118),poly3:n(19)}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},function(t,e,n){var r=n(26);t.exports=function(t){return void 0===t&&(t=[]),{sides:t,transforms:r.create()}}},function(t,e){t.exports=function(){return[0,0,0]}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}},function(t,e){t.exports=function(){return[0,0]}},function(t,e,n){var r=n(26);t.exports=function(t){return void 0===t&&(t=[]),{polygons:t,transforms:r.create()}}},function(t,e){t.exports=function(){return[0,0,0,0]}},function(t,e,n){var r=n(362);t.exports=function(t){return r(t).polygons}},function(t,e,n){var r=n(29).EPS,i=n(18),o=n(170),a=n(113);t.exports=function(t,e){var n=Object.assign({},{closed:!1},t).closed,s=a();if(s.points=e.map((function(t){return i.clone(t)})),s.points.length>1){var u=s.points[0],l=s.points[s.points.length-1];i.distance(u,l)<r*r&&(n=!0)}return!0===n&&(s=o(s)),s}},function(t,e,n){var r=n(29).EPS,i=n(172),o=n(114),a=n(18),s=n(91);t.exports=function(t,e){var n=Object.assign({},{delta:1,corners:"edge",closed:!1,segments:16},t),u=n.delta,l=n.corners,c=n.closed,h=n.segments;if(Math.abs(u)<r)return e;var f=t.closed?s(e):1;0===f&&(f=1);var p=f>0&&u>=0||f<0&&u<0;u=Math.abs(u);for(var d=null,v=[],m=[],g=a.create(),y=e.length,_=0;_<y;_++){var b=(_+1)%y,x=e[_],w=e[b];p?a.subtract(g,x,w):a.subtract(g,w,x),a.normal(g,g),a.normalize(g,g),a.scale(g,g,u);var E=a.add(a.create(),x,g),T=a.add(a.create(),w,g),S=[E,T];if(null!=d&&(c||!c&&0!==b)){var A=i(d[0],d[1],S[0],S[1]);A?(v.pop(),S[0]=A):m.push({c:x,s0:d,s1:S})}d=[E,T],(0!==b||c)&&(v.push(S[0]),v.push(S[1]))}if(c&&null!=d){var O=v[0],P=v[1],M=i(d[0],d[1],O,P);if(M)v[0]=M,v.pop();else{var C=e[0],R=[O,P];m.push({c:C,s0:d,s1:R})}}if("edge"===l){var I=new Map;v.forEach((function(t,e){return I.set(t,e)}));var N=o.create(),k=o.create();m.forEach((function(t){o.fromPoints(N,t.s0[0],t.s0[1]),o.fromPoints(k,t.s1[0],t.s1[1]);var e=o.intersectPointOfLines(N,k);if(Number.isFinite(e[0])&&Number.isFinite(e[1])){var n=t.s0[1],r=I.get(n);v[r]=e,v[(r+1)%v.length]=void 0}else{var i=t.s1[0],a=I.get(i);v[a]=void 0}})),v=v.filter((function(t){return void 0!==t}))}if("round"===l){var D=Math.floor(h/4),L=a.create();m.forEach((function(t){var e=a.angle(a.subtract(L,t.s1[0],t.c));if(e-=a.angle(a.subtract(L,t.s0[1],t.c)),p&&e<0&&(e+=Math.PI)<0&&(e+=Math.PI),!p&&e>0&&(e-=Math.PI)>0&&(e-=Math.PI),0!==e){for(var n=e/(D=Math.floor(h*(Math.abs(e)/(2*Math.PI)))),r=a.angle(a.subtract(L,t.s0[1],t.c)),i=[],o=1;o<D;o++){var s=r+n*o,l=a.fromAngleRadians(a.create(),s);a.scale(l,l,u),a.add(l,l,t.c),i.push(l)}if(i.length>0){var c,f=t.s0[1],d=v.findIndex((function(t){return a.equals(f,t)}));d=(d+1)%v.length,(c=v).splice.apply(c,[d,0].concat(i))}}else{var m=t.s1[0],g=v.findIndex((function(t){return a.equals(m,t)}));v.splice(g,1)}}))}return v}},function(t,e,n){var r=n(18);t.exports=function(t){return r.scale(r.create(),t,t[2])}},function(t,e){t.exports=function(t){for(var e=0,n=0;n<t.length;n++){var r=(n+1)%t.length;e+=t[n][0]*t[r][1],e-=t[r][0]*t[n][1]}return e/2}},function(t,e,n){var r=n(16),i=n(19),o=n(393),a=1e-13,s=function(t,e){return Math.abs(t[3]-e[3])<15e-8&&(n=t,r=e,Math.abs(n[0]-r[0])<=a&&Math.abs(n[1]-r[1])<=a&&Math.abs(n[2]-r[2])<=a);var n,r};t.exports=function(t){if(t.isRetesselated)return t;var e=r.toPolygons(t),n=[];e.forEach((function(t){var e=n.find((function(e){return s(e[0],i.plane(t))}));e?e[1].push(t):n.push([i.plane(t),[t]])}));var a=[];n.forEach((function(t){var e=t[1],n=o(e);a=a.concat(n)}));var u=r.create(a);return u.isRetesselated=!0,u}},function(t,e,n){var r=n(26),i=n(11),o=n(12),a=n(72),s=n(125);t.exports=function(t,e){var n=Object.assign({},{offset:[0,0,1],twistAngle:0,twistSteps:12,repair:!0},t),u=n.offset,l=n.twistAngle,c=n.twistSteps,h=n.repair;if(c<1)throw new Error("twistSteps must be 1 or more");0===l&&(c=1);var f=i.clone(u),p=o.toSides(e);if(0===p.length)throw new Error("the given geometry cannot be empty");var d=a.fromSides(p);f[2]<0&&a.reverse(d,d);var v=r.create();return s(t={numberOfSlices:c+1,capStart:!0,capEnd:!0,repair:h,callback:function(t,e,n){var o=e/c*l,s=i.scale(i.create(),f,e/c);return r.multiply(v,r.fromZRotation(v,o),r.fromTranslation(r.create(),s)),a.transform(v,n)}},d)}},function(t,e,n){var r=n(14),i=n(12),o=n(16),a=n(17),s=n(51),u=n(52).translate,l=function(t,e){var n=Object.assign({},{axes:[!0,!0,!0],relativeTo:[0,0,0]},t),r=n.axes,i=n.relativeTo,o=s(e),a=[0,0,0];return r[0]&&(a[0]=i[0]-(o[0][0]+(o[1][0]-o[0][0])/2)),r[1]&&(a[1]=i[1]-(o[0][1]+(o[1][1]-o[0][1])/2)),r[2]&&(a[2]=i[2]-(o[0][2]+(o[1][2]-o[0][2])/2)),u(a,e)},c=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];var u={axes:[!0,!0,!0],relativeTo:[0,0,0]},c=Object.assign({},u,t),h=c.axes,f=c.relativeTo;if(0===(n=r(n)).length)throw new Error("wrong number of arguments");if(3!==f.length)throw new Error("relativeTo must be an array of length 3");t={axes:h,relativeTo:f};var p=n.map((function(e){return a.isA(e)||i.isA(e)||o.isA(e)?l(t,e):e}));return 1===p.length?p[0]:p};t.exports={center:c,centerX:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return c({axes:[!0,!1,!1]},e)},centerY:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return c({axes:[!1,!0,!1]},e)},centerZ:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return c({axes:[!1,!1,!0]},e)}}},function(t,e,n){var r=n(14),i=n(26),o=n(12),a=n(16),s=n(17),u=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];if(!Array.isArray(t))throw new Error("factors must be an array");if(0===(n=r(n)).length)throw new Error("wrong number of arguments");for(t=t.slice();t.length<3;)t.push(1);if(t[0]<=0||t[1]<=0||t[2]<=0)throw new Error("factors must be positive");var l=i.fromScaling(i.create(),t),c=n.map((function(t){return s.isA(t)?s.transform(l,t):o.isA(t)?o.transform(l,t):a.isA(t)?a.transform(l,t):t}));return 1===c.length?c[0]:c};t.exports={scale:u,scaleX:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return u([t,1,1],n)},scaleY:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return u([1,t,1],n)},scaleZ:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return u([1,1,t],n)}}},function(t,e,n){var r=n(536),i=n(537),o=n(538),a=n(539),s=n(540);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(212);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(128),i=n(547),o=n(548),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},function(t,e,n){var r=n(54)(Object,"create");t.exports=r},function(t,e,n){var r=n(561);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(216),i=n(217);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var l=e[s],c=o?o(n[l],t[l],l,n,t):void 0;void 0===c&&(c=t[l]),a?i(n,l,c):r(n,l,c)}return n}},function(t,e,n){var r=n(534);t.exports=function(t){return r(t,5)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},i(t,e)};var o=function(t){function e(e){void 0===e&&(e=1);var n=t.call(this,r.w,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return n.alpha=e,n}return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(r.h)},function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,"a",(function(){return o}));var i=n(22);function o(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Object(i.a)(t)}},function(t,e,n){"use strict";var r=n(608),i=n(609);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=_(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),h=["%","/","?",";","#"].concat(c),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(610);function _(t,e,n){if(t&&i.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),s=-1!==o&&o<t.indexOf("#")?"?":"#",l=t.split(s);l[0]=l[0].replace(/\\/g,"/");var _=t=l.join(s);if(_=_.trim(),!n&&1===t.split("#").length){var b=u.exec(_);if(b)return this.path=_,this.href=_,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=a.exec(_);if(x){var w=(x=x[0]).toLowerCase();this.protocol=w,_=_.substr(x.length)}if(n||x||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===_.substr(0,2);!E||x&&m[x]||(_=_.substr(2),this.slashes=!0)}if(!m[x]&&(E||x&&!g[x])){for(var T,S,A=-1,O=0;O<f.length;O++){-1!==(P=_.indexOf(f[O]))&&(-1===A||P<A)&&(A=P)}-1!==(S=-1===A?_.lastIndexOf("@"):_.lastIndexOf("@",A))&&(T=_.slice(0,S),_=_.slice(S+1),this.auth=decodeURIComponent(T)),A=-1;for(O=0;O<h.length;O++){var P;-1!==(P=_.indexOf(h[O]))&&(-1===A||P<A)&&(A=P)}-1===A&&(A=_.length),this.host=_.slice(0,A),_=_.slice(A),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var C=this.hostname.split(/\./),R=(O=0,C.length);O<R;O++){var I=C[O];if(I&&!I.match(p)){for(var N="",k=0,D=I.length;k<D;k++)I.charCodeAt(k)>127?N+="x":N+=I[k];if(!N.match(p)){var L=C.slice(0,O),F=C.slice(O+1),U=I.match(d);U&&(L.push(U[1]),F.unshift(U[2])),F.length&&(_="/"+F.join(".")+_),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+j,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!v[w])for(O=0,R=c.length;O<R;O++){var G=c[O];if(-1!==_.indexOf(G)){var z=encodeURIComponent(G);z===G&&(z=escape(G)),_=_.split(G).join(z)}}var V=_.indexOf("#");-1!==V&&(this.hash=_.substr(V),_=_.slice(0,V));var X=_.indexOf("?");if(-1!==X?(this.search=_.substr(X),this.query=_.substr(X+1),e&&(this.query=y.parse(this.query)),_=_.slice(0,X)):e&&(this.search="",this.query={}),_&&(this.pathname=_),g[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var H=this.search||"";this.path=j+H}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+o+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var c=u[l];"protocol"!==c&&(n[c]=t[c])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!g[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var p=h[f];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||m[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var v=n.pathname||"",y=n.search||"";n.path=v+y}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var _=n.pathname&&"/"===n.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||_||n.host&&t.pathname,w=x,E=n.pathname&&n.pathname.split("/")||[],T=(d=t.pathname&&t.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(T&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),x=x&&(""===d[0]||""===E[0])),b)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,E=d;else if(d.length)E||(E=[]),E.pop(),E=E.concat(d),n.search=t.search,n.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(T)n.hostname=n.host=E.shift(),(M=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=M.shift(),n.host=n.hostname=M.shift());return n.search=t.search,n.query=t.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=E.slice(-1)[0],A=(n.host||t.host||E.length>1)&&("."===S||".."===S)||""===S,O=0,P=E.length;P>=0;P--)"."===(S=E[P])?E.splice(P,1):".."===S?(E.splice(P,1),O++):O&&(E.splice(P,1),O--);if(!x&&!w)for(;O--;O)E.unshift("..");!x||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),A&&"/"!==E.join("/").substr(-1)&&E.push("");var M,C=""===E[0]||E[0]&&"/"===E[0].charAt(0);T&&(n.hostname=n.host=C?"":E.length?E.shift():"",(M=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=M.shift(),n.host=n.hostname=M.shift()));return(x=x||n.host&&E.length)&&!C&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){var r=n(14),i=n(12),o=n(16),a=n(17),s=n(380),u=n(391),l=n(406);t.exports=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),c=1;c<e;c++)n[c-1]=arguments[c];if(0===(n=r(n)).length)throw new Error("wrong number of arguments");var h=n.map((function(e){return a.isA(e)?l(t,e):i.isA(e)?s(t,e):o.isA(e)?u(t,e):e}));return 1===h.length?h[0]:h}},function(t,e){t.exports=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},function(t,e,n){var r=n(146);t.exports=function(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),t[0]=n*o,t[1]=r*o,t[2]=i*o,t}},function(t,e){t.exports=function(t){return Math.atan2(t[1],t[0])}},function(t,e,n){var r=n(108);t.exports=function(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){return Object.assign({},t)}},function(t,e,n){var r=n(26);t.exports=function(t){return void 0===t&&(t=[]),{points:t,isClosed:!1,transforms:r.create()}}},function(t,e,n){t.exports={clone:n(381),closestPoint:n(382),copy:n(173),create:n(115),direction:n(116),distanceToPoint:n(383),equals:n(384),fromPoints:n(174),fromValues:n(175),intersectPointOfLines:n(385),origin:n(90),reverse:n(387),toString:n(388),transform:n(389),xAtY:n(390)}},function(t,e){t.exports=function(){return[0,1,0]}},function(t,e,n){var r=n(18);t.exports=function(t){var e=r.normal(r.create(),t);return r.negate(e,e),e}},function(t,e,n){var r=n(14),i=n(70),o=n(12),a=n(16),s=n(178),u=n(121);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===(e=r(e)).length)throw new Error("wrong number of arguments");if(!i(e))throw new Error("only unions of the same type are supported");var l=e[0];return o.isA(l)?s(e):a.isA(l)?u(e):l}},function(t,e,n){t.exports={arePointsInside:n(392),create:n(181),flip:n(180),measureArea:n(179)}},function(t,e,n){var r=n(18),i=n(12);t.exports=function(t,e){var n=e.map((function(e){return function(t,e){if(e.vertices.length<4)return null;var n=[],i=e.vertices.filter((function(t,e){return t[2]>0&&(n.push(e),!0)}));if(2!==i.length)throw new Error("Assertion failed: fromFakePolygon: not enough points found");var o=i.map((function(e){var n=Math.round(e[0]/t)*t+0,i=Math.round(e[1]/t)*t+0;return r.fromValues(n,i)}));if(r.equals(o[0],o[1]))return null;var a=n[1]-n[0];if(1!==a&&3!==a)throw new Error("Assertion failed: fromFakePolygon: unknown index ordering");return 1===a&&o.reverse(),o}(t,e)})).filter((function(t){return null!==t}));return i.create(n)}},function(t,e,n){var r=n(11),i=n(12),o=n(16),a=n(19);t.exports=function(t,e){var n=i.toSides(e).map((function(e){return function(t,e,n){var i=[r.fromVec2(r.create(),n[0],t),r.fromVec2(r.create(),n[1],t),r.fromVec2(r.create(),n[1],e),r.fromVec2(r.create(),n[0],e)];return a.fromPoints(i)}(t.z0,t.z1,e)}));return o.create(n)}},function(t,e,n){var r=n(14),i=n(92),o=n(185);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a;for(e=r(e),a=1;a<e.length;a+=2)e.push(o(e[a-1],e[a]));var s=e[a-1];return s=i(s)}},function(t,e,n){var r=n(29).EPS,i=n(51);t.exports=function(t,e){if(0===t.polygons.length||0===e.polygons.length)return!1;var n=i(t),o=n[0],a=n[1],s=i(e),u=s[0],l=s[1];return!(u[0]-a[0]>r)&&(!(o[0]-l[0]>r)&&(!(u[1]-a[1]>r)&&(!(o[1]-l[1]>r)&&(!(u[2]-a[2]>r)&&!(o[2]-l[2]>r)))))}},function(t,e,n){t.exports={Tree:n(399)}},function(t,e){t.exports={area:function(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)},pointInTriangle:function(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}}},function(t,e,n){var r=n(26),i=n(12),o=n(16),a=n(19),s=n(72),u=n(437),l=n(438),c=function(t,e,n){var o=null;return i.isA(n)&&(o=s.fromSides(i.toSides(n))),a.isA(n)&&(o=s.fromPoints(a.toPoints(n))),0===t||1===t?s.transform(r.fromTranslation(r.create(),[0,0,t]),o):null};t.exports=function(t,e){var n={numberOfSlices:2,capStart:!0,capEnd:!0,close:!1,repair:!0,callback:c},r=Object.assign({},n,t),i=r.numberOfSlices,h=r.capStart,f=r.capEnd,p=r.close,d=r.repair,v=r.callback;if(i<2)throw new Error("numberOfSlices must be 2 or more");d&&u(e);for(var m=i-1,g=null,y=null,_=null,b=[],x=0;x<i;x++){var w=v(x/m,x,e);if(w){if(!s.isA(w))throw new Error("the callback function must return slice objects");if(0===s.toEdges(w).length)throw new Error("the callback function must return slices with one or more edges");_&&(b=b.concat(l(_,w))),0===x&&(g=w),x===i-1&&(y=w),_=w}}if(f){var E=s.toPolygons(y);b=b.concat(E)}if(h){var T=s.toPolygons(g).map(a.invert);b=b.concat(T)}return h||f||p&&!s.equals(y,g)&&(b=b.concat(l(y,g))),o.create(b)}},function(t,e,n){var r=n(14),i=n(155),o=n(154),a=n(51);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===(e=r(e)).length)throw new Error("measureAggregateBoundingBox: no geometries supplied");var s=a(e);if(1===e.length)return s;var u=[[Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE],[-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE]];return s.reduce((function(t,e){return t=[i(t[0],t[0],e[0]),o(t[1],t[1],e[1])]}),u)}},function(t,e,n){var r=n(54)(n(42),"Map");t.exports=r},function(t,e,n){var r=n(42).Symbol;t.exports=r},function(t,e,n){var r=n(218),i=n(575),o=n(222);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(214),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=s}).call(this,n(39)(t))},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(218),i=n(578),o=n(222);t.exports=function(t){return o(t)?r(t,!0):i(t)}},function(t,e,n){var r=n(583),i=n(223),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},function(t,e,n){var r=n(587),i=n(127),o=n(588),a=n(589),s=n(590),u=n(98),l=n(215),c="[object Map]",h="[object Promise]",f="[object Set]",p="[object WeakMap]",d="[object DataView]",v=l(r),m=l(i),g=l(o),y=l(a),_=l(s),b=u;(r&&b(new r(new ArrayBuffer(1)))!=d||i&&b(new i)!=c||o&&b(o.resolve())!=h||a&&b(new a)!=f||s&&b(new s)!=p)&&(b=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?l(n):"";if(r)switch(r){case v:return d;case m:return c;case g:return h;case y:return f;case _:return p}return e}),t.exports=b},function(t,e,n){var r=n(593);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";var r,i,o;i=[],r=function(){function t(){return!0}function e(){return!1}function n(){}function r(){var i=[{name:"number",test:function(t){return"number"===typeof t}},{name:"string",test:function(t){return"string"===typeof t}},{name:"boolean",test:function(t){return"boolean"===typeof t}},{name:"Function",test:function(t){return"function"===typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"===typeof t&&null!==t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],o={name:"any",test:t},a=[],s=[],u={types:i,conversions:s,ignore:a};function l(t){var e=K(u.types,(function(e){return e.name===t}));if(e)return e;if("any"===t)return o;var n=K(u.types,(function(e){return e.name.toLowerCase()===t.toLowerCase()}));throw new TypeError('Unknown type "'+t+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function c(t){return t===o?999:u.types.indexOf(t)}function h(t){var e=K(u.types,(function(e){return e.test(t)}));if(e)return e.name;throw new TypeError("Value has unknown type. Value: "+t)}function f(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var n;if("string"===typeof e){n=e.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");n=e}var i=n.join(","),o=t.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")}function p(t,e){var n=h(t);if(e===n)return t;for(var r=0;r<u.conversions.length;r++){var i=u.conversions[r];if(i.from===n&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+n+" to "+e)}function d(t){return t.map((function(t){var e=t.types.map(E);return(t.restParam?"...":"")+e.join("|")})).join(",")}function v(t,e){var n=0===t.indexOf("..."),r=(n?t.length>3?t.slice(3):"any":t).split("|").map(B).filter(G).filter(j),i=R(e,r),o=r.map((function(t){var e=l(t);return{name:t,typeIndex:c(e),test:e.test,conversion:null,conversionIndex:-1}})),a=i.map((function(t){var n=l(t.from);return{name:t.from,typeIndex:c(n),test:n.test,conversion:t,conversionIndex:e.indexOf(t)}}));return{types:o.concat(a),restParam:n}}function m(t,e,n){var r=[];return""!==t.trim()&&(r=t.split(",").map(B).map((function(t,e,r){var i=v(t,n);if(i.restParam&&e!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return i}))),r.some(V)?null:{params:r,fn:e}}function g(t){var e=H(t);return!!e&&e.restParam}function y(t){return t.types.some((function(t){return null!=t.conversion}))}function _(e){if(e&&0!==e.types.length){if(1===e.types.length)return l(e.types[0].name).test;if(2===e.types.length){var n=l(e.types[0].name).test,r=l(e.types[1].name).test;return function(t){return n(t)||r(t)}}var i=e.types.map((function(t){return l(t.name).test}));return function(t){for(var e=0;e<i.length;e++)if(i[e](t))return!0;return!1}}return t}function b(t){var e,n,r;if(g(t)){var i=(e=X(t).map(_)).length,o=_(H(t)),a=function(t){for(var e=i;e<t.length;e++)if(!o(t[e]))return!1;return!0};return function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return a(t)&&t.length>=i+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(n=_(t[0]),function(t){return n(t[0])&&1===t.length}):2===t.length?(n=_(t[0]),r=_(t[1]),function(t){return n(t[0])&&r(t[1])&&2===t.length}):(e=t.map(_),function(t){for(var n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return t.length===e.length})}function x(t,e){return e<t.params.length?t.params[e]:g(t.params)?H(t.params):null}function w(t,e,n){var r=x(t,e);return(r?n?r.types.filter(T):r.types:[]).map(E)}function E(t){return t.name}function T(t){return null===t.conversion||void 0===t.conversion}function S(t,e){var n=Z($(t,(function(t){return w(t,e,!1)})));return-1!==n.indexOf("any")?["any"]:n}function A(t,e,n){var r,i,o,a=t||"unnamed",s=n;for(o=0;o<e.length;o++){var u=s.filter((function(t){var n=_(x(t,o));return(o<t.params.length||g(t.params))&&n(e[o])}));if(0===u.length){if((i=S(s,o)).length>0){var l=h(e[o]);return(r=new TypeError("Unexpected type of argument in function "+a+" (expected: "+i.join(" or ")+", actual: "+l+", index: "+o+")")).data={category:"wrongType",fn:a,index:o,actual:l,expected:i},r}}else s=u}var c=s.map((function(t){return g(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,c))return i=S(s,o),(r=new TypeError("Too few arguments in function "+a+" (expected: "+i.join(" or ")+", index: "+e.length+")")).data={category:"tooFewArgs",fn:a,index:e.length,expected:i},r;var f=Math.max.apply(null,c);return e.length>f?((r=new TypeError("Too many arguments in function "+a+" (expected: "+f+", actual: "+e.length+")")).data={category:"tooManyArgs",fn:a,index:e.length,expectedLength:f},r):((r=new TypeError('Arguments of type "'+e.join(", ")+'" do not match any of the defined signatures of function '+a+".")).data={category:"mismatch",actual:e.map(h)},r)}function O(t){for(var e=999,n=0;n<t.types.length;n++)T(t.types[n])&&(e=Math.min(e,t.types[n].typeIndex));return e}function P(t){for(var e=999,n=0;n<t.types.length;n++)T(t.types[n])||(e=Math.min(e,t.types[n].conversionIndex));return e}function M(t,e){var n;return 0!==(n=t.restParam-e.restParam)||0!==(n=y(t)-y(e))||0!==(n=O(t)-O(e))?n:P(t)-P(e)}function C(t,e){var n,r,i=Math.min(t.params.length,e.params.length);if(0!==(r=t.params.some(y)-e.params.some(y)))return r;for(n=0;n<i;n++)if(0!==(r=y(t.params[n])-y(e.params[n])))return r;for(n=0;n<i;n++)if(0!==(r=M(t.params[n],e.params[n])))return r;return t.params.length-e.params.length}function R(t,e){var n={};return t.forEach((function(t){-1!==e.indexOf(t.from)||-1===e.indexOf(t.to)||n[t.from]||(n[t.from]=t)})),Object.keys(n).map((function(t){return n[t]}))}function I(t,e){var n=e;if(t.some(y)){var r=g(t),i=t.map(N);n=function(){for(var t=[],n=r?arguments.length-1:arguments.length,o=0;o<n;o++)t[o]=i[o](arguments[o]);return r&&(t[n]=arguments[n].map(i[n])),e.apply(this,t)}}var o=n;if(g(t)){var a=t.length-1;o=function(){return n.apply(this,Y(arguments,0,a).concat([Y(arguments,a)]))}}return o}function N(t){var e,n,r,i,o=[],a=[];switch(t.types.forEach((function(t){t.conversion&&(o.push(l(t.conversion.from).test),a.push(t.conversion.convert))})),a.length){case 0:return function(t){return t};case 1:return e=o[0],r=a[0],function(t){return e(t)?r(t):t};case 2:return e=o[0],n=o[1],r=a[0],i=a[1],function(t){return e(t)?r(t):n(t)?i(t):t};default:return function(t){for(var e=0;e<a.length;e++)if(o[e](t))return a[e](t);return t}}}function k(t){var e={};return t.forEach((function(t){t.params.some(y)||D(t.params,!0).forEach((function(n){e[d(n)]=t.fn}))})),e}function D(t,e){function n(t,r,i){if(r<t.length){var o,a=t[r],s=e?a.types.filter(T):a.types;if(a.restParam){var u=s.filter(T);o=u.length<s.length?[u,s]:[s]}else o=s.map((function(t){return[t]}));return $(o,(function(e){return n(t,r+1,i.concat([e]))}))}return[i.map((function(e,n){return{types:e,restParam:n===t.length-1&&g(t)}}))]}return n(t,0,[])}function L(t,e){for(var n=Math.max(t.params.length,e.params.length),r=0;r<n;r++)if(!q(w(t,r,!0),w(e,r,!0)))return!1;var i=t.params.length,o=e.params.length,a=g(t.params),s=g(e.params);return a?s?i===o:o>=i:s?i>=o:i===o}function F(t,r){if(0===Object.keys(r).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(r).map((function(t){return m(t,r[t],u.conversions)})).filter(z).forEach((function(t){var e=K(i,(function(e){return L(e,t)}));if(e)throw new TypeError('Conflicting signatures "'+d(e.params)+'" and "'+d(t.params)+'".');i.push(t)}));var o=$(i,(function(t){return(t?D(t.params,!1):[]).map((function(e){return{params:e,fn:t.fn}}))})).filter(z);o.sort(C);var a=o[0]&&o[0].params.length<=2&&!g(o[0].params),s=o[1]&&o[1].params.length<=2&&!g(o[1].params),l=o[2]&&o[2].params.length<=2&&!g(o[2].params),c=o[3]&&o[3].params.length<=2&&!g(o[3].params),h=o[4]&&o[4].params.length<=2&&!g(o[4].params),f=o[5]&&o[5].params.length<=2&&!g(o[5].params),p=a&&s&&l&&c&&h&&f,v=o.map((function(t){return b(t.params)})),y=a?_(o[0].params[0]):e,x=s?_(o[1].params[0]):e,w=l?_(o[2].params[0]):e,E=c?_(o[3].params[0]):e,T=h?_(o[4].params[0]):e,S=f?_(o[5].params[0]):e,A=a?_(o[0].params[1]):e,O=s?_(o[1].params[1]):e,P=l?_(o[2].params[1]):e,M=c?_(o[3].params[1]):e,R=h?_(o[4].params[1]):e,N=f?_(o[5].params[1]):e,F=o.map((function(t){return I(t.params,t.fn)})),U=a?F[0]:n,j=s?F[1]:n,B=l?F[2]:n,G=c?F[3]:n,V=h?F[4]:n,X=f?F[5]:n,H=a?o[0].params.length:-1,Y=s?o[1].params.length:-1,W=l?o[2].params.length:-1,q=c?o[3].params.length:-1,Z=h?o[4].params.length:-1,Q=f?o[5].params.length:-1,J=p?6:0,tt=o.length,et=function(){for(var e=J;e<tt;e++)if(v[e](arguments))return F[e].apply(this,arguments);return u.onMismatch(t,arguments,o)},nt=function t(e,n){return arguments.length===H&&y(e)&&A(n)?U.apply(t,arguments):arguments.length===Y&&x(e)&&O(n)?j.apply(t,arguments):arguments.length===W&&w(e)&&P(n)?B.apply(t,arguments):arguments.length===q&&E(e)&&M(n)?G.apply(t,arguments):arguments.length===Z&&T(e)&&R(n)?V.apply(t,arguments):arguments.length===Q&&S(e)&&N(n)?X.apply(t,arguments):et.apply(t,arguments)};try{Object.defineProperty(nt,"name",{value:t})}catch(rt){}return nt.signatures=k(o),nt}function U(t,e,n){throw A(t,e,n)}function j(t){return-1===u.ignore.indexOf(t)}function B(t){return t.trim()}function G(t){return!!t}function z(t){return null!==t}function V(t){return 0===t.types.length}function X(t){return t.slice(0,t.length-1)}function H(t){return t[t.length-1]}function Y(t,e,n){return Array.prototype.slice.call(t,e,n)}function W(t,e){return-1!==t.indexOf(e)}function q(t,e){for(var n=0;n<t.length;n++)if(W(e,t[n]))return!0;return!1}function K(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n]}function Z(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return Object.keys(e)}function $(t,e){return Array.prototype.concat.apply([],t.map(e))}function Q(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(("object"===typeof r.signatures||"string"===typeof r.signature)&&""!==r.name)if(""===e)e=r.name;else if(e!==r.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+r.name+")");throw i.data={actual:r.name,expected:e},i}}return e}function J(t){var e,n={};function r(t,r){if(n.hasOwnProperty(t)&&r!==n[t])throw(e=new Error('Signature "'+t+'" is defined twice')).data={signature:t},e}for(var i=0;i<t.length;i++){var o=t[i];if("object"===typeof o.signatures)for(var a in o.signatures)o.signatures.hasOwnProperty(a)&&(r(a,o.signatures[a]),n[a]=o.signatures[a]);else{if("string"!==typeof o.signature)throw(e=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},e;r(o.signature,o),n[o.signature]=o}}return n}return(u=F("typed",{"string, Object":F,Object:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return F(Q(e),t)},"...Function":function(t){return F(Q(t),J(t))},"string, ...Function":function(t,e){return F(t,J(e))}})).create=r,u.types=i,u.conversions=s,u.ignore=a,u.onMismatch=U,u.throwMismatchError=U,u.createError=A,u.convert=p,u.find=f,u.addType=function(t,e){if(!t||"string"!==typeof t.name||"function"!==typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==e)for(var n=0;n<u.types.length;n++)if("Object"===u.types[n].name)return void u.types.splice(n,0,t);u.types.push(t)},u.addConversion=function(t){if(!t||"string"!==typeof t.from||"string"!==typeof t.to||"function"!==typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");u.conversions.push(t)},u}return r()},void 0===(o="function"===typeof r?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var r=n(444),i=n(445),o=n(446),a=n(447),s=n(448),u=n(449),l=n(450);l.alea=r,l.xor128=i,l.xorwow=o,l.xorshift7=a,l.xor4096=s,l.tychei=u,t.exports=l},function(t,e,n){t.exports={colors:n(452),curves:n(461),geometries:n(78),maths:n(466),measurements:n(483),primitives:n(64),text:n(491),utils:n(183),booleans:n(494),expansions:n(32),extrusions:n(503),hulls:n(55),modifiers:n(522),transforms:n(530)}},function(t,e,n){var r=n(613).default,i=n(138).default,o=n(615).default,a=n(232).default,s=n(111).default,u=n(68).default,l=n(79).default,c=n(616).default,h=n(617).default,f=n(45).default,p=n(37).default,d=n(38).default;!function(t){"use strict";var e=function(){function t(e){p(this,t);var n=e.split("-"),r=f(n,2),i=r[0],o=r[1],a=i.split(".");this.major=parseInt(a[0],10),this.minor=parseInt(a[1],10),this.patch=parseInt(a[2],10),this.prerelease=null!==o&&void 0!==o?o:null}return d(t,[{key:"toString",value:function(){var t=[this.major,this.minor,this.patch].join(".");return null!==this.prerelease?[t,this.prerelease].join("-"):t}}]),t}(),n=function(){function t(e){p(this,t),this.controller_=e}return d(t,[{key:"disabled",get:function(){return this.controller_.viewProps.get("disabled")},set:function(t){this.controller_.viewProps.set("disabled",t)}},{key:"hidden",get:function(){return this.controller_.viewProps.get("hidden")},set:function(t){this.controller_.viewProps.set("hidden",t)}},{key:"dispose",value:function(){this.controller_.viewProps.set("disposed",!0)}}]),t}(),v=d((function t(e){p(this,t),this.target=e})),m=function(t){c(n,t);var e=h(n);function n(t,r,i,o){var a;return p(this,n),(a=e.call(this,t)).value=r,a.presetKey=i,a.last=null===o||void 0===o||o,a}return d(n)}(v),g=function(t){c(n,t);var e=h(n);function n(t,r,i){var o;return p(this,n),(o=e.call(this,t)).value=r,o.presetKey=i,o}return d(n)}(v),y=function(t){c(n,t);var e=h(n);function n(t,r){var i;return p(this,n),(i=e.call(this,t)).expanded=r,i}return d(n)}(v);function _(t){return t}function b(t){return null===t||void 0===t}function x(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var w={alreadydisposed:function(){return"View has been already disposed"},invalidparams:function(t){return"Invalid parameters for '".concat(t.name,"'")},nomatchingcontroller:function(t){return"No matching controller for '".concat(t.key,"'")},nomatchingview:function(t){return"No matching view for '".concat(JSON.stringify(t.params),"'")},notbindable:function(){return"Value is not bindable"},propertynotfound:function(t){return"Property '".concat(t.name,"' not found")},shouldneverhappen:function(){return"This error should never happen"}},E=function(){function t(e){var n;p(this,t),this.message=null!==(n=w[e.type](_(e.context)))&&void 0!==n?n:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type}return d(t,null,[{key:"alreadyDisposed",value:function(){return new t({type:"alreadydisposed"})}},{key:"notBindable",value:function(){return new t({type:"notbindable"})}},{key:"propertyNotFound",value:function(e){return new t({type:"propertynotfound",context:{name:e}})}},{key:"shouldNeverHappen",value:function(){return new t({type:"shouldneverhappen"})}}]),t}(),T=function(){function t(e,n,r){p(this,t),this.obj_=e,this.key_=n,this.presetKey_=null!==r&&void 0!==r?r:n}return d(t,[{key:"key",get:function(){return this.key_}},{key:"presetKey",get:function(){return this.presetKey_}},{key:"read",value:function(){return this.obj_[this.key_]}},{key:"write",value:function(t){this.obj_[this.key_]=t}},{key:"writeProperty",value:function(e,n){var r=this.read();if(!t.isBindable(r))throw E.notBindable();if(!(e in r))throw E.propertyNotFound(e);r[e]=n}}],[{key:"isBindable",value:function(t){return null!==t&&"object"===typeof t}}]),t}(),S=function(t){c(n,t);var e=h(n);function n(){return p(this,n),e.apply(this,arguments)}return d(n,[{key:"label",get:function(){return this.controller_.props.get("label")},set:function(t){this.controller_.props.set("label",t)}},{key:"title",get:function(){var t;return null!==(t=this.controller_.valueController.props.get("title"))&&void 0!==t?t:""},set:function(t){this.controller_.valueController.props.set("title",t)}},{key:"on",value:function(t,e){var n=this,r=e.bind(this);return this.controller_.valueController.emitter.on(t,(function(){r(new v(n))})),this}}]),n}(n),A=function(){function t(){p(this,t),this.observers_={}}return d(t,[{key:"on",value:function(t,e){var n=this.observers_[t];return n||(n=this.observers_[t]=[]),n.push({handler:e}),this}},{key:"off",value:function(t,e){var n=this.observers_[t];return n&&(this.observers_[t]=n.filter((function(t){return t.handler!==e}))),this}},{key:"emit",value:function(t,e){var n=this.observers_[t];n&&n.forEach((function(t){t.handler(e)}))}}]),t}(),O="tp";function P(t){return function(e,n){return[O,"-",t,"v",e?"_".concat(e):"",n?"-".concat(n):""].join("")}}function M(t,e){return function(n){return e(t(n))}}function C(t){return t.rawValue}function R(t,e){t.emitter.on("change",M(C,e)),e(t.rawValue)}function I(t,e,n){R(t.value(e),n)}function N(t,e,n){n?t.classList.add(e):t.classList.remove(e)}function k(t,e){return function(n){N(t,e,n)}}function D(t,e){R(t,(function(t){e.textContent=null!==t&&void 0!==t?t:""}))}var L=P("btn"),F=d((function t(e,n){p(this,t),this.element=e.createElement("div"),this.element.classList.add(L()),n.viewProps.bindClassModifiers(this.element);var r=e.createElement("button");r.classList.add(L("b")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;var i=e.createElement("div");i.classList.add(L("t")),D(n.props.value("title"),i),this.buttonElement.appendChild(i)})),U=function(){function t(e,n){p(this,t),this.emitter=new A,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new F(e,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}return d(t,[{key:"onClick_",value:function(){this.emitter.emit("click",{sender:this})}}]),t}(),j=function(){function t(e,n){var r;p(this,t),this.constraint_=null===n||void 0===n?void 0:n.constraint,this.equals_=null!==(r=null===n||void 0===n?void 0:n.equals)&&void 0!==r?r:function(t,e){return t===e},this.emitter=new A,this.rawValue_=e}return d(t,[{key:"constraint",get:function(){return this.constraint_}},{key:"rawValue",get:function(){return this.rawValue_},set:function(t){this.setRawValue(t,{forceEmit:!1,last:!0})}},{key:"setRawValue",value:function(t,e){var n=null!==e&&void 0!==e?e:{forceEmit:!1,last:!0},r=this.constraint_?this.constraint_.constrain(t):t;(!this.equals_(this.rawValue_,r)||n.forceEmit)&&(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=r,this.emitter.emit("change",{options:n,rawValue:r,sender:this}))}}]),t}(),B=function(){function t(e){p(this,t),this.emitter=new A,this.value_=e}return d(t,[{key:"rawValue",get:function(){return this.value_},set:function(t){this.setRawValue(t,{forceEmit:!1,last:!0})}},{key:"setRawValue",value:function(t,e){var n=null!==e&&void 0!==e?e:{forceEmit:!1,last:!0};(this.value_!==t||n.forceEmit)&&(this.emitter.emit("beforechange",{sender:this}),this.value_=t,this.emitter.emit("change",{options:n,rawValue:this.value_,sender:this}))}}]),t}();function G(t,e){var n=null===e||void 0===e?void 0:e.constraint,r=null===e||void 0===e?void 0:e.equals;return n||r?new j(t,e):new B(t)}var z=function(){function t(e){var n=this;p(this,t),this.emitter=new A,this.valMap_=e;var r=function(t){n.valMap_[t].emitter.on("change",(function(){n.emitter.emit("change",{key:t,sender:n})}))};for(var i in this.valMap_)r(i)}return d(t,[{key:"get",value:function(t){return this.valMap_[t].rawValue}},{key:"set",value:function(t,e){this.valMap_[t].rawValue=e}},{key:"value",value:function(t){return this.valMap_[t]}}],[{key:"createCore",value:function(t){return Object.keys(t).reduce((function(e,n){return Object.assign(e,l({},n,G(t[n])))}),{})}},{key:"fromObject",value:function(e){return new t(this.createCore(e))}}]),t}();function V(t,e){return _(Object.keys(e).reduce((function(n,r){if(void 0!==n){var i=(0,e[r])(t[r]);return i.succeeded?Object.assign(Object.assign({},n),l({},r,i.value)):void 0}}),{}))}function X(t,e){return t.reduce((function(t,n){if(void 0!==t){var r=e(n);if(r.succeeded&&void 0!==r.value)return[].concat(u(t),[r.value])}}),[])}function H(t){return null!==t&&"object"===typeof t}function Y(t){return function(e){return function(n){if(!e&&void 0===n)return{succeeded:!1,value:void 0};if(e&&void 0===n)return{succeeded:!0,value:void 0};var r=t(n);return void 0!==r?{succeeded:!0,value:r}:{succeeded:!1,value:void 0}}}}function W(t){return{custom:function(e){return Y(e)(t)},boolean:Y((function(t){return"boolean"===typeof t?t:void 0}))(t),number:Y((function(t){return"number"===typeof t?t:void 0}))(t),string:Y((function(t){return"string"===typeof t?t:void 0}))(t),function:Y((function(t){return"function"===typeof t?t:void 0}))(t),constant:function(e){return Y((function(t){return t===e?e:void 0}))(t)},raw:Y((function(t){return t}))(t),object:function(e){return Y((function(t){if(H(t))return V(t,e)}))(t)},array:function(e){return Y((function(t){if(Array.isArray(t))return X(t,e)}))(t)}}}var q={optional:W(!0),required:W(!1)};function K(t,e){var n=q.required.object(e)(t);return n.succeeded?n.value:void 0}function Z(t){return t&&t.parentElement&&t.parentElement.removeChild(t),null}function $(){return["veryfirst","first","last","verylast"]}var Q=P(""),J={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"},tt=function(){function t(e){var n=this;p(this,t),this.parent_=null,this.blade=e.blade,this.view=e.view,this.viewProps=e.viewProps;var r=this.view.element;this.blade.value("positions").emitter.on("change",(function(){$().forEach((function(t){r.classList.remove(Q(void 0,J[t]))})),n.blade.get("positions").forEach((function(t){r.classList.add(Q(void 0,J[t]))}))})),this.viewProps.handleDispose((function(){Z(r)}))}return d(t,[{key:"parent",get:function(){return this.parent_}}]),t}(),et="http://www.w3.org/2000/svg";function nt(t){t.offsetHeight}function rt(t,e){var n=t.style.transition;t.style.transition="none",e(),t.style.transition=n}function it(t){return void 0!==t.ontouchstart}function ot(){return new Function("return this")()}function at(){return _(ot()).document}function st(t){var e=t.ownerDocument.defaultView;return e&&"document"in e?t.getContext("2d"):null}var ut={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function lt(t,e){var n=t.createElementNS(et,"svg");return n.innerHTML=ut[e],n}function ct(t,e,n){t.insertBefore(e,t.children[n])}function ht(t){t.parentElement&&t.parentElement.removeChild(t)}function ft(t){for(;t.children.length>0;)t.removeChild(t.children[0])}function pt(t){for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])}function dt(t){return t.relatedTarget?_(t.relatedTarget):"explicitOriginalTarget"in t?t.explicitOriginalTarget:null}var vt=P("lbl");function mt(t,e){var n=t.createDocumentFragment();return e.split("\n").map((function(e){return t.createTextNode(e)})).forEach((function(e,r){r>0&&n.appendChild(t.createElement("br")),n.appendChild(e)})),n}var gt=d((function t(e,n){var r=this;p(this,t),this.element=e.createElement("div"),this.element.classList.add(vt()),n.viewProps.bindClassModifiers(this.element);var i=e.createElement("div");i.classList.add(vt("l")),I(n.props,"label",(function(t){b(t)?r.element.classList.add(vt(void 0,"nol")):(r.element.classList.remove(vt(void 0,"nol")),pt(i),i.appendChild(mt(e,t)))})),this.element.appendChild(i),this.labelElement=i;var o=e.createElement("div");o.classList.add(vt("v")),this.element.appendChild(o),this.valueElement=o})),yt=function(t){c(n,t);var e=h(n);function n(t,r){var i;p(this,n);var o=r.valueController.viewProps;return(i=e.call(this,Object.assign(Object.assign({},r),{view:new gt(t,{props:r.props,viewProps:o}),viewProps:o}))).props=r.props,i.valueController=r.valueController,i.view.valueElement.appendChild(i.valueController.view.element),i}return d(n)}(tt),_t={id:"button",type:"blade",accept:function(t){var e=q,n=K(t,{title:e.required.string,view:e.required.constant("button"),label:e.optional.string});return n?{params:n}:null},controller:function(t){return new yt(t.document,{blade:t.blade,props:z.fromObject({label:t.params.label}),valueController:new U(t.document,{props:z.fromObject({title:t.params.title}),viewProps:t.viewProps})})},api:function(t){return t.controller instanceof yt&&t.controller.valueController instanceof U?new S(t.controller):null}},bt=function(t){c(n,t);var e=h(n);function n(t){var r;return p(this,n),(r=e.call(this,t)).value=t.value,r}return d(n)}(tt);function xt(){return new z({positions:G([],{equals:x})})}var wt=function(t){c(n,t);var e=h(n);function n(t){return p(this,n),e.call(this,t)}return d(n,[{key:"styleExpanded",get:function(){var t;return null!==(t=this.get("temporaryExpanded"))&&void 0!==t?t:this.get("expanded")}},{key:"styleHeight",get:function(){if(!this.styleExpanded)return"0";var t=this.get("expandedHeight");return this.get("shouldFixHeight")&&!b(t)?"".concat(t,"px"):"auto"}},{key:"bindExpandedClass",value:function(t,e){var n=this;I(this,"expanded",(function(){n.styleExpanded?t.classList.add(e):t.classList.remove(e)}))}}],[{key:"create",value:function(t){var e={completed:!0,expanded:t,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null};return new n(z.createCore(e))}}]),n}(z);function Et(t,e){var n=0;return rt(e,(function(){t.set("expandedHeight",null),t.set("temporaryExpanded",!0),nt(e),n=e.clientHeight,t.set("temporaryExpanded",null),nt(e)})),n}function Tt(t,e){e.style.height=t.styleHeight}function St(t,e){t.value("expanded").emitter.on("beforechange",(function(){t.set("completed",!1),b(t.get("expandedHeight"))&&t.set("expandedHeight",Et(t,e)),t.set("shouldFixHeight",!0),nt(e)})),t.emitter.on("change",(function(){Tt(t,e)})),Tt(t,e),e.addEventListener("transitionend",(function(e){"height"===e.propertyName&&(t.set("shouldFixHeight",!1),t.set("expandedHeight",null),t.set("completed",!0))}))}var At=function(t){c(n,t);var e=h(n);function n(t,r){var i;return p(this,n),(i=e.call(this,t)).rackApi_=r,i}return d(n)}(n);function Ot(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"button"}))}function Pt(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"folder"}))}function Mt(t,e){var n=e||{};return t.addBlade(Object.assign(Object.assign({},n),{view:"separator"}))}function Ct(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"tab"}))}var Rt=function(){function t(e){p(this,t),this.emitter=new A,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=e}return d(t,[{key:"items",get:function(){return this.items_}},{key:"allItems",value:function(){return Array.from(this.cache_)}},{key:"find",value:function(t){var e,n=s(this.allItems());try{for(n.s();!(e=n.n()).done;){var r=e.value;if(t(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"includes",value:function(t){return this.cache_.has(t)}},{key:"add",value:function(t,e){var n=this;if(this.includes(t))throw E.shouldNeverHappen();var r=void 0!==e?e:this.items_.length;this.items_.splice(r,0,t),this.cache_.add(t);var i=this.extract_(t);i&&(i.emitter.on("add",this.onSubListAdd_),i.emitter.on("remove",this.onSubListRemove_),i.allItems().forEach((function(t){n.cache_.add(t)}))),this.emitter.emit("add",{index:r,item:t,root:this,target:this})}},{key:"remove",value:function(t){var e=this.items_.indexOf(t);if(!(e<0)){this.items_.splice(e,1),this.cache_.delete(t);var n=this.extract_(t);n&&(n.emitter.off("add",this.onSubListAdd_),n.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:e,item:t,root:this,target:this})}}},{key:"onSubListAdd_",value:function(t){this.cache_.add(t.item),this.emitter.emit("add",{index:t.index,item:t.item,root:this,target:t.target})}},{key:"onSubListRemove_",value:function(t){this.cache_.delete(t.item),this.emitter.emit("remove",{index:t.index,item:t.item,root:this,target:t.target})}}]),t}(),It=function(t){c(n,t);var e=h(n);function n(t){var r;return p(this,n),(r=e.call(this,t)).onBindingChange_=r.onBindingChange_.bind(a(r)),r.emitter_=new A,r.controller_.binding.emitter.on("change",r.onBindingChange_),r}return d(n,[{key:"label",get:function(){return this.controller_.props.get("label")},set:function(t){this.controller_.props.set("label",t)}},{key:"on",value:function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this}},{key:"refresh",value:function(){this.controller_.binding.read()}},{key:"onBindingChange_",value:function(t){var e=t.sender.target.read();this.emitter_.emit("change",{event:new m(this,_(e),this.controller_.binding.target.presetKey,t.options.last)})}}]),n}(n),Nt=function(t){c(n,t);var e=h(n);function n(t,r){var i;return p(this,n),(i=e.call(this,t,r)).binding=r.binding,i}return d(n)}(yt),kt=function(t){c(n,t);var e=h(n);function n(t){var r;return p(this,n),(r=e.call(this,t)).onBindingUpdate_=r.onBindingUpdate_.bind(a(r)),r.emitter_=new A,r.controller_.binding.emitter.on("update",r.onBindingUpdate_),r}return d(n,[{key:"label",get:function(){return this.controller_.props.get("label")},set:function(t){this.controller_.props.set("label",t)}},{key:"on",value:function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this}},{key:"refresh",value:function(){this.controller_.binding.read()}},{key:"onBindingUpdate_",value:function(t){var e=t.sender.target.read();this.emitter_.emit("update",{event:new g(this,_(e),this.controller_.binding.target.presetKey)})}}]),n}(n),Dt=function(t){c(n,t);var e=h(n);function n(t,r){var i;return p(this,n),(i=e.call(this,t,r)).binding=r.binding,i.viewProps.bindDisabled(i.binding.ticker),i.viewProps.handleDispose((function(){i.binding.dispose()})),i}return d(n)}(yt);function Lt(t){return t instanceof jt?t.apiSet_:t instanceof At?t.rackApi_.apiSet_:null}function Ft(t,e){var n=t.find((function(t){return t.controller_===e}));if(!n)throw E.shouldNeverHappen();return n}function Ut(t,e,n){if(!T.isBindable(t))throw E.notBindable();return new T(t,e,n)}var jt=function(t){c(n,t);var e=h(n);function n(t,r){var i;p(this,n),(i=e.call(this,t)).onRackAdd_=i.onRackAdd_.bind(a(i)),i.onRackRemove_=i.onRackRemove_.bind(a(i)),i.onRackInputChange_=i.onRackInputChange_.bind(a(i)),i.onRackMonitorUpdate_=i.onRackMonitorUpdate_.bind(a(i)),i.emitter_=new A,i.apiSet_=new Rt(Lt),i.pool_=r;var o=i.controller_.rack;return o.emitter.on("add",i.onRackAdd_),o.emitter.on("remove",i.onRackRemove_),o.emitter.on("inputchange",i.onRackInputChange_),o.emitter.on("monitorupdate",i.onRackMonitorUpdate_),o.children.forEach((function(t){i.setUpApi_(t)})),i}return d(n,[{key:"children",get:function(){var t=this;return this.controller_.rack.children.map((function(e){return Ft(t.apiSet_,e)}))}},{key:"addInput",value:function(t,e,n){var r=n||{},i=this.controller_.view.element.ownerDocument,o=this.pool_.createInput(i,Ut(t,e,r.presetKey),r),a=new It(o);return this.add(a,r.index)}},{key:"addMonitor",value:function(t,e,n){var r=n||{},i=this.controller_.view.element.ownerDocument,o=this.pool_.createMonitor(i,Ut(t,e),r),a=new kt(o);return _(this.add(a,r.index))}},{key:"addFolder",value:function(t){return Pt(this,t)}},{key:"addButton",value:function(t){return Ot(this,t)}},{key:"addSeparator",value:function(t){return Mt(this,t)}},{key:"addTab",value:function(t){return Ct(this,t)}},{key:"add",value:function(t,e){this.controller_.rack.add(t.controller_,e);var n=this.apiSet_.find((function(e){return e.controller_===t.controller_}));return n&&this.apiSet_.remove(n),this.apiSet_.add(t),t}},{key:"remove",value:function(t){this.controller_.rack.remove(t.controller_)}},{key:"addBlade",value:function(t){var e=this.controller_.view.element.ownerDocument,n=this.pool_.createBlade(e,t),r=this.pool_.createBladeApi(n);return this.add(r,t.index)}},{key:"on",value:function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this}},{key:"setUpApi_",value:function(t){this.apiSet_.find((function(e){return e.controller_===t}))||this.apiSet_.add(this.pool_.createBladeApi(t))}},{key:"onRackAdd_",value:function(t){this.setUpApi_(t.bladeController)}},{key:"onRackRemove_",value:function(t){if(t.isRoot){var e=Ft(this.apiSet_,t.bladeController);this.apiSet_.remove(e)}}},{key:"onRackInputChange_",value:function(t){var e=t.bladeController;if(e instanceof Nt){var n=Ft(this.apiSet_,e),r=e.binding;this.emitter_.emit("change",{event:new m(n,_(r.target.read()),r.target.presetKey,t.options.last)})}else if(e instanceof bt){var i=Ft(this.apiSet_,e);this.emitter_.emit("change",{event:new m(i,e.value.rawValue,void 0,t.options.last)})}}},{key:"onRackMonitorUpdate_",value:function(t){if(!(t.bladeController instanceof Dt))throw E.shouldNeverHappen();var e=Ft(this.apiSet_,t.bladeController),n=t.bladeController.binding;this.emitter_.emit("update",{event:new g(e,_(n.target.read()),n.target.presetKey)})}}]),n}(n),Bt=function(t){c(n,t);var e=h(n);function n(t,r){var i;return p(this,n),(i=e.call(this,t,new jt(t.rackController,r))).emitter_=new A,i.controller_.foldable.value("expanded").emitter.on("change",(function(t){i.emitter_.emit("fold",{event:new y(a(i),t.sender.rawValue)})})),i.rackApi_.on("change",(function(t){i.emitter_.emit("change",{event:t})})),i.rackApi_.on("update",(function(t){i.emitter_.emit("update",{event:t})})),i}return d(n,[{key:"expanded",get:function(){return this.controller_.foldable.get("expanded")},set:function(t){this.controller_.foldable.set("expanded",t)}},{key:"title",get:function(){return this.controller_.props.get("title")},set:function(t){this.controller_.props.set("title",t)}},{key:"children",get:function(){return this.rackApi_.children}},{key:"addInput",value:function(t,e,n){return this.rackApi_.addInput(t,e,n)}},{key:"addMonitor",value:function(t,e,n){return this.rackApi_.addMonitor(t,e,n)}},{key:"addFolder",value:function(t){return this.rackApi_.addFolder(t)}},{key:"addButton",value:function(t){return this.rackApi_.addButton(t)}},{key:"addSeparator",value:function(t){return this.rackApi_.addSeparator(t)}},{key:"addTab",value:function(t){return this.rackApi_.addTab(t)}},{key:"add",value:function(t,e){return this.rackApi_.add(t,e)}},{key:"remove",value:function(t){this.rackApi_.remove(t)}},{key:"addBlade",value:function(t){return this.rackApi_.addBlade(t)}},{key:"on",value:function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this}}]),n}(At),Gt=function(t){c(n,t);var e=h(n);function n(t){var r;return p(this,n),(r=e.call(this,{blade:t.blade,view:t.view,viewProps:t.rackController.viewProps})).rackController=t.rackController,r}return d(n)}(tt),zt=d((function t(e,n){p(this,t);var r=P(n.viewName);this.element=e.createElement("div"),this.element.classList.add(r()),n.viewProps.bindClassModifiers(this.element)}));function Vt(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r instanceof Nt&&r.binding===e)return r}return null}function Xt(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r instanceof Dt&&r.binding===e)return r}return null}function Ht(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r instanceof bt&&r.value===e)return r}return null}function Yt(t){return t instanceof Kt?t.rack:t instanceof Gt?t.rackController.rack:null}function Wt(t){var e=Yt(t);return e?e.bcSet_:null}var qt=function(){function t(e){var n;p(this,t),this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new A,this.blade_=null!==e&&void 0!==e?e:null,null===(n=this.blade_)||void 0===n||n.value("positions").emitter.on("change",this.onBladePositionsChange_),this.bcSet_=new Rt(Wt),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}return d(t,[{key:"children",get:function(){return this.bcSet_.items}},{key:"add",value:function(t,e){t.parent&&t.parent.remove(t),t.parent_=this,this.bcSet_.add(t,e)}},{key:"remove",value:function(t){t.parent_=null,this.bcSet_.remove(t)}},{key:"find",value:function(t){return _(this.bcSet_.allItems().filter((function(e){return e instanceof t})))}},{key:"onSetAdd_",value:function(t){this.updatePositions_();var e=t.target===t.root;if(this.emitter.emit("add",{bladeController:t.item,index:t.index,isRoot:e,sender:this}),e){var n=t.item;if(n.viewProps.emitter.on("change",this.onChildViewPropsChange_),n.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),n.viewProps.handleDispose(this.onChildDispose_),n instanceof Nt)n.binding.emitter.on("change",this.onChildInputChange_);else if(n instanceof Dt)n.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(n instanceof bt)n.value.emitter.on("change",this.onChildValueChange_);else{var r=Yt(n);if(r){var i=r.emitter;i.on("layout",this.onDescendantLayout_),i.on("inputchange",this.onDescendantInputChange_),i.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}}},{key:"onSetRemove_",value:function(t){this.updatePositions_();var e=t.target===t.root;if(this.emitter.emit("remove",{bladeController:t.item,isRoot:e,sender:this}),e){var n=t.item;if(n instanceof Nt)n.binding.emitter.off("change",this.onChildInputChange_);else if(n instanceof Dt)n.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(n instanceof bt)n.value.emitter.off("change",this.onChildValueChange_);else{var r=Yt(n);if(r){var i=r.emitter;i.off("layout",this.onDescendantLayout_),i.off("inputchange",this.onDescendantInputChange_),i.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}}},{key:"updatePositions_",value:function(){var t=this,e=this.bcSet_.items.filter((function(t){return!t.viewProps.get("hidden")})),n=e[0],r=e[e.length-1];this.bcSet_.items.forEach((function(e){var i=[];e===n&&(i.push("first"),t.blade_&&!t.blade_.get("positions").includes("veryfirst")||i.push("veryfirst")),e===r&&(i.push("last"),t.blade_&&!t.blade_.get("positions").includes("verylast")||i.push("verylast")),e.blade.set("positions",i)}))}},{key:"onChildPositionsChange_",value:function(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}},{key:"onChildViewPropsChange_",value:function(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}},{key:"onChildDispose_",value:function(){var t=this;this.bcSet_.items.filter((function(t){return t.viewProps.get("disposed")})).forEach((function(e){t.bcSet_.remove(e)}))}},{key:"onChildInputChange_",value:function(t){var e=Vt(this.find(Nt),t.sender);if(!e)throw E.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:e,options:t.options,sender:this})}},{key:"onChildMonitorUpdate_",value:function(t){var e=Xt(this.find(Dt),t.sender);if(!e)throw E.shouldNeverHappen();this.emitter.emit("monitorupdate",{bladeController:e,sender:this})}},{key:"onChildValueChange_",value:function(t){var e=Ht(this.find(bt),t.sender);if(!e)throw E.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:e,options:t.options,sender:this})}},{key:"onDescendantLayout_",value:function(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}},{key:"onDescendantInputChange_",value:function(t){this.emitter.emit("inputchange",{bladeController:t.bladeController,options:t.options,sender:this})}},{key:"onDescendantMonitorUpdate_",value:function(t){this.emitter.emit("monitorupdate",{bladeController:t.bladeController,sender:this})}},{key:"onBladePositionsChange_",value:function(){this.updatePositions_()}}]),t}(),Kt=function(t){c(n,t);var e=h(n);function n(t,r){var i;p(this,n),(i=e.call(this,Object.assign(Object.assign({},r),{view:new zt(t,{viewName:"brk",viewProps:r.viewProps})}))).onRackAdd_=i.onRackAdd_.bind(a(i)),i.onRackRemove_=i.onRackRemove_.bind(a(i));var o=new qt(r.root?void 0:r.blade);return o.emitter.on("add",i.onRackAdd_),o.emitter.on("remove",i.onRackRemove_),i.rack=o,i.viewProps.handleDispose((function(){for(var t=i.rack.children.length-1;t>=0;t--)i.rack.children[t].viewProps.set("disposed",!0)})),i}return d(n,[{key:"onRackAdd_",value:function(t){t.isRoot&&ct(this.view.element,t.bladeController.view.element,t.index)}},{key:"onRackRemove_",value:function(t){t.isRoot&&ht(t.bladeController.view.element)}}]),n}(tt),Zt=P("cnt"),$t=d((function t(e,n){var r=this;p(this,t),this.className_=P(n.viewName||"fld"),this.element=e.createElement("div"),this.element.classList.add(this.className_(),Zt()),n.viewProps.bindClassModifiers(this.element),this.foldable_=n.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),I(this.foldable_,"completed",k(this.element,this.className_(void 0,"cpl")));var i=e.createElement("button");i.classList.add(this.className_("b")),I(n.props,"title",(function(t){b(t)?r.element.classList.add(r.className_(void 0,"not")):r.element.classList.remove(r.className_(void 0,"not"))})),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;var o=e.createElement("div");o.classList.add(this.className_("t")),D(n.props.value("title"),o),this.buttonElement.appendChild(o),this.titleElement=o;var a=e.createElement("div");a.classList.add(this.className_("m")),this.buttonElement.appendChild(a);var s=n.containerElement;s.classList.add(this.className_("c")),this.element.appendChild(s),this.containerElement=s})),Qt=function(t){c(n,t);var e=h(n);function n(t,r){var i,o;p(this,n);var s=wt.create(null===(o=r.expanded)||void 0===o||o),u=new Kt(t,{blade:r.blade,root:r.root,viewProps:r.viewProps});return(i=e.call(this,Object.assign(Object.assign({},r),{rackController:u,view:new $t(t,{containerElement:u.view.element,foldable:s,props:r.props,viewName:r.root?"rot":void 0,viewProps:r.viewProps})}))).onTitleClick_=i.onTitleClick_.bind(a(i)),i.props=r.props,i.foldable=s,St(i.foldable,i.view.containerElement),i.view.buttonElement.addEventListener("click",i.onTitleClick_),i}return d(n,[{key:"document",get:function(){return this.view.element.ownerDocument}},{key:"onTitleClick_",value:function(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}]),n}(Gt),Jt={id:"folder",type:"blade",accept:function(t){var e=q,n=K(t,{title:e.required.string,view:e.required.constant("folder"),expanded:e.optional.boolean});return n?{params:n}:null},controller:function(t){return new Qt(t.document,{blade:t.blade,expanded:t.params.expanded,props:z.fromObject({title:t.params.title}),viewProps:t.viewProps})},api:function(t){return t.controller instanceof Qt?new Bt(t.controller,t.pool):null}},te=function(t){c(n,t);var e=h(n);function n(t,r){var i;p(this,n);var o=r.valueController.viewProps;return(i=e.call(this,Object.assign(Object.assign({},r),{value:r.valueController.value,view:new gt(t,{props:r.props,viewProps:o}),viewProps:o}))).props=r.props,i.valueController=r.valueController,i.view.valueElement.appendChild(i.valueController.view.element),i}return d(n)}(bt),ee=function(t){c(n,t);var e=h(n);function n(){return p(this,n),e.apply(this,arguments)}return d(n)}(n),ne=P("spr"),re=d((function t(e,n){p(this,t),this.element=e.createElement("div"),this.element.classList.add(ne()),n.viewProps.bindClassModifiers(this.element);var r=e.createElement("hr");r.classList.add(ne("r")),this.element.appendChild(r)})),ie=function(t){c(n,t);var e=h(n);function n(t,r){return p(this,n),e.call(this,Object.assign(Object.assign({},r),{view:new re(t,{viewProps:r.viewProps})}))}return d(n)}(tt),oe={id:"separator",type:"blade",accept:function(t){var e=K(t,{view:q.required.constant("separator")});return e?{params:e}:null},controller:function(t){return new ie(t.document,{blade:t.blade,viewProps:t.viewProps})},api:function(t){return t.controller instanceof ie?new ee(t.controller):null}},ae=P("");function se(t,e){return k(t,ae(void 0,e))}var ue=function(t){c(n,t);var e=h(n);function n(t){return p(this,n),e.call(this,t)}return d(n,[{key:"bindClassModifiers",value:function(t){I(this,"disabled",se(t,"disabled")),I(this,"hidden",se(t,"hidden"))}},{key:"bindDisabled",value:function(t){I(this,"disabled",(function(e){t.disabled=e}))}},{key:"bindTabIndex",value:function(t){I(this,"disabled",(function(e){t.tabIndex=e?-1:0}))}},{key:"handleDispose",value:function(t){this.value("disposed").emitter.on("change",(function(e){e&&t()}))}}],[{key:"create",value:function(t){var e,r,i=null!==t&&void 0!==t?t:{},o={disabled:null!==(e=i.disabled)&&void 0!==e&&e,disposed:!1,hidden:null!==(r=i.hidden)&&void 0!==r&&r};return new n(z.createCore(o))}}]),n}(z),le=P("tbi"),ce=d((function t(e,n){var r=this;p(this,t),this.element=e.createElement("div"),this.element.classList.add(le()),n.viewProps.bindClassModifiers(this.element),I(n.props,"selected",(function(t){t?r.element.classList.add(le(void 0,"sel")):r.element.classList.remove(le(void 0,"sel"))}));var i=e.createElement("button");i.classList.add(le("b")),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;var o=e.createElement("div");o.classList.add(le("t")),D(n.props.value("title"),o),this.buttonElement.appendChild(o),this.titleElement=o})),he=function(){function t(e,n){p(this,t),this.emitter=new A,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new ce(e,{props:n.props,viewProps:n.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}return d(t,[{key:"onClick_",value:function(){this.emitter.emit("click",{sender:this})}}]),t}(),fe=function(){function t(e,n){var r=this;p(this,t),this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new he(e,{props:n.itemProps,viewProps:ue.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new Kt(e,{blade:xt(),viewProps:ue.create()}),this.props=n.props,I(this.props,"selected",(function(t){r.itemController.props.set("selected",t),r.contentController.viewProps.set("hidden",!t)}))}return d(t,[{key:"itemController",get:function(){return this.ic_}},{key:"contentController",get:function(){return this.cc_}},{key:"onItemClick_",value:function(){this.props.set("selected",!0)}}]),t}(),pe=function(){function t(e,n){p(this,t),this.controller_=e,this.rackApi_=n}return d(t,[{key:"title",get:function(){var t;return null!==(t=this.controller_.itemController.props.get("title"))&&void 0!==t?t:""},set:function(t){this.controller_.itemController.props.set("title",t)}},{key:"selected",get:function(){return this.controller_.props.get("selected")},set:function(t){this.controller_.props.set("selected",t)}},{key:"children",get:function(){return this.rackApi_.children}},{key:"addButton",value:function(t){return this.rackApi_.addButton(t)}},{key:"addFolder",value:function(t){return this.rackApi_.addFolder(t)}},{key:"addSeparator",value:function(t){return this.rackApi_.addSeparator(t)}},{key:"addTab",value:function(t){return this.rackApi_.addTab(t)}},{key:"add",value:function(t,e){this.rackApi_.add(t,e)}},{key:"remove",value:function(t){this.rackApi_.remove(t)}},{key:"addInput",value:function(t,e,n){return this.rackApi_.addInput(t,e,n)}},{key:"addMonitor",value:function(t,e,n){return this.rackApi_.addMonitor(t,e,n)}},{key:"addBlade",value:function(t){return this.rackApi_.addBlade(t)}}]),t}(),de=function(t){c(n,t);var e=h(n);function n(t,r){var i;return p(this,n),(i=e.call(this,t,new jt(t.rackController,r))).onPageAdd_=i.onPageAdd_.bind(a(i)),i.onPageRemove_=i.onPageRemove_.bind(a(i)),i.emitter_=new A,i.pageApiMap_=new Map,i.rackApi_.on("change",(function(t){i.emitter_.emit("change",{event:t})})),i.rackApi_.on("update",(function(t){i.emitter_.emit("update",{event:t})})),i.controller_.pageSet.emitter.on("add",i.onPageAdd_),i.controller_.pageSet.emitter.on("remove",i.onPageRemove_),i.controller_.pageSet.items.forEach((function(t){i.setUpPageApi_(t)})),i}return d(n,[{key:"pages",get:function(){var t=this;return this.controller_.pageSet.items.map((function(e){var n=t.pageApiMap_.get(e);if(!n)throw E.shouldNeverHappen();return n}))}},{key:"addPage",value:function(t){var e=this.controller_.view.element.ownerDocument,n=new fe(e,{itemProps:z.fromObject({selected:!1,title:t.title}),props:z.fromObject({selected:!1})});this.controller_.add(n,t.index);var r=this.pageApiMap_.get(n);if(!r)throw E.shouldNeverHappen();return r}},{key:"removePage",value:function(t){this.controller_.remove(t)}},{key:"on",value:function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this}},{key:"setUpPageApi_",value:function(t){var e=this.rackApi_.apiSet_.find((function(e){return e.controller_===t.contentController}));if(!e)throw E.shouldNeverHappen();var n=new pe(t,e);this.pageApiMap_.set(t,n)}},{key:"onPageAdd_",value:function(t){this.setUpPageApi_(t.item)}},{key:"onPageRemove_",value:function(t){if(!this.pageApiMap_.get(t.item))throw E.shouldNeverHappen();this.pageApiMap_.delete(t.item)}}]),n}(At),ve=P("tab"),me=d((function t(e,n){p(this,t),this.element=e.createElement("div"),this.element.classList.add(ve(),Zt()),n.viewProps.bindClassModifiers(this.element),R(n.empty,k(this.element,ve(void 0,"nop")));var r=e.createElement("div");r.classList.add(ve("i")),this.element.appendChild(r),this.itemsElement=r;var i=n.contentsElement;i.classList.add(ve("c")),this.element.appendChild(i),this.contentsElement=i})),ge=function(t){c(n,t);var e=h(n);function n(t,r){var i;p(this,n);var o=new Kt(t,{blade:r.blade,viewProps:r.viewProps}),s=G(!0);return(i=e.call(this,{blade:r.blade,rackController:o,view:new me(t,{contentsElement:o.view.element,empty:s,viewProps:r.viewProps})})).onPageAdd_=i.onPageAdd_.bind(a(i)),i.onPageRemove_=i.onPageRemove_.bind(a(i)),i.onPageSelectedChange_=i.onPageSelectedChange_.bind(a(i)),i.pageSet_=new Rt((function(){return null})),i.pageSet_.emitter.on("add",i.onPageAdd_),i.pageSet_.emitter.on("remove",i.onPageRemove_),i.empty_=s,i.applyPages_(),i}return d(n,[{key:"pageSet",get:function(){return this.pageSet_}},{key:"add",value:function(t,e){this.pageSet_.add(t,null!==e&&void 0!==e?e:this.pageSet_.items.length)}},{key:"remove",value:function(t){this.pageSet_.remove(this.pageSet_.items[t])}},{key:"applyPages_",value:function(){this.keepSelection_(),this.empty_.rawValue=0===this.pageSet_.items.length}},{key:"onPageAdd_",value:function(t){var e=t.item;ct(this.view.itemsElement,e.itemController.view.element,t.index),this.rackController.rack.add(e.contentController,t.index),e.props.value("selected").emitter.on("change",this.onPageSelectedChange_),this.applyPages_()}},{key:"onPageRemove_",value:function(t){var e=t.item;ht(e.itemController.view.element),this.rackController.rack.remove(e.contentController),e.props.value("selected").emitter.off("change",this.onPageSelectedChange_),this.applyPages_()}},{key:"keepSelection_",value:function(){if(0!==this.pageSet_.items.length){var t=this.pageSet_.items.findIndex((function(t){return t.props.get("selected")}));t<0?this.pageSet_.items.forEach((function(t,e){t.props.set("selected",0===e)})):this.pageSet_.items.forEach((function(e,n){e.props.set("selected",n===t)}))}}},{key:"onPageSelectedChange_",value:function(t){if(t.rawValue){var e=this.pageSet_.items.findIndex((function(e){return e.props.value("selected")===t.sender}));this.pageSet_.items.forEach((function(t,n){t.props.set("selected",n===e)}))}else this.keepSelection_()}}]),n}(Gt),ye={id:"tab",type:"blade",accept:function(t){var e=q,n=K(t,{pages:e.required.array(e.required.object({title:e.required.string})),view:e.required.constant("tab")});return n&&0!==n.pages.length?{params:n}:null},controller:function(t){var e=new ge(t.document,{blade:t.blade,viewProps:t.viewProps});return t.params.pages.forEach((function(n){var r=new fe(t.document,{itemProps:z.fromObject({selected:!1,title:n.title}),props:z.fromObject({selected:!1})});e.add(r)})),e},api:function(t){return t.controller instanceof ge?new de(t.controller,t.pool):null}};function _e(t,e){var n=t.accept(e.params);if(!n)return null;var r=q.optional.boolean(e.params.disabled).value,i=q.optional.boolean(e.params.hidden).value;return t.controller({blade:xt(),document:e.document,params:_(Object.assign(Object.assign({},n.params),{disabled:r,hidden:i})),viewProps:ue.create({disabled:r,hidden:i})})}var be=function(){function t(){p(this,t),this.disabled=!1,this.emitter=new A}return d(t,[{key:"dispose",value:function(){}},{key:"tick",value:function(){this.disabled||this.emitter.emit("tick",{sender:this})}}]),t}(),xe=function(){function t(e,n){p(this,t),this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=e,this.emitter=new A,this.interval_=n,this.setTimer_()}return d(t,[{key:"disabled",get:function(){return this.disabled_},set:function(t){this.disabled_=t,this.disabled_?this.clearTimer_():this.setTimer_()}},{key:"dispose",value:function(){this.clearTimer_()}},{key:"clearTimer_",value:function(){if(null!==this.timerId_){var t=this.doc_.defaultView;t&&t.clearInterval(this.timerId_),this.timerId_=null}}},{key:"setTimer_",value:function(){if(this.clearTimer_(),!(this.interval_<=0)){var t=this.doc_.defaultView;t&&(this.timerId_=t.setInterval(this.onTick_,this.interval_))}}},{key:"onTick_",value:function(){this.disabled_||this.emitter.emit("tick",{sender:this})}}]),t}(),we=function(){function t(e){p(this,t),this.constraints=e}return d(t,[{key:"constrain",value:function(t){return this.constraints.reduce((function(t,e){return e.constrain(t)}),t)}}]),t}();function Ee(t,e){if(t instanceof e)return t;if(t instanceof we){var n=t.constraints.reduce((function(t,n){return t||(n instanceof e?n:null)}),null);if(n)return n}return null}var Te=function(){function t(e){p(this,t),this.options=e}return d(t,[{key:"constrain",value:function(t){var e=this.options;return 0===e.length||e.filter((function(e){return e.value===t})).length>0?t:e[0].value}}]),t}(),Se=function(){function t(e){p(this,t),this.maxValue=e.max,this.minValue=e.min}return d(t,[{key:"constrain",value:function(t){var e=t;return b(this.minValue)||(e=Math.max(e,this.minValue)),b(this.maxValue)||(e=Math.min(e,this.maxValue)),e}}]),t}(),Ae=function(){function t(e){p(this,t),this.step=e}return d(t,[{key:"constrain",value:function(t){return(t<0?-Math.round(-t/this.step):Math.round(t/this.step))*this.step}}]),t}(),Oe=P("lst"),Pe=function(){function t(e,n){p(this,t),this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.element=e.createElement("div"),this.element.classList.add(Oe()),n.viewProps.bindClassModifiers(this.element);var r=e.createElement("select");r.classList.add(Oe("s")),I(this.props_,"options",(function(t){ft(r),t.forEach((function(t,n){var i=e.createElement("option");i.dataset.index=String(n),i.textContent=t.text,i.value=String(t.value),r.appendChild(i)}))})),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.selectElement=r;var i=e.createElement("div");i.classList.add(Oe("m")),i.appendChild(lt(e,"dropdown")),this.element.appendChild(i),n.value.emitter.on("change",this.onValueChange_),this.value_=n.value,this.update_()}return d(t,[{key:"update_",value:function(){this.selectElement.value=String(this.value_.rawValue)}},{key:"onValueChange_",value:function(){this.update_()}}]),t}(),Me=function(){function t(e,n){p(this,t),this.onSelectChange_=this.onSelectChange_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new Pe(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}return d(t,[{key:"onSelectChange_",value:function(t){var e=_(t.currentTarget).selectedOptions.item(0);if(e){var n=Number(e.dataset.index);this.value.rawValue=this.props.get("options")[n].value}}}]),t}(),Ce=P("pop"),Re=d((function t(e,n){p(this,t),this.element=e.createElement("div"),this.element.classList.add(Ce()),n.viewProps.bindClassModifiers(this.element),R(n.shows,k(this.element,Ce(void 0,"v")))})),Ie=d((function t(e,n){p(this,t),this.shows=G(!1),this.viewProps=n.viewProps,this.view=new Re(e,{shows:this.shows,viewProps:this.viewProps})})),Ne=P("txt"),ke=function(){function t(e,n){p(this,t),this.onChange_=this.onChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Ne()),n.viewProps.bindClassModifiers(this.element),this.props_=n.props,this.props_.emitter.on("change",this.onChange_);var r=e.createElement("input");r.classList.add(Ne("i")),r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,n.value.emitter.on("change",this.onChange_),this.value_=n.value,this.refresh()}return d(t,[{key:"refresh",value:function(){var t=this.props_.get("formatter");this.inputElement.value=t(this.value_.rawValue)}},{key:"onChange_",value:function(){this.refresh()}}]),t}(),De=function(){function t(e,n){p(this,t),this.onInputChange_=this.onInputChange_.bind(this),this.parser_=n.parser,this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new ke(e,{props:n.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}return d(t,[{key:"onInputChange_",value:function(t){var e=_(t.currentTarget).value,n=this.parser_(e);b(n)||(this.value.rawValue=n),this.view.refresh()}}]),t}();function Le(t){return String(t)}function Fe(t){return"false"!==t&&!!t}function Ue(t){return Le(t)}var je=function(){function t(e){p(this,t),this.text=e}return d(t,[{key:"evaluate",value:function(){return Number(this.text)}},{key:"toString",value:function(){return this.text}}]),t}(),Be={"**":function(t,e){return Math.pow(t,e)},"*":function(t,e){return t*e},"/":function(t,e){return t/e},"%":function(t,e){return t%e},"+":function(t,e){return t+e},"-":function(t,e){return t-e},"<<":function(t,e){return t<<e},">>":function(t,e){return t>>e},">>>":function(t,e){return t>>>e},"&":function(t,e){return t&e},"^":function(t,e){return t^e},"|":function(t,e){return t|e}},Ge=function(){function t(e,n,r){p(this,t),this.left=n,this.operator=e,this.right=r}return d(t,[{key:"evaluate",value:function(){var t=Be[this.operator];if(!t)throw new Error("unexpected binary operator: '".concat(this.operator));return t(this.left.evaluate(),this.right.evaluate())}},{key:"toString",value:function(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}]),t}(),ze={"+":function(t){return t},"-":function(t){return-t},"~":function(t){return~t}},Ve=function(){function t(e,n){p(this,t),this.operator=e,this.expression=n}return d(t,[{key:"evaluate",value:function(){var t=ze[this.operator];if(!t)throw new Error("unexpected unary operator: '".concat(this.operator));return t(this.expression.evaluate())}},{key:"toString",value:function(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}]),t}();function Xe(t){return function(e,n){for(var r=0;r<t.length;r++){var i=t[r](e,n);if(""!==i)return i}return""}}function He(t,e){var n,r=t.substr(e).match(/^\s+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}function Ye(t,e){var n=t.substr(e,1);return n.match(/^[1-9]$/)?n:""}function We(t,e){var n,r=t.substr(e).match(/^[0-9]+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}function qe(t,e){var n=We(t,e);if(""!==n)return n;var r=t.substr(e,1);if("-"!==r&&"+"!==r)return"";var i=We(t,e+=1);return""===i?"":r+i}function Ke(t,e){var n=t.substr(e,1);if(e+=1,"e"!==n.toLowerCase())return"";var r=qe(t,e);return""===r?"":n+r}function Ze(t,e){var n=t.substr(e,1);if("0"===n)return n;var r=Ye(t,e);return e+=r.length,""===r?"":r+We(t,e)}function $e(t,e){var n=Ze(t,e);if(e+=n.length,""===n)return"";var r=t.substr(e,1);if(e+=r.length,"."!==r)return"";var i=We(t,e);return n+r+i+Ke(t,e+=i.length)}function Qe(t,e){var n=t.substr(e,1);if(e+=n.length,"."!==n)return"";var r=We(t,e);return e+=r.length,""===r?"":n+r+Ke(t,e)}function Je(t,e){var n=Ze(t,e);return e+=n.length,""===n?"":n+Ke(t,e)}var tn=Xe([$e,Qe,Je]);function en(t,e){var n,r=t.substr(e).match(/^[01]+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}function nn(t,e){var n=t.substr(e,2);if(e+=n.length,"0b"!==n.toLowerCase())return"";var r=en(t,e);return""===r?"":n+r}function rn(t,e){var n,r=t.substr(e).match(/^[0-7]+/);return null!==(n=r&&r[0])&&void 0!==n?n:""}function on(t,e){var n=t.substr(e,2);if(e+=n.length,"0o"!==n.toLowerCase())return"";var r=rn(t,e);return""===r?"":n+r}function an(t,e){var n,r=t.substr(e).match(/^[0-9a-f]+/i);return null!==(n=r&&r[0])&&void 0!==n?n:""}function sn(t,e){var n=t.substr(e,2);if(e+=n.length,"0x"!==n.toLowerCase())return"";var r=an(t,e);return""===r?"":n+r}var un=Xe([nn,on,sn]),ln=Xe([un,tn]);function cn(t,e){var n=ln(t,e);return e+=n.length,""===n?null:{evaluable:new je(n),cursor:e}}function hn(t,e){var n=t.substr(e,1);if(e+=n.length,"("!==n)return null;var r=gn(t,e);if(!r)return null;e=r.cursor,e+=He(t,e).length;var i=t.substr(e,1);return e+=i.length,")"!==i?null:{evaluable:r.evaluable,cursor:e}}function fn(t,e){return cn(t,e)||hn(t,e)}function pn(t,e){var n=fn(t,e);if(n)return n;var r=t.substr(e,1);if(e+=r.length,"+"!==r&&"-"!==r&&"~"!==r)return null;var i=pn(t,e);return i?{cursor:e=i.cursor,evaluable:new Ve(r,i.evaluable)}:null}function dn(t,e,n){n+=He(e,n).length;var r=t.filter((function(t){return e.startsWith(t,n)}))[0];return r?(n+=r.length,{cursor:n+=He(e,n).length,operator:r}):null}function vn(t,e){return function(n,r){var i=t(n,r);if(!i)return null;r=i.cursor;for(var o=i.evaluable;;){var a=dn(e,n,r);if(!a)break;r=a.cursor;var s=t(n,r);if(!s)return null;r=s.cursor,o=new Ge(a.operator,o,s.evaluable)}return o?{cursor:r,evaluable:o}:null}}var mn=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((function(t,e){return vn(t,e)}),pn);function gn(t,e){return e+=He(t,e).length,mn(t,e)}function yn(t){var e=gn(t,0);return e?e.cursor+He(t,e.cursor).length!==t.length?null:e.evaluable:null}function _n(t){var e,n=yn(t);return null!==(e=null===n||void 0===n?void 0:n.evaluate())&&void 0!==e?e:null}function bn(t){if("number"===typeof t)return t;if("string"===typeof t){var e=_n(t);if(!b(e))return e}return 0}function xn(t){return String(t)}function wn(t){return function(e){return e.toFixed(Math.max(Math.min(t,20),0))}}var En=wn(0);function Tn(t){return En(t)+"%"}function Sn(t){return String(t)}function An(t){return t}function On(t,e){for(;t.length<e;)t.push(void 0)}function Pn(t){var e=[];return On(e,t),G(e)}function Mn(t){var e=t.indexOf(void 0);return _(e<0?t:t.slice(0,e))}function Cn(t,e){var n=[].concat(u(Mn(t)),[e]);return n.length>t.length?n.splice(0,n.length-t.length):On(n,t.length),n}function Rn(t){var e=t.primary,n=t.secondary,r=t.forward,i=t.backward,o=!1;function a(t){o||(o=!0,t(),o=!1)}e.emitter.on("change",(function(t){a((function(){n.setRawValue(r(e,n),t.options)}))})),n.emitter.on("change",(function(t){a((function(){e.setRawValue(i(e,n),t.options)})),a((function(){n.setRawValue(r(e,n),t.options)}))})),a((function(){n.setRawValue(r(e,n),{forceEmit:!1,last:!0})}))}function In(t,e){var n=t*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+n:e.downKey?-n:0}function Nn(t){return{altKey:t.altKey,downKey:"ArrowDown"===t.key,shiftKey:t.shiftKey,upKey:"ArrowUp"===t.key}}function kn(t){return{altKey:t.altKey,downKey:"ArrowLeft"===t.key,shiftKey:t.shiftKey,upKey:"ArrowRight"===t.key}}function Dn(t){return"ArrowUp"===t||"ArrowDown"===t}function Ln(t){return Dn(t)||"ArrowLeft"===t||"ArrowRight"===t}function Fn(t,e){var n=e.ownerDocument.defaultView,r=e.getBoundingClientRect();return{x:t.pageX-((n&&n.scrollX||0)+r.left),y:t.pageY-((n&&n.scrollY||0)+r.top)}}var Un=function(){function t(e){p(this,t),this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=e,this.emitter=new A,e.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),e.addEventListener("touchend",this.onTouchEnd_),e.addEventListener("mousedown",this.onMouseDown_)}return d(t,[{key:"computePosition_",value:function(t){var e=this.elem_.getBoundingClientRect();return{bounds:{width:e.width,height:e.height},point:t?{x:t.x,y:t.y}:null}}},{key:"onMouseDown_",value:function(t){var e;t.preventDefault(),null===(e=t.currentTarget)||void 0===e||e.focus();var n=this.elem_.ownerDocument;n.addEventListener("mousemove",this.onDocumentMouseMove_),n.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(Fn(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}},{key:"onDocumentMouseMove_",value:function(t){this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(Fn(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}},{key:"onDocumentMouseUp_",value:function(t){var e=this.elem_.ownerDocument;e.removeEventListener("mousemove",this.onDocumentMouseMove_),e.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(Fn(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}},{key:"onTouchStart_",value:function(t){t.preventDefault();var e=t.targetTouches.item(0),n=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(e?{x:e.clientX-n.left,y:e.clientY-n.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=e}},{key:"onTouchMove_",value:function(t){var e=t.targetTouches.item(0),n=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(e?{x:e.clientX-n.left,y:e.clientY-n.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=e}},{key:"onTouchEnd_",value:function(t){var e,n=null!==(e=t.targetTouches.item(0))&&void 0!==e?e:this.lastTouch_,r=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:t.shiftKey})}}]),t}();function jn(t,e,n,r,i){return r+(t-e)/(n-e)*(i-r)}function Bn(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Gn(t,e,n){return Math.min(Math.max(t,e),n)}function zn(t,e){return(t%e+e)%e}var Vn=P("txt"),Xn=function(){function t(e,n){p(this,t),this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(Vn(),Vn(void 0,"num")),n.arrayPosition&&this.element.classList.add(Vn(void 0,n.arrayPosition)),n.viewProps.bindClassModifiers(this.element);var r=e.createElement("input");r.classList.add(Vn("i")),r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=n.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(Vn()),this.inputElement.classList.add(Vn("i"));var i=e.createElement("div");i.classList.add(Vn("k")),this.element.appendChild(i),this.knobElement=i;var o=e.createElementNS(et,"svg");o.classList.add(Vn("g")),this.knobElement.appendChild(o);var a=e.createElementNS(et,"path");a.classList.add(Vn("gb")),o.appendChild(a),this.guideBodyElem_=a;var s=e.createElementNS(et,"path");s.classList.add(Vn("gh")),o.appendChild(s),this.guideHeadElem_=s;var u=e.createElement("div");u.classList.add(P("tt")()),this.knobElement.appendChild(u),this.tooltipElem_=u,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.refresh()}return d(t,[{key:"onDraggingChange_",value:function(t){if(null!==t.rawValue){this.element.classList.add(Vn(void 0,"drg"));var e=t.rawValue/this.props_.get("draggingScale"),n=e+(e>0?-1:e<0?1:0),r=Gn(-n,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",["M ".concat(n+r,",0 L").concat(n,",4 L").concat(n+r,",8"),"M ".concat(e,",-1 L").concat(e,",9")].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d","M 0,4 L".concat(e,",4"));var i=this.props_.get("formatter");this.tooltipElem_.textContent=i(this.value.rawValue),this.tooltipElem_.style.left="".concat(e,"px")}else this.element.classList.remove(Vn(void 0,"drg"))}},{key:"refresh",value:function(){var t=this.props_.get("formatter");this.inputElement.value=t(this.value.rawValue)}},{key:"onChange_",value:function(){this.refresh()}}]),t}(),Hn=function(){function t(e,n){p(this,t),this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=n.baseStep,this.parser_=n.parser,this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.dragging_=G(null),this.view=new Xn(e,{arrayPosition:n.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);var r=new Un(this.view.knobElement);r.emitter.on("down",this.onPointerDown_),r.emitter.on("move",this.onPointerMove_),r.emitter.on("up",this.onPointerUp_)}return d(t,[{key:"onInputChange_",value:function(t){var e=_(t.currentTarget).value,n=this.parser_(e);b(n)||(this.value.rawValue=n),this.view.refresh()}},{key:"onInputKeyDown_",value:function(t){var e=In(this.baseStep_,Nn(t));0!==e&&this.value.setRawValue(this.value.rawValue+e,{forceEmit:!1,last:!1})}},{key:"onInputKeyUp_",value:function(t){0!==In(this.baseStep_,Nn(t))&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}},{key:"onPointerDown_",value:function(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}},{key:"computeDraggingValue_",value:function(t){if(!t.point)return null;var e=t.point.x-t.bounds.width/2;return this.originRawValue_+e*this.props.get("draggingScale")}},{key:"onPointerMove_",value:function(t){var e=this.computeDraggingValue_(t.data);null!==e&&(this.value.setRawValue(e,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}},{key:"onPointerUp_",value:function(t){var e=this.computeDraggingValue_(t.data);null!==e&&(this.value.setRawValue(e,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}]),t}(),Yn=P("sld"),Wn=function(){function t(e,n){p(this,t),this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(Yn()),n.viewProps.bindClassModifiers(this.element);var r=e.createElement("div");r.classList.add(Yn("t")),n.viewProps.bindTabIndex(r),this.element.appendChild(r),this.trackElement=r;var i=e.createElement("div");i.classList.add(Yn("k")),this.trackElement.appendChild(i),this.knobElement=i,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.update_()}return d(t,[{key:"update_",value:function(){var t=Gn(jn(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width="".concat(t,"%")}},{key:"onChange_",value:function(){this.update_()}}]),t}(),qn=function(){function t(e,n){p(this,t),this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=n.baseStep,this.value=n.value,this.viewProps=n.viewProps,this.props=n.props,this.view=new Wn(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Un(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}return d(t,[{key:"handlePointerEvent_",value:function(t,e){t.point&&this.value.setRawValue(jn(Gn(t.point.x,0,t.bounds.width),0,t.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),e)}},{key:"onPointerDownOrMove_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerUp_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}},{key:"onKeyDown_",value:function(t){var e=In(this.baseStep_,kn(t));0!==e&&this.value.setRawValue(this.value.rawValue+e,{forceEmit:!1,last:!1})}},{key:"onKeyUp_",value:function(t){0!==In(this.baseStep_,kn(t))&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}]),t}(),Kn=P("sldtxt"),Zn=d((function t(e,n){p(this,t),this.element=e.createElement("div"),this.element.classList.add(Kn());var r=e.createElement("div");r.classList.add(Kn("s")),this.sliderView_=n.sliderView,r.appendChild(this.sliderView_.element),this.element.appendChild(r);var i=e.createElement("div");i.classList.add(Kn("t")),this.textView_=n.textView,i.appendChild(this.textView_.element),this.element.appendChild(i)})),$n=function(){function t(e,n){p(this,t),this.value=n.value,this.viewProps=n.viewProps,this.sliderC_=new qn(e,{baseStep:n.baseStep,props:n.sliderProps,value:n.value,viewProps:this.viewProps}),this.textC_=new Hn(e,{baseStep:n.baseStep,parser:n.parser,props:n.textProps,value:n.value,viewProps:n.viewProps}),this.view=new Zn(e,{sliderView:this.sliderC_.view,textView:this.textC_.view})}return d(t,[{key:"sliderController",get:function(){return this.sliderC_}},{key:"textController",get:function(){return this.textC_}}]),t}();function Qn(t,e){t.write(e)}function Jn(t){var e=q;return Array.isArray(t)?e.required.array(e.required.object({text:e.required.string,value:e.required.raw}))(t).value:"object"===typeof t?e.required.raw(t).value:void 0}function tr(t){if("inline"===t||"popup"===t)return t}function er(t){var e=q;return e.required.object({max:e.optional.number,min:e.optional.number,step:e.optional.number})(t).value}function nr(t){if(Array.isArray(t))return t;var e=[];return Object.keys(t).forEach((function(n){e.push({text:n,value:t[n]})})),e}function rr(t){return b(t)?null:new Te(nr(_(t)))}function ir(t){var e=t?Ee(t,Te):null;return e?e.options:null}function or(t){var e=t?Ee(t,Ae):null;return e?e.step:null}function ar(t,e){var n=t&&Ee(t,Ae);return n?Bn(n.step):Math.max(Bn(e),2)}function sr(t){var e=or(t);return null!==e&&void 0!==e?e:1}function ur(t,e){var n,r=t&&Ee(t,Ae),i=Math.abs(null!==(n=null===r||void 0===r?void 0:r.step)&&void 0!==n?n:e);return 0===i?.1:Math.pow(10,Math.floor(Math.log10(i))-1)}var lr=P("ckb"),cr=function(){function t(e,n){p(this,t),this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(lr()),n.viewProps.bindClassModifiers(this.element);var r=e.createElement("label");r.classList.add(lr("l")),this.element.appendChild(r);var i=e.createElement("input");i.classList.add(lr("i")),i.type="checkbox",r.appendChild(i),this.inputElement=i,n.viewProps.bindDisabled(this.inputElement);var o=e.createElement("div");o.classList.add(lr("w")),r.appendChild(o);var a=lt(e,"check");o.appendChild(a),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}return d(t,[{key:"update_",value:function(){this.inputElement.checked=this.value.rawValue}},{key:"onValueChange_",value:function(){this.update_()}}]),t}(),hr=function(){function t(e,n){p(this,t),this.onInputChange_=this.onInputChange_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new cr(e,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}return d(t,[{key:"onInputChange_",value:function(t){var e=_(t.currentTarget);this.value.rawValue=e.checked}}]),t}();function fr(t){var e=[],n=rr(t.options);return n&&e.push(n),new we(e)}var pr={id:"input-bool",type:"input",accept:function(t,e){if("boolean"!==typeof t)return null;var n=K(e,{options:q.optional.custom(Jn)});return n?{initialValue:t,params:n}:null},binding:{reader:function(t){return Fe},constraint:function(t){return fr(t.params)},writer:function(t){return Qn}},controller:function(t){var e,n=t.document,r=t.value,i=t.constraint;return i&&Ee(i,Te)?new Me(n,{props:z.fromObject({options:null!==(e=ir(i))&&void 0!==e?e:[]}),value:r,viewProps:t.viewProps}):new hr(n,{value:r,viewProps:t.viewProps})}},dr=P("col"),vr=d((function t(e,n){p(this,t),this.element=e.createElement("div"),this.element.classList.add(dr()),n.foldable.bindExpandedClass(this.element,dr(void 0,"expanded")),I(n.foldable,"completed",k(this.element,dr(void 0,"cpl")));var r=e.createElement("div");r.classList.add(dr("h")),this.element.appendChild(r);var i=e.createElement("div");i.classList.add(dr("s")),r.appendChild(i),this.swatchElement=i;var o=e.createElement("div");if(o.classList.add(dr("t")),r.appendChild(o),this.textElement=o,"inline"===n.pickerLayout){var a=e.createElement("div");a.classList.add(dr("p")),this.element.appendChild(a),this.pickerElement=a}else this.pickerElement=null}));function mr(t,e,n){var r=Gn(t/255,0,1),i=Gn(e/255,0,1),o=Gn(n/255,0,1),a=Math.max(r,i,o),s=Math.min(r,i,o),u=a-s,l=0,c=0,h=(s+a)/2;return 0!==u&&(c=u/(1-Math.abs(a+s-1)),l=(l=r===a?(i-o)/u:i===a?2+(o-r)/u:4+(r-i)/u)/6+(l<0?1:0)),[360*l,100*c,100*h]}function gr(t,e,n){var r,i,o,a=(t%360+360)%360,s=Gn(e/100,0,1),u=Gn(n/100,0,1),l=(1-Math.abs(2*u-1))*s,c=l*(1-Math.abs(a/60%2-1)),h=u-l/2;return a>=0&&a<60?(r=l,i=c,o=0):a>=60&&a<120?(r=c,i=l,o=0):a>=120&&a<180?(r=0,i=l,o=c):a>=180&&a<240?(r=0,i=c,o=l):a>=240&&a<300?(r=c,i=0,o=l):(r=l,i=0,o=c),[255*(r+h),255*(i+h),255*(o+h)]}function yr(t,e,n){var r=Gn(t/255,0,1),i=Gn(e/255,0,1),o=Gn(n/255,0,1),a=Math.max(r,i,o),s=a-Math.min(r,i,o);return[0===s?0:a===r?((i-o)/s%6+6)%6*60:a===i?60*((o-r)/s+2):60*((r-i)/s+4),100*(0===a?0:s/a),100*a]}function _r(t,e,n){var r,i,o,a=zn(t,360),s=Gn(e/100,0,1),u=Gn(n/100,0,1),l=u*s,c=l*(1-Math.abs(a/60%2-1)),h=u-l;return a>=0&&a<60?(r=l,i=c,o=0):a>=60&&a<120?(r=c,i=l,o=0):a>=120&&a<180?(r=0,i=l,o=c):a>=180&&a<240?(r=0,i=c,o=l):a>=240&&a<300?(r=c,i=0,o=l):(r=l,i=0,o=c),[255*(r+h),255*(i+h),255*(o+h)]}function br(t,e,n){var r=n+e*(100-Math.abs(2*n-100))/200;return[t,0!==r?e*(100-Math.abs(2*n-100))/r:0,n+e*(100-Math.abs(2*n-100))/200]}function xr(t,e,n){var r=100-Math.abs(n*(200-e)/100-100);return[t,0!==r?e*n/r:0,n*(200-e)/200]}function wr(t){return[t[0],t[1],t[2]]}function Er(t,e){return[t[0],t[1],t[2],e]}var Tr={hsl:{hsl:function(t,e,n){return[t,e,n]},hsv:br,rgb:gr},hsv:{hsl:xr,hsv:function(t,e,n){return[t,e,n]},rgb:_r},rgb:{hsl:mr,hsv:yr,rgb:function(t,e,n){return[t,e,n]}}};function Sr(t,e,n){var r;return(r=Tr[e])[n].apply(r,u(t))}var Ar={hsl:function(t){var e;return[zn(t[0],360),Gn(t[1],0,100),Gn(t[2],0,100),Gn(null!==(e=t[3])&&void 0!==e?e:1,0,1)]},hsv:function(t){var e;return[zn(t[0],360),Gn(t[1],0,100),Gn(t[2],0,100),Gn(null!==(e=t[3])&&void 0!==e?e:1,0,1)]},rgb:function(t){var e;return[Gn(t[0],0,255),Gn(t[1],0,255),Gn(t[2],0,255),Gn(null!==(e=t[3])&&void 0!==e?e:1,0,1)]}};function Or(t,e){return"object"===typeof t&&!b(t)&&e in t&&"number"===typeof t[e]}var Pr=function(){function t(e,n){p(this,t),this.mode_=n,this.comps_=Ar[n](e)}return d(t,[{key:"mode",get:function(){return this.mode_}},{key:"getComponents",value:function(t){return Er(Sr(wr(this.comps_),this.mode_,t||this.mode_),this.comps_[3])}},{key:"toRgbaObject",value:function(){var t=this.getComponents("rgb");return{r:t[0],g:t[1],b:t[2],a:t[3]}}}],[{key:"black",value:function(){return new t([0,0,0],"rgb")}},{key:"fromObject",value:function(e){return new t("a"in e?[e.r,e.g,e.b,e.a]:[e.r,e.g,e.b],"rgb")}},{key:"toRgbaObject",value:function(t){return t.toRgbaObject()}},{key:"isRgbColorObject",value:function(t){return Or(t,"r")&&Or(t,"g")&&Or(t,"b")}},{key:"isRgbaColorObject",value:function(t){return this.isRgbColorObject(t)&&Or(t,"a")}},{key:"isColorObject",value:function(t){return this.isRgbColorObject(t)}},{key:"equals",value:function(t,e){if(t.mode_!==e.mode_)return!1;for(var n=t.comps_,r=e.comps_,i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}}]),t}(),Mr=P("colp"),Cr=function(){function t(e,n){p(this,t),this.alphaViews_=null,this.element=e.createElement("div"),this.element.classList.add(Mr());var r=e.createElement("div");r.classList.add(Mr("hsv"));var i=e.createElement("div");i.classList.add(Mr("sv")),this.svPaletteView_=n.svPaletteView,i.appendChild(this.svPaletteView_.element),r.appendChild(i);var o=e.createElement("div");o.classList.add(Mr("h")),this.hPaletteView_=n.hPaletteView,o.appendChild(this.hPaletteView_.element),r.appendChild(o),this.element.appendChild(r);var a=e.createElement("div");if(a.classList.add(Mr("rgb")),this.textView_=n.textView,a.appendChild(this.textView_.element),this.element.appendChild(a),n.alphaViews){this.alphaViews_={palette:n.alphaViews.palette,text:n.alphaViews.text};var s=e.createElement("div");s.classList.add(Mr("a"));var u=e.createElement("div");u.classList.add(Mr("ap")),u.appendChild(this.alphaViews_.palette.element),s.appendChild(u);var l=e.createElement("div");l.classList.add(Mr("at")),l.appendChild(this.alphaViews_.text.element),s.appendChild(l),this.element.appendChild(s)}}return d(t,[{key:"allFocusableElements",get:function(){var t=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement].concat(u(this.textView_.textViews.map((function(t){return t.inputElement}))));return this.alphaViews_&&t.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),t}}]),t}();function Rr(t){var e=q;return K(t,{alpha:e.optional.boolean,expanded:e.optional.boolean,picker:e.optional.custom(tr)})}function Ir(t){return t?.1:1}function Nr(t,e){var n=t.match(/^(.+)%$/);return n?Math.min(.01*parseFloat(n[1])*e,e):Math.min(parseFloat(t),e)}var kr={deg:function(t){return t},grad:function(t){return 360*t/400},rad:function(t){return 360*t/(2*Math.PI)},turn:function(t){return 360*t}};function Dr(t){var e=t.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(t);var n=parseFloat(e[1]),r=e[2];return kr[r](n)}var Lr={"func.rgb":function(t){var e=t.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;var n=[Nr(e[1],255),Nr(e[2],255),Nr(e[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:new Pr(n,"rgb")},"func.rgba":function(t){var e=t.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;var n=[Nr(e[1],255),Nr(e[2],255),Nr(e[3],255),Nr(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:new Pr(n,"rgb")},"func.hsl":function(t){var e=t.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;var n=[Dr(e[1]),Nr(e[2],100),Nr(e[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:new Pr(n,"hsl")},"func.hsla":function(t){var e=t.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;var n=[Dr(e[1]),Nr(e[2],100),Nr(e[3],100),Nr(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:new Pr(n,"hsl")},"hex.rgb":function(t){var e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return new Pr([parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)],"rgb");var n=t.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?new Pr([parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)],"rgb"):null},"hex.rgba":function(t){var e=t.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return new Pr([parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),jn(parseInt(e[4]+e[4],16),0,255,0,1)],"rgb");var n=t.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?new Pr([parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),jn(parseInt(n[4],16),0,255,0,1)],"rgb"):null}};function Fr(t){return Object.keys(Lr).reduce((function(e,n){return e||((0,Lr[n])(t)?n:null)}),null)}var Ur=function(t){var e=Fr(t);return e?Lr[e](t):null};function jr(t){return"func.hsla"===t||"func.rgba"===t||"hex.rgba"===t}function Br(t){if("string"===typeof t){var e=Ur(t);if(e)return e}return Pr.black()}function Gr(t){var e=Gn(Math.floor(t),0,255).toString(16);return 1===e.length?"0".concat(e):e}function zr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=wr(t.getComponents("rgb")).map(Gr).join("");return"".concat(e).concat(n)}function Vr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=t.getComponents("rgb"),r=[n[0],n[1],n[2],255*n[3]].map(Gr).join("");return"".concat(e).concat(r)}function Xr(t){var e=wn(0),n=wr(t.getComponents("rgb")).map((function(t){return e(t)}));return"rgb(".concat(n.join(", "),")")}function Hr(t){var e=wn(2),n=wn(0),r=t.getComponents("rgb").map((function(t,r){return(3===r?e:n)(t)}));return"rgba(".concat(r.join(", "),")")}function Yr(t){var e=[wn(0),Tn,Tn],n=wr(t.getComponents("hsl")).map((function(t,n){return e[n](t)}));return"hsl(".concat(n.join(", "),")")}function Wr(t){var e=[wn(0),Tn,Tn,wn(2)],n=t.getComponents("hsl").map((function(t,n){return e[n](t)}));return"hsla(".concat(n.join(", "),")")}var qr={"func.hsl":Yr,"func.hsla":Wr,"func.rgb":Xr,"func.rgba":Hr,"hex.rgb":zr,"hex.rgba":Vr};function Kr(t){return qr[t]}var Zr=P("apl"),$r=function(){function t(e,n){p(this,t),this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(Zr()),n.viewProps.bindTabIndex(this.element);var r=e.createElement("div");r.classList.add(Zr("b")),this.element.appendChild(r);var i=e.createElement("div");i.classList.add(Zr("c")),r.appendChild(i),this.colorElem_=i;var o=e.createElement("div");o.classList.add(Zr("m")),this.element.appendChild(o),this.markerElem_=o;var a=e.createElement("div");a.classList.add(Zr("p")),this.markerElem_.appendChild(a),this.previewElem_=a,this.update_()}return d(t,[{key:"update_",value:function(){var t=this.value.rawValue,e=t.getComponents("rgb"),n=new Pr([e[0],e[1],e[2],0],"rgb"),r=new Pr([e[0],e[1],e[2],255],"rgb"),i=["to right",Hr(n),Hr(r)];this.colorElem_.style.background="linear-gradient(".concat(i.join(","),")"),this.previewElem_.style.backgroundColor=Hr(t);var o=jn(e[3],0,1,0,100);this.markerElem_.style.left="".concat(o,"%")}},{key:"onValueChange_",value:function(){this.update_()}}]),t}(),Qr=function(){function t(e,n){p(this,t),this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new $r(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Un(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}return d(t,[{key:"handlePointerEvent_",value:function(t,e){if(t.point){var n=t.point.x/t.bounds.width,r=this.value.rawValue.getComponents("hsv"),i=f(r,3),o=i[0],a=i[1],s=i[2];this.value.setRawValue(new Pr([o,a,s,n],"hsv"),e)}}},{key:"onPointerDown_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerMove_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerUp_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}},{key:"onKeyDown_",value:function(t){var e=In(Ir(!0),kn(t));if(0!==e){var n=this.value.rawValue.getComponents("hsv"),r=f(n,4),i=r[0],o=r[1],a=r[2],s=r[3];this.value.setRawValue(new Pr([i,o,a,s+e],"hsv"),{forceEmit:!1,last:!1})}}},{key:"onKeyUp_",value:function(t){0!==In(Ir(!0),kn(t))&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}]),t}(),Jr=P("coltxt");function ti(t){var e=t.createElement("select"),n=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return e.appendChild(n.reduce((function(e,n){var r=t.createElement("option");return r.textContent=n.text,r.value=n.value,e.appendChild(r),e}),t.createDocumentFragment())),e}var ei=function(){function t(e,n){var r=this;p(this,t),this.element=e.createElement("div"),this.element.classList.add(Jr());var i=e.createElement("div");i.classList.add(Jr("m")),this.modeElem_=ti(e),this.modeElem_.classList.add(Jr("ms")),i.appendChild(this.modeSelectElement);var o=e.createElement("div");o.classList.add(Jr("mm")),o.appendChild(lt(e,"dropdown")),i.appendChild(o),this.element.appendChild(i);var a=e.createElement("div");a.classList.add(Jr("w")),this.element.appendChild(a),this.textsElem_=a,this.textViews_=n.textViews,this.applyTextViews_(),R(n.colorMode,(function(t){r.modeElem_.value=t}))}return d(t,[{key:"modeSelectElement",get:function(){return this.modeElem_}},{key:"textViews",get:function(){return this.textViews_},set:function(t){this.textViews_=t,this.applyTextViews_()}},{key:"applyTextViews_",value:function(){var t=this;ft(this.textsElem_);var e=this.element.ownerDocument;this.textViews_.forEach((function(n){var r=e.createElement("div");r.classList.add(Jr("c")),r.appendChild(n.element),t.textsElem_.appendChild(r)}))}}]),t}(),ni=wn(0),ri={rgb:function(){return new Se({min:0,max:255})},hsl:function(t){return new Se(0===t?{min:0,max:360}:{min:0,max:100})},hsv:function(t){return new Se(0===t?{min:0,max:360}:{min:0,max:100})}};function ii(t,e,n){return new Hn(t,{arrayPosition:0===n?"fst":2===n?"lst":"mid",baseStep:Ir(!1),parser:e.parser,props:z.fromObject({draggingScale:1,formatter:ni}),value:G(0,{constraint:ri[e.colorMode](n)}),viewProps:e.viewProps})}var oi=function(){function t(e,n){p(this,t),this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.parser_=n.parser,this.value=n.value,this.viewProps=n.viewProps,this.colorMode=G(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(e),this.view=new ei(e,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}return d(t,[{key:"createComponentControllers_",value:function(t){var e=this,n={colorMode:this.colorMode.rawValue,parser:this.parser_,viewProps:this.viewProps},r=[ii(t,n,0),ii(t,n,1),ii(t,n,2)];return r.forEach((function(t,n){Rn({primary:e.value,secondary:t.value,forward:function(t){return t.rawValue.getComponents(e.colorMode.rawValue)[n]},backward:function(t,r){var i=e.colorMode.rawValue,o=t.rawValue.getComponents(i);return o[n]=r.rawValue,new Pr(Er(wr(o),o[3]),i)}})})),r}},{key:"onModeSelectChange_",value:function(t){var e=t.currentTarget;this.colorMode.rawValue=e.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}]),t}(),ai=P("hpl"),si=function(){function t(e,n){p(this,t),this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(ai()),n.viewProps.bindTabIndex(this.element);var r=e.createElement("div");r.classList.add(ai("c")),this.element.appendChild(r);var i=e.createElement("div");i.classList.add(ai("m")),this.element.appendChild(i),this.markerElem_=i,this.update_()}return d(t,[{key:"update_",value:function(){var t=this.value.rawValue.getComponents("hsv"),e=f(t,1)[0];this.markerElem_.style.backgroundColor=Xr(new Pr([e,100,100],"hsv"));var n=jn(e,0,360,0,100);this.markerElem_.style.left="".concat(n,"%")}},{key:"onValueChange_",value:function(){this.update_()}}]),t}(),ui=function(){function t(e,n){p(this,t),this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new si(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Un(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}return d(t,[{key:"handlePointerEvent_",value:function(t,e){if(t.point){var n=jn(t.point.x,0,t.bounds.width,0,360),r=this.value.rawValue.getComponents("hsv"),i=f(r,4),o=i[1],a=i[2],s=i[3];this.value.setRawValue(new Pr([n,o,a,s],"hsv"),e)}}},{key:"onPointerDown_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerMove_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerUp_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}},{key:"onKeyDown_",value:function(t){var e=In(Ir(!1),kn(t));if(0!==e){var n=this.value.rawValue.getComponents("hsv"),r=f(n,4),i=r[0],o=r[1],a=r[2],s=r[3];this.value.setRawValue(new Pr([i+e,o,a,s],"hsv"),{forceEmit:!1,last:!1})}}},{key:"onKeyUp_",value:function(t){0!==In(Ir(!1),kn(t))&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}]),t}(),li=P("svp"),ci=64,hi=function(){function t(e,n){p(this,t),this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(li()),n.viewProps.bindTabIndex(this.element);var r=e.createElement("canvas");r.height=ci,r.width=ci,r.classList.add(li("c")),this.element.appendChild(r),this.canvasElement=r;var i=e.createElement("div");i.classList.add(li("m")),this.element.appendChild(i),this.markerElem_=i,this.update_()}return d(t,[{key:"update_",value:function(){var t=st(this.canvasElement);if(t){for(var e=this.value.rawValue.getComponents("hsv"),n=this.canvasElement.width,r=this.canvasElement.height,i=t.getImageData(0,0,n,r),o=i.data,a=0;a<r;a++)for(var s=0;s<n;s++){var u=jn(s,0,n,0,100),l=jn(a,0,r,100,0),c=_r(e[0],u,l),h=4*(a*n+s);o[h]=c[0],o[h+1]=c[1],o[h+2]=c[2],o[h+3]=255}t.putImageData(i,0,0);var f=jn(e[1],0,100,0,100);this.markerElem_.style.left="".concat(f,"%");var p=jn(e[2],0,100,100,0);this.markerElem_.style.top="".concat(p,"%")}}},{key:"onValueChange_",value:function(){this.update_()}}]),t}(),fi=function(){function t(e,n){p(this,t),this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new hi(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Un(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}return d(t,[{key:"handlePointerEvent_",value:function(t,e){if(t.point){var n=jn(t.point.x,0,t.bounds.width,0,100),r=jn(t.point.y,0,t.bounds.height,100,0),i=this.value.rawValue.getComponents("hsv"),o=f(i,4),a=o[0],s=o[3];this.value.setRawValue(new Pr([a,n,r,s],"hsv"),e)}}},{key:"onPointerDown_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerMove_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerUp_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}},{key:"onKeyDown_",value:function(t){Ln(t.key)&&t.preventDefault();var e=this.value.rawValue.getComponents("hsv"),n=f(e,4),r=n[0],i=n[1],o=n[2],a=n[3],s=Ir(!1),u=In(s,kn(t)),l=In(s,Nn(t));0===u&&0===l||this.value.setRawValue(new Pr([r,i+u,o+l,a],"hsv"),{forceEmit:!1,last:!1})}},{key:"onKeyUp_",value:function(t){var e=Ir(!1),n=In(e,kn(t)),r=In(e,Nn(t));0===n&&0===r||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}]),t}(),pi=function(){function t(e,n){p(this,t),this.value=n.value,this.viewProps=n.viewProps,this.hPaletteC_=new ui(e,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new fi(e,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=n.supportsAlpha?{palette:new Qr(e,{value:this.value,viewProps:this.viewProps}),text:new Hn(e,{parser:_n,baseStep:.1,props:z.fromObject({draggingScale:.01,formatter:wn(2)}),value:G(0,{constraint:new Se({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&Rn({primary:this.value,secondary:this.alphaIcs_.text.value,forward:function(t){return t.rawValue.getComponents()[3]},backward:function(t,e){var n=t.rawValue.getComponents();return n[3]=e.rawValue,new Pr(n,t.rawValue.mode)}}),this.textC_=new oi(e,{parser:_n,value:this.value,viewProps:this.viewProps}),this.view=new Cr(e,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:n.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view})}return d(t,[{key:"textController",get:function(){return this.textC_}}]),t}(),di=P("colsw"),vi=function(){function t(e,n){p(this,t),this.onValueChange_=this.onValueChange_.bind(this),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.element=e.createElement("div"),this.element.classList.add(di()),n.viewProps.bindClassModifiers(this.element);var r=e.createElement("div");r.classList.add(di("sw")),this.element.appendChild(r),this.swatchElem_=r;var i=e.createElement("button");i.classList.add(di("b")),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i,this.update_()}return d(t,[{key:"update_",value:function(){var t=this.value.rawValue;this.swatchElem_.style.backgroundColor=Vr(t)}},{key:"onValueChange_",value:function(){this.update_()}}]),t}(),mi=d((function t(e,n){p(this,t),this.value=n.value,this.viewProps=n.viewProps,this.view=new vi(e,{value:this.value,viewProps:this.viewProps})})),gi=function(){function t(e,n){var r=this;p(this,t),this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=wt.create(n.expanded),this.swatchC_=new mi(e,{value:this.value,viewProps:this.viewProps});var i=this.swatchC_.view.buttonElement;i.addEventListener("blur",this.onButtonBlur_),i.addEventListener("click",this.onButtonClick_),this.textC_=new De(e,{parser:n.parser,props:z.fromObject({formatter:n.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new vr(e,{foldable:this.foldable_,pickerLayout:n.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_="popup"===n.pickerLayout?new Ie(e,{viewProps:this.viewProps}):null;var o=new pi(e,{supportsAlpha:n.supportsAlpha,value:this.value,viewProps:this.viewProps});o.view.allFocusableElements.forEach((function(t){t.addEventListener("blur",r.onPopupChildBlur_),t.addEventListener("keydown",r.onPopupChildKeydown_)})),this.pickerC_=o,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(o.view.element),Rn({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:function(t){return t.rawValue},backward:function(t,e){return e.rawValue}})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),St(this.foldable_,this.view.pickerElement))}return d(t,[{key:"textController",get:function(){return this.textC_}},{key:"onButtonBlur_",value:function(t){if(this.popC_){var e=this.view.element,n=_(t.relatedTarget);n&&e.contains(n)||(this.popC_.shows.rawValue=!1)}}},{key:"onButtonClick_",value:function(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}},{key:"onPopupChildBlur_",value:function(t){if(this.popC_){var e=this.popC_.view.element,n=dt(t);n&&e.contains(n)||n&&n===this.swatchC_.view.buttonElement&&!it(e.ownerDocument)||(this.popC_.shows.rawValue=!1)}}},{key:"onPopupChildKeydown_",value:function(t){this.popC_?"Escape"===t.key&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&"Escape"===t.key&&this.swatchC_.view.buttonElement.focus()}}]),t}();function yi(t){return Pr.isColorObject(t)?Pr.fromObject(t):Pr.black()}function _i(t){return wr(t.getComponents("rgb")).reduce((function(t,e){return t<<8|255&Math.floor(e)}),0)}function bi(t){return t.getComponents("rgb").reduce((function(t,e,n){return t<<8|255&Math.floor(3===n?255*e:e)}),0)>>>0}function xi(t){return new Pr([t>>16&255,t>>8&255,255&t],"rgb")}function wi(t){return new Pr([t>>24&255,t>>16&255,t>>8&255,jn(255&t,0,255,0,1)],"rgb")}function Ei(t){return"number"!==typeof t?Pr.black():xi(t)}function Ti(t){return"number"!==typeof t?Pr.black():wi(t)}function Si(t){var e=Kr(t);return function(t,n){Qn(t,e(n))}}function Ai(t){var e=t?bi:_i;return function(t,n){Qn(t,e(n))}}function Oi(t,e){var n=e.toRgbaObject();t.writeProperty("r",n.r),t.writeProperty("g",n.g),t.writeProperty("b",n.b),t.writeProperty("a",n.a)}function Pi(t,e){var n=e.toRgbaObject();t.writeProperty("r",n.r),t.writeProperty("g",n.g),t.writeProperty("b",n.b)}function Mi(t){return t?Oi:Pi}function Ci(t){return"alpha"in t&&!0===t.alpha}function Ri(t){return t?function(t){return Vr(t,"0x")}:function(t){return zr(t,"0x")}}var Ii={id:"input-color-number",type:"input",accept:function(t,e){if("number"!==typeof t)return null;if(!("view"in e))return null;if("color"!==e.view)return null;var n=Rr(e);return n?{initialValue:t,params:n}:null},binding:{reader:function(t){return Ci(t.params)?Ti:Ei},equals:Pr.equals,writer:function(t){return Ai(Ci(t.params))}},controller:function(t){var e=Ci(t.params),n="expanded"in t.params?t.params.expanded:void 0,r="picker"in t.params?t.params.picker:void 0;return new gi(t.document,{expanded:null!==n&&void 0!==n&&n,formatter:Ri(e),parser:Ur,pickerLayout:null!==r&&void 0!==r?r:"popup",supportsAlpha:e,value:t.value,viewProps:t.viewProps})}};function Ni(t){return Pr.isRgbaColorObject(t)}var ki={id:"input-color-object",type:"input",accept:function(t,e){if(!Pr.isColorObject(t))return null;var n=Rr(e);return n?{initialValue:t,params:n}:null},binding:{reader:function(t){return yi},equals:Pr.equals,writer:function(t){return Mi(Ni(t.initialValue))}},controller:function(t){var e=Pr.isRgbaColorObject(t.initialValue),n="expanded"in t.params?t.params.expanded:void 0,r="picker"in t.params?t.params.picker:void 0,i=e?Vr:zr;return new gi(t.document,{expanded:null!==n&&void 0!==n&&n,formatter:i,parser:Ur,pickerLayout:null!==r&&void 0!==r?r:"popup",supportsAlpha:e,value:t.value,viewProps:t.viewProps})}},Di={id:"input-color-string",type:"input",accept:function(t,e){if("string"!==typeof t)return null;if("view"in e&&"text"===e.view)return null;if(!Fr(t))return null;var n=Rr(e);return n?{initialValue:t,params:n}:null},binding:{reader:function(t){return Br},equals:Pr.equals,writer:function(t){var e=Fr(t.initialValue);if(!e)throw E.shouldNeverHappen();return Si(e)}},controller:function(t){var e=Fr(t.initialValue);if(!e)throw E.shouldNeverHappen();var n=Kr(e),r="expanded"in t.params?t.params.expanded:void 0,i="picker"in t.params?t.params.picker:void 0;return new gi(t.document,{expanded:null!==r&&void 0!==r&&r,formatter:n,parser:Ur,pickerLayout:null!==i&&void 0!==i?i:"popup",supportsAlpha:jr(e),value:t.value,viewProps:t.viewProps})}},Li=function(){function t(e){p(this,t),this.components=e.components,this.asm_=e.assembly}return d(t,[{key:"constrain",value:function(t){var e=this,n=this.asm_.toComponents(t).map((function(t,n){var r,i;return null!==(i=null===(r=e.components[n])||void 0===r?void 0:r.constrain(t))&&void 0!==i?i:t}));return this.asm_.fromComponents(n)}}]),t}(),Fi=P("pndtxt"),Ui=d((function t(e,n){var r=this;p(this,t),this.textViews=n.textViews,this.element=e.createElement("div"),this.element.classList.add(Fi()),this.textViews.forEach((function(t){var n=e.createElement("div");n.classList.add(Fi("a")),n.appendChild(t.element),r.element.appendChild(n)}))}));function ji(t,e,n){return new Hn(t,{arrayPosition:0===n?"fst":n===e.axes.length-1?"lst":"mid",baseStep:e.axes[n].baseStep,parser:e.parser,props:e.axes[n].textProps,value:G(0,{constraint:e.axes[n].constraint}),viewProps:e.viewProps})}var Bi=d((function t(e,n){var r=this;p(this,t),this.value=n.value,this.viewProps=n.viewProps,this.acs_=n.axes.map((function(t,r){return ji(e,n,r)})),this.acs_.forEach((function(t,e){Rn({primary:r.value,secondary:t.value,forward:function(t){return n.assembly.toComponents(t.rawValue)[e]},backward:function(t,r){var i=n.assembly.toComponents(t.rawValue);return i[e]=r.rawValue,n.assembly.fromComponents(i)}})})),this.view=new Ui(e,{textViews:this.acs_.map((function(t){return t.view}))})}));function Gi(t){return"step"in t&&!b(t.step)?new Ae(t.step):null}function zi(t){return"max"in t&&!b(t.max)||"min"in t&&!b(t.min)?new Se({max:t.max,min:t.min}):null}function Vi(t){var e=[],n=Gi(t);n&&e.push(n);var r=zi(t);r&&e.push(r);var i=rr(t.options);return i&&e.push(i),new we(e)}function Xi(t){var e=t?Ee(t,Se):null;return e?[e.minValue,e.maxValue]:[void 0,void 0]}function Hi(t){var e=Xi(t),n=f(e,2),r=n[0],i=n[1];return[null!==r&&void 0!==r?r:0,null!==i&&void 0!==i?i:100]}var Yi={id:"input-number",type:"input",accept:function(t,e){if("number"!==typeof t)return null;var n=q,r=K(e,{format:n.optional.function,max:n.optional.number,min:n.optional.number,options:n.optional.custom(Jn),step:n.optional.number});return r?{initialValue:t,params:r}:null},binding:{reader:function(t){return bn},constraint:function(t){return Vi(t.params)},writer:function(t){return Qn}},controller:function(t){var e,n,r=t.value,i=t.constraint;if(i&&Ee(i,Te))return new Me(t.document,{props:z.fromObject({options:null!==(e=ir(i))&&void 0!==e?e:[]}),value:r,viewProps:t.viewProps});var o=null!==(n="format"in t.params?t.params.format:void 0)&&void 0!==n?n:wn(ar(i,r.rawValue));if(i&&Ee(i,Se)){var a=Hi(i),s=f(a,2),u=s[0],l=s[1];return new $n(t.document,{baseStep:sr(i),parser:_n,sliderProps:z.fromObject({maxValue:l,minValue:u}),textProps:z.fromObject({draggingScale:ur(i,r.rawValue),formatter:o}),value:r,viewProps:t.viewProps})}return new Hn(t.document,{baseStep:sr(i),parser:_n,props:z.fromObject({draggingScale:ur(i,r.rawValue),formatter:o}),value:r,viewProps:t.viewProps})}},Wi=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p(this,t),this.x=e,this.y=n}return d(t,[{key:"getComponents",value:function(){return[this.x,this.y]}},{key:"toObject",value:function(){return{x:this.x,y:this.y}}}],[{key:"isObject",value:function(t){if(b(t))return!1;var e=t.x,n=t.y;return"number"===typeof e&&"number"===typeof n}},{key:"equals",value:function(t,e){return t.x===e.x&&t.y===e.y}}]),t}(),qi={toComponents:function(t){return t.getComponents()},fromComponents:function(t){return o(Wi,u(t))}},Ki=P("p2d"),Zi=d((function t(e,n){p(this,t),this.element=e.createElement("div"),this.element.classList.add(Ki()),n.viewProps.bindClassModifiers(this.element),R(n.expanded,k(this.element,Ki(void 0,"expanded")));var r=e.createElement("div");r.classList.add(Ki("h")),this.element.appendChild(r);var i=e.createElement("button");i.classList.add(Ki("b")),i.appendChild(lt(e,"p2dpad")),n.viewProps.bindDisabled(i),r.appendChild(i),this.buttonElement=i;var o=e.createElement("div");if(o.classList.add(Ki("t")),r.appendChild(o),this.textElement=o,"inline"===n.pickerLayout){var a=e.createElement("div");a.classList.add(Ki("p")),this.element.appendChild(a),this.pickerElement=a}else this.pickerElement=null})),$i=P("p2dp"),Qi=function(){function t(e,n){p(this,t),this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=n.invertsY,this.maxValue_=n.maxValue,this.element=e.createElement("div"),this.element.classList.add($i()),"popup"===n.layout&&this.element.classList.add($i(void 0,"p"));var r=e.createElement("div");r.classList.add($i("p")),n.viewProps.bindTabIndex(r),this.element.appendChild(r),this.padElement=r;var i=e.createElementNS(et,"svg");i.classList.add($i("g")),this.padElement.appendChild(i),this.svgElem_=i;var o=e.createElementNS(et,"line");o.classList.add($i("ax")),o.setAttributeNS(null,"x1","0"),o.setAttributeNS(null,"y1","50%"),o.setAttributeNS(null,"x2","100%"),o.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(o);var a=e.createElementNS(et,"line");a.classList.add($i("ax")),a.setAttributeNS(null,"x1","50%"),a.setAttributeNS(null,"y1","0"),a.setAttributeNS(null,"x2","50%"),a.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(a);var s=e.createElementNS(et,"line");s.classList.add($i("l")),s.setAttributeNS(null,"x1","50%"),s.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(s),this.lineElem_=s;var u=e.createElement("div");u.classList.add($i("m")),this.padElement.appendChild(u),this.markerElem_=u,n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}return d(t,[{key:"allFocusableElements",get:function(){return[this.padElement]}},{key:"update_",value:function(){var t=this.value.rawValue.getComponents(),e=f(t,2),n=e[0],r=e[1],i=this.maxValue_,o=jn(n,-i,+i,0,100),a=jn(r,-i,+i,0,100),s=this.invertsY_?100-a:a;this.lineElem_.setAttributeNS(null,"x2","".concat(o,"%")),this.lineElem_.setAttributeNS(null,"y2","".concat(s,"%")),this.markerElem_.style.left="".concat(o,"%"),this.markerElem_.style.top="".concat(s,"%")}},{key:"onValueChange_",value:function(){this.update_()}},{key:"onFoldableChange_",value:function(){this.update_()}}]),t}();function Ji(t,e,n){return[In(e[0],kn(t)),In(e[1],Nn(t))*(n?1:-1)]}var to=function(){function t(e,n){p(this,t),this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.baseSteps_=n.baseSteps,this.maxValue_=n.maxValue,this.invertsY_=n.invertsY,this.view=new Qi(e,{invertsY:this.invertsY_,layout:n.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Un(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}return d(t,[{key:"handlePointerEvent_",value:function(t,e){if(t.point){var n=this.maxValue_,r=jn(t.point.x,0,t.bounds.width,-n,+n),i=jn(this.invertsY_?t.bounds.height-t.point.y:t.point.y,0,t.bounds.height,-n,+n);this.value.setRawValue(new Wi(r,i),e)}}},{key:"onPointerDown_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerMove_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}},{key:"onPointerUp_",value:function(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}},{key:"onPadKeyDown_",value:function(t){Ln(t.key)&&t.preventDefault();var e=Ji(t,this.baseSteps_,this.invertsY_),n=f(e,2),r=n[0],i=n[1];0===r&&0===i||this.value.setRawValue(new Wi(this.value.rawValue.x+r,this.value.rawValue.y+i),{forceEmit:!1,last:!1})}},{key:"onPadKeyUp_",value:function(t){var e=Ji(t,this.baseSteps_,this.invertsY_),n=f(e,2),r=n[0],i=n[1];0===r&&0===i||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}]),t}(),eo=function(){function t(e,n){var r,i,o=this;p(this,t),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=wt.create(n.expanded),this.popC_="popup"===n.pickerLayout?new Ie(e,{viewProps:this.viewProps}):null;var a=new to(e,{baseSteps:[n.axes[0].baseStep,n.axes[1].baseStep],invertsY:n.invertsY,layout:n.pickerLayout,maxValue:n.maxValue,value:this.value,viewProps:this.viewProps});a.view.allFocusableElements.forEach((function(t){t.addEventListener("blur",o.onPopupChildBlur_),t.addEventListener("keydown",o.onPopupChildKeydown_)})),this.pickerC_=a,this.textC_=new Bi(e,{assembly:qi,axes:n.axes,parser:n.parser,value:this.value,viewProps:this.viewProps}),this.view=new Zi(e,{expanded:this.foldable_.value("expanded"),pickerLayout:n.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),null===(r=this.view.buttonElement)||void 0===r||r.addEventListener("blur",this.onPadButtonBlur_),null===(i=this.view.buttonElement)||void 0===i||i.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),Rn({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:function(t){return t.rawValue},backward:function(t,e){return e.rawValue}})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),St(this.foldable_,this.view.pickerElement))}return d(t,[{key:"onPadButtonBlur_",value:function(t){if(this.popC_){var e=this.view.element,n=_(t.relatedTarget);n&&e.contains(n)||(this.popC_.shows.rawValue=!1)}}},{key:"onPadButtonClick_",value:function(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}},{key:"onPopupChildBlur_",value:function(t){if(this.popC_){var e=this.popC_.view.element,n=dt(t);n&&e.contains(n)||n&&n===this.view.buttonElement&&!it(e.ownerDocument)||(this.popC_.shows.rawValue=!1)}}},{key:"onPopupChildKeydown_",value:function(t){this.popC_?"Escape"===t.key&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&"Escape"===t.key&&this.view.buttonElement.focus()}}]),t}();function no(t){return Wi.isObject(t)?new Wi(t.x,t.y):new Wi}function ro(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y)}function io(t){if(t){var e=[];return b(t.step)||e.push(new Ae(t.step)),b(t.max)&&b(t.min)||e.push(new Se({max:t.max,min:t.min})),new we(e)}}function oo(t){return new Li({assembly:qi,components:[io("x"in t?t.x:void 0),io("y"in t?t.y:void 0)]})}function ao(t,e){var n=t&&Ee(t,Se);if(n)return Math.max(Math.abs(n.minValue||0),Math.abs(n.maxValue||0));var r=sr(t);return Math.max(10*Math.abs(r),10*Math.abs(e))}function so(t,e){var n=e instanceof Li?e.components[0]:void 0,r=e instanceof Li?e.components[1]:void 0,i=ao(n,t.x),o=ao(r,t.y);return Math.max(i,o)}function uo(t,e){return{baseStep:sr(e),constraint:e,textProps:z.fromObject({draggingScale:ur(e,t),formatter:wn(ar(e,t))})}}function lo(t){if(!("y"in t))return!1;var e=t.y;return!!e&&"inverted"in e&&!!e.inverted}var co={id:"input-point2d",type:"input",accept:function(t,e){if(!Wi.isObject(t))return null;var n=q,r=K(e,{expanded:n.optional.boolean,picker:n.optional.custom(tr),x:n.optional.custom(er),y:n.optional.object({inverted:n.optional.boolean,max:n.optional.number,min:n.optional.number,step:n.optional.number})});return r?{initialValue:t,params:r}:null},binding:{reader:function(t){return no},constraint:function(t){return oo(t.params)},equals:Wi.equals,writer:function(t){return ro}},controller:function(t){var e=t.document,n=t.value,r=t.constraint;if(!(r instanceof Li))throw E.shouldNeverHappen();var i="expanded"in t.params?t.params.expanded:void 0,o="picker"in t.params?t.params.picker:void 0;return new eo(e,{axes:[uo(n.rawValue.x,r.components[0]),uo(n.rawValue.y,r.components[1])],expanded:null!==i&&void 0!==i&&i,invertsY:lo(t.params),maxValue:so(n.rawValue,r),parser:_n,pickerLayout:null!==o&&void 0!==o?o:"popup",value:n,viewProps:t.viewProps})}},ho=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;p(this,t),this.x=e,this.y=n,this.z=r}return d(t,[{key:"getComponents",value:function(){return[this.x,this.y,this.z]}},{key:"toObject",value:function(){return{x:this.x,y:this.y,z:this.z}}}],[{key:"isObject",value:function(t){if(b(t))return!1;var e=t.x,n=t.y,r=t.z;return"number"===typeof e&&"number"===typeof n&&"number"===typeof r}},{key:"equals",value:function(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z}}]),t}(),fo={toComponents:function(t){return t.getComponents()},fromComponents:function(t){return o(ho,u(t))}};function po(t){return ho.isObject(t)?new ho(t.x,t.y,t.z):new ho}function vo(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z)}function mo(t){if(t){var e=[];return b(t.step)||e.push(new Ae(t.step)),b(t.max)&&b(t.min)||e.push(new Se({max:t.max,min:t.min})),new we(e)}}function go(t){return new Li({assembly:fo,components:[mo("x"in t?t.x:void 0),mo("y"in t?t.y:void 0),mo("z"in t?t.z:void 0)]})}function yo(t,e){return{baseStep:sr(e),constraint:e,textProps:z.fromObject({draggingScale:ur(e,t),formatter:wn(ar(e,t))})}}var _o={id:"input-point3d",type:"input",accept:function(t,e){if(!ho.isObject(t))return null;var n=q,r=K(e,{x:n.optional.custom(er),y:n.optional.custom(er),z:n.optional.custom(er)});return r?{initialValue:t,params:r}:null},binding:{reader:function(t){return po},constraint:function(t){return go(t.params)},equals:ho.equals,writer:function(t){return vo}},controller:function(t){var e=t.value,n=t.constraint;if(!(n instanceof Li))throw E.shouldNeverHappen();return new Bi(t.document,{assembly:fo,axes:[yo(e.rawValue.x,n.components[0]),yo(e.rawValue.y,n.components[1]),yo(e.rawValue.z,n.components[2])],parser:_n,value:e,viewProps:t.viewProps})}},bo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;p(this,t),this.x=e,this.y=n,this.z=r,this.w=i}return d(t,[{key:"getComponents",value:function(){return[this.x,this.y,this.z,this.w]}},{key:"toObject",value:function(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}],[{key:"isObject",value:function(t){if(b(t))return!1;var e=t.x,n=t.y,r=t.z,i=t.w;return"number"===typeof e&&"number"===typeof n&&"number"===typeof r&&"number"===typeof i}},{key:"equals",value:function(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z&&t.w===e.w}}]),t}(),xo={toComponents:function(t){return t.getComponents()},fromComponents:function(t){return o(bo,u(t))}};function wo(t){return bo.isObject(t)?new bo(t.x,t.y,t.z,t.w):new bo}function Eo(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z),t.writeProperty("w",e.w)}function To(t){if(t){var e=[];return b(t.step)||e.push(new Ae(t.step)),b(t.max)&&b(t.min)||e.push(new Se({max:t.max,min:t.min})),new we(e)}}function So(t){return new Li({assembly:xo,components:[To("x"in t?t.x:void 0),To("y"in t?t.y:void 0),To("z"in t?t.z:void 0),To("w"in t?t.w:void 0)]})}function Ao(t,e){return{baseStep:sr(e),constraint:e,textProps:z.fromObject({draggingScale:ur(e,t),formatter:wn(ar(e,t))})}}var Oo={id:"input-point4d",type:"input",accept:function(t,e){if(!bo.isObject(t))return null;var n=q,r=K(e,{x:n.optional.custom(er),y:n.optional.custom(er),z:n.optional.custom(er),w:n.optional.custom(er)});return r?{initialValue:t,params:r}:null},binding:{reader:function(t){return wo},constraint:function(t){return So(t.params)},equals:bo.equals,writer:function(t){return Eo}},controller:function(t){var e=t.value,n=t.constraint;if(!(n instanceof Li))throw E.shouldNeverHappen();return new Bi(t.document,{assembly:xo,axes:e.rawValue.getComponents().map((function(t,e){return Ao(t,n.components[e])})),parser:_n,value:e,viewProps:t.viewProps})}};function Po(t){var e=[],n=rr(t.options);return n&&e.push(n),new we(e)}var Mo={id:"input-string",type:"input",accept:function(t,e){if("string"!==typeof t)return null;var n=K(e,{options:q.optional.custom(Jn)});return n?{initialValue:t,params:n}:null},binding:{reader:function(t){return Sn},constraint:function(t){return Po(t.params)},writer:function(t){return Qn}},controller:function(t){var e,n=t.document,r=t.value,i=t.constraint;return i&&Ee(i,Te)?new Me(n,{props:z.fromObject({options:null!==(e=ir(i))&&void 0!==e?e:[]}),value:r,viewProps:t.viewProps}):new De(n,{parser:function(t){return t},props:z.fromObject({formatter:An}),value:r,viewProps:t.viewProps})}},Co={monitor:{defaultInterval:200,defaultLineCount:3}},Ro=P("mll"),Io=function(){function t(e,n){p(this,t),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(Ro()),n.viewProps.bindClassModifiers(this.element);var r=e.createElement("textarea");r.classList.add(Ro("i")),r.style.height="calc(var(--bld-us) * ".concat(n.lineCount,")"),r.readOnly=!0,n.viewProps.bindDisabled(r),this.element.appendChild(r),this.textareaElem_=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}return d(t,[{key:"update_",value:function(){var t=this,e=this.textareaElem_,n=e.scrollTop===e.scrollHeight-e.clientHeight,r=[];this.value.rawValue.forEach((function(e){void 0!==e&&r.push(t.formatter_(e))})),e.textContent=r.join("\n"),n&&(e.scrollTop=e.scrollHeight)}},{key:"onValueUpdate_",value:function(){this.update_()}}]),t}(),No=d((function t(e,n){p(this,t),this.value=n.value,this.viewProps=n.viewProps,this.view=new Io(e,{formatter:n.formatter,lineCount:n.lineCount,value:this.value,viewProps:this.viewProps})})),ko=P("sgl"),Do=function(){function t(e,n){p(this,t),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(ko()),n.viewProps.bindClassModifiers(this.element);var r=e.createElement("input");r.classList.add(ko("i")),r.readOnly=!0,r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}return d(t,[{key:"update_",value:function(){var t=this.value.rawValue,e=t[t.length-1];this.inputElement.value=void 0!==e?this.formatter_(e):""}},{key:"onValueUpdate_",value:function(){this.update_()}}]),t}(),Lo=d((function t(e,n){p(this,t),this.value=n.value,this.viewProps=n.viewProps,this.view=new Do(e,{formatter:n.formatter,value:this.value,viewProps:this.viewProps})})),Fo={id:"monitor-bool",type:"monitor",accept:function(t,e){if("boolean"!==typeof t)return null;var n=K(e,{lineCount:q.optional.number});return n?{initialValue:t,params:n}:null},binding:{reader:function(t){return Fe}},controller:function(t){var e;return 1===t.value.rawValue.length?new Lo(t.document,{formatter:Ue,value:t.value,viewProps:t.viewProps}):new No(t.document,{formatter:Ue,lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:Co.monitor.defaultLineCount,value:t.value,viewProps:t.viewProps})}},Uo=function(){function t(){p(this,t),this.emitter=new A,this.index_=-1}return d(t,[{key:"index",get:function(){return this.index_},set:function(t){this.index_!==t&&(this.index_=t,this.emitter.emit("change",{index:t,sender:this}))}}]),t}(),jo=P("grl"),Bo=function(){function t(e,n){p(this,t),this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=e.createElement("div"),this.element.classList.add(jo()),n.viewProps.bindClassModifiers(this.element),this.formatter_=n.formatter,this.minValue_=n.minValue,this.maxValue_=n.maxValue,this.cursor_=n.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);var r=e.createElementNS(et,"svg");r.classList.add(jo("g")),r.style.height="calc(var(--bld-us) * ".concat(n.lineCount,")"),this.element.appendChild(r),this.svgElem_=r;var i=e.createElementNS(et,"polyline");this.svgElem_.appendChild(i),this.lineElem_=i;var o=e.createElement("div");o.classList.add(jo("t"),P("tt")()),this.element.appendChild(o),this.tooltipElem_=o,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}return d(t,[{key:"graphElement",get:function(){return this.svgElem_}},{key:"update_",value:function(){var t=this.svgElem_.getBoundingClientRect(),e=this.value.rawValue.length-1,n=this.minValue_,r=this.maxValue_,i=[];this.value.rawValue.forEach((function(o,a){if(void 0!==o){var s=jn(a,0,e,0,t.width),u=jn(o,n,r,t.height,0);i.push([s,u].join(","))}})),this.lineElem_.setAttributeNS(null,"points",i.join(" "));var o=this.tooltipElem_,a=this.value.rawValue[this.cursor_.index];if(void 0!==a){var s=jn(this.cursor_.index,0,e,0,t.width),u=jn(a,n,r,t.height,0);o.style.left="".concat(s,"px"),o.style.top="".concat(u,"px"),o.textContent="".concat(this.formatter_(a)),o.classList.contains(jo("t","a"))||(o.classList.add(jo("t","a"),jo("t","in")),nt(o),o.classList.remove(jo("t","in")))}else o.classList.remove(jo("t","a"))}},{key:"onValueUpdate_",value:function(){this.update_()}},{key:"onCursorChange_",value:function(){this.update_()}}]),t}(),Go=function(){function t(e,n){if(p(this,t),this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.cursor_=new Uo,this.view=new Bo(e,{cursor:this.cursor_,formatter:n.formatter,lineCount:n.lineCount,maxValue:n.maxValue,minValue:n.minValue,value:this.value,viewProps:this.viewProps}),it(e)){var r=new Un(this.view.element);r.emitter.on("down",this.onGraphPointerDown_),r.emitter.on("move",this.onGraphPointerMove_),r.emitter.on("up",this.onGraphPointerUp_)}else this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_)}return d(t,[{key:"onGraphMouseLeave_",value:function(){this.cursor_.index=-1}},{key:"onGraphMouseMove_",value:function(t){var e=this.view.element.getBoundingClientRect();this.cursor_.index=Math.floor(jn(t.offsetX,0,e.width,0,this.value.rawValue.length))}},{key:"onGraphPointerDown_",value:function(t){this.onGraphPointerMove_(t)}},{key:"onGraphPointerMove_",value:function(t){t.data.point?this.cursor_.index=Math.floor(jn(t.data.point.x,0,t.data.bounds.width,0,this.value.rawValue.length)):this.cursor_.index=-1}},{key:"onGraphPointerUp_",value:function(){this.cursor_.index=-1}}]),t}();function zo(t){return"format"in t&&!b(t.format)?t.format:wn(2)}function Vo(t){var e;return 1===t.value.rawValue.length?new Lo(t.document,{formatter:zo(t.params),value:t.value,viewProps:t.viewProps}):new No(t.document,{formatter:zo(t.params),lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:Co.monitor.defaultLineCount,value:t.value,viewProps:t.viewProps})}function Xo(t){var e,n,r;return new Go(t.document,{formatter:zo(t.params),lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:Co.monitor.defaultLineCount,maxValue:null!==(n="max"in t.params?t.params.max:null)&&void 0!==n?n:100,minValue:null!==(r="min"in t.params?t.params.min:null)&&void 0!==r?r:0,value:t.value,viewProps:t.viewProps})}function Ho(t){return"view"in t&&"graph"===t.view}var Yo={id:"monitor-number",type:"monitor",accept:function(t,e){if("number"!==typeof t)return null;var n=q,r=K(e,{format:n.optional.function,lineCount:n.optional.number,max:n.optional.number,min:n.optional.number,view:n.optional.string});return r?{initialValue:t,params:r}:null},binding:{defaultBufferSize:function(t){return Ho(t)?64:1},reader:function(t){return bn}},controller:function(t){return Ho(t.params)?Xo(t):Vo(t)}},Wo={id:"monitor-string",type:"monitor",accept:function(t,e){if("string"!==typeof t)return null;var n=q,r=K(e,{lineCount:n.optional.number,multiline:n.optional.boolean});return r?{initialValue:t,params:r}:null},binding:{reader:function(t){return Sn}},controller:function(t){var e,n=t.value;return n.rawValue.length>1||"multiline"in t.params&&t.params.multiline?new No(t.document,{formatter:An,lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:Co.monitor.defaultLineCount,value:n,viewProps:t.viewProps}):new Lo(t.document,{formatter:An,value:n,viewProps:t.viewProps})}},qo=function(){function t(e){p(this,t),this.onValueChange_=this.onValueChange_.bind(this),this.reader=e.reader,this.writer=e.writer,this.emitter=new A,this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.target=e.target,this.read()}return d(t,[{key:"read",value:function(){var t=this.target.read();void 0!==t&&(this.value.rawValue=this.reader(t))}},{key:"write_",value:function(t){this.writer(this.target,t)}},{key:"onValueChange_",value:function(t){this.write_(t.rawValue),this.emitter.emit("change",{options:t.options,rawValue:t.rawValue,sender:this})}}]),t}();function Ko(t,e){var n=t.accept(e.target.read(),e.params);if(b(n))return null;var r=q,i={target:e.target,initialValue:n.initialValue,params:n.params},o=t.binding.reader(i),a=t.binding.constraint?t.binding.constraint(i):void 0,s=G(o(n.initialValue),{constraint:a,equals:t.binding.equals}),u=new qo({reader:o,target:e.target,value:s,writer:t.binding.writer(i)}),l=r.optional.boolean(e.params.disabled).value,c=r.optional.boolean(e.params.hidden).value,h=t.controller({constraint:a,document:e.document,initialValue:n.initialValue,params:n.params,value:u.value,viewProps:ue.create({disabled:l,hidden:c})}),f=r.optional.string(e.params.label).value;return new Nt(e.document,{binding:u,blade:xt(),props:z.fromObject({label:f||e.target.key}),valueController:h})}var Zo=function(){function t(e){p(this,t),this.onTick_=this.onTick_.bind(this),this.reader_=e.reader,this.target=e.target,this.emitter=new A,this.value=e.value,this.ticker=e.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}return d(t,[{key:"dispose",value:function(){this.ticker.dispose()}},{key:"read",value:function(){var t=this.target.read();if(void 0!==t){var e=this.value.rawValue,n=this.reader_(t);this.value.rawValue=Cn(e,n),this.emitter.emit("update",{rawValue:n,sender:this})}}},{key:"onTick_",value:function(t){this.read()}}]),t}();function $o(t,e){return 0===e?new be:new xe(t,null!==e&&void 0!==e?e:Co.monitor.defaultInterval)}function Qo(t,e){var n,r,i,o=q,a=t.accept(e.target.read(),e.params);if(b(a))return null;var s={target:e.target,initialValue:a.initialValue,params:a.params},u=t.binding.reader(s),l=null!==(r=null!==(n=o.optional.number(e.params.bufferSize).value)&&void 0!==n?n:t.binding.defaultBufferSize&&t.binding.defaultBufferSize(a.params))&&void 0!==r?r:1,c=o.optional.number(e.params.interval).value,h=new Zo({reader:u,target:e.target,ticker:$o(e.document,c),value:Pn(l)}),f=o.optional.boolean(e.params.disabled).value,p=o.optional.boolean(e.params.hidden).value,d=t.controller({document:e.document,params:a.params,value:h.value,viewProps:ue.create({disabled:f,hidden:p})}),v=null!==(i=o.optional.string(e.params.label).value)&&void 0!==i?i:e.target.key;return new Dt(e.document,{binding:h,blade:xt(),props:z.fromObject({label:v}),valueController:d})}var Jo=function(){function t(){p(this,t),this.pluginsMap_={blades:[],inputs:[],monitors:[]}}return d(t,[{key:"getAll",value:function(){return[].concat(u(this.pluginsMap_.blades),u(this.pluginsMap_.inputs),u(this.pluginsMap_.monitors))}},{key:"register",value:function(t){"blade"===t.type?this.pluginsMap_.blades.unshift(t):"input"===t.type?this.pluginsMap_.inputs.unshift(t):"monitor"===t.type&&this.pluginsMap_.monitors.unshift(t)}},{key:"createInput",value:function(t,e,n){if(b(e.read()))throw new E({context:{key:e.key},type:"nomatchingcontroller"});var r=this.pluginsMap_.inputs.reduce((function(r,i){return r||Ko(i,{document:t,target:e,params:n})}),null);if(r)return r;throw new E({context:{key:e.key},type:"nomatchingcontroller"})}},{key:"createMonitor",value:function(t,e,n){var r=this.pluginsMap_.monitors.reduce((function(r,i){return r||Qo(i,{document:t,params:n,target:e})}),null);if(r)return r;throw new E({context:{key:e.key},type:"nomatchingcontroller"})}},{key:"createBlade",value:function(t,e){var n=this.pluginsMap_.blades.reduce((function(n,r){return n||_e(r,{document:t,params:e})}),null);if(!n)throw new E({type:"nomatchingview",context:{params:e}});return n}},{key:"createBladeApi",value:function(t){var e=this;if(t instanceof Nt)return new It(t);if(t instanceof Dt)return new kt(t);if(t instanceof Kt)return new jt(t,this);var n=this.pluginsMap_.blades.reduce((function(n,r){return n||r.api({controller:t,pool:e})}),null);if(!n)throw E.shouldNeverHappen();return n}}]),t}();function ta(){var t=new Jo;return[co,_o,Oo,Mo,Yi,Di,ki,Ii,pr,Fo,Wo,Yo,_t,Jt,oe,ye].forEach((function(e){t.register(e)})),t}var ea=function(t){c(n,t);var e=h(n);function n(t){var r;return p(this,n),(r=e.call(this,t)).emitter_=new A,r.controller_.valueController.value.emitter.on("change",(function(t){r.emitter_.emit("change",{event:new m(a(r),t.rawValue)})})),r}return d(n,[{key:"label",get:function(){return this.controller_.props.get("label")},set:function(t){this.controller_.props.set("label",t)}},{key:"options",get:function(){return this.controller_.valueController.props.get("options")},set:function(t){this.controller_.valueController.props.set("options",t)}},{key:"value",get:function(){return this.controller_.valueController.value.rawValue},set:function(t){this.controller_.valueController.value.rawValue=t}},{key:"on",value:function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this}}]),n}(n),na=function(t){c(n,t);var e=h(n);function n(t){var r;return p(this,n),(r=e.call(this,t)).emitter_=new A,r.controller_.valueController.value.emitter.on("change",(function(t){r.emitter_.emit("change",{event:new m(a(r),t.rawValue)})})),r}return d(n,[{key:"label",get:function(){return this.controller_.props.get("label")},set:function(t){this.controller_.props.set("label",t)}},{key:"maxValue",get:function(){return this.controller_.valueController.sliderController.props.get("maxValue")},set:function(t){this.controller_.valueController.sliderController.props.set("maxValue",t)}},{key:"minValue",get:function(){return this.controller_.valueController.sliderController.props.get("minValue")},set:function(t){this.controller_.valueController.sliderController.props.set("minValue",t)}},{key:"value",get:function(){return this.controller_.valueController.value.rawValue},set:function(t){this.controller_.valueController.value.rawValue=t}},{key:"on",value:function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this}}]),n}(n),ra=function(t){c(n,t);var e=h(n);function n(t){var r;return p(this,n),(r=e.call(this,t)).emitter_=new A,r.controller_.valueController.value.emitter.on("change",(function(t){r.emitter_.emit("change",{event:new m(a(r),t.rawValue)})})),r}return d(n,[{key:"label",get:function(){return this.controller_.props.get("label")},set:function(t){this.controller_.props.set("label",t)}},{key:"formatter",get:function(){return this.controller_.valueController.props.get("formatter")},set:function(t){this.controller_.valueController.props.set("formatter",t)}},{key:"value",get:function(){return this.controller_.valueController.value.rawValue},set:function(t){this.controller_.valueController.value.rawValue=t}},{key:"on",value:function(t,e){var n=e.bind(this);return this.emitter_.on(t,(function(t){n(t.event)})),this}}]),n}(n),ia={id:"list",type:"blade",accept:function(t){var e=q,n=K(t,{options:e.required.custom(Jn),value:e.required.raw,view:e.required.constant("list"),label:e.optional.string});return n?{params:n}:null},controller:function(t){var e=new Me(t.document,{props:z.fromObject({options:nr(t.params.options)}),value:G(t.params.value),viewProps:t.viewProps});return new te(t.document,{blade:t.blade,props:z.fromObject({label:t.params.label}),valueController:e})},api:function(t){return t.controller instanceof te&&t.controller.valueController instanceof Me?new ea(t.controller):null}};function oa(t){return t.reduce((function(t,e){return Object.assign(t,l({},e.presetKey,e.read()))}),{})}function aa(t,e){t.forEach((function(t){var n=e[t.presetKey];void 0!==n&&t.write(n)}))}var sa=function(t){c(n,t);var e=h(n);function n(t,r){return p(this,n),e.call(this,t,r)}return d(n,[{key:"element",get:function(){return this.controller_.view.element}},{key:"importPreset",value:function(t){aa(this.controller_.rackController.rack.find(Nt).map((function(t){return t.binding.target})),t),this.refresh()}},{key:"exportPreset",value:function(){return oa(this.controller_.rackController.rack.find(Nt).map((function(t){return t.binding.target})))}},{key:"refresh",value:function(){this.controller_.rackController.rack.find(Nt).forEach((function(t){t.binding.read()})),this.controller_.rackController.rack.find(Dt).forEach((function(t){t.binding.read()}))}}]),n}(Bt),ua=function(t){c(n,t);var e=h(n);function n(t,r){return p(this,n),e.call(this,t,{expanded:r.expanded,blade:r.blade,props:r.props,root:!0,viewProps:r.viewProps})}return d(n)}(Qt),la={id:"slider",type:"blade",accept:function(t){var e=q,n=K(t,{max:e.required.number,min:e.required.number,view:e.required.constant("slider"),format:e.optional.function,label:e.optional.string,value:e.optional.number});return n?{params:n}:null},controller:function(t){var e,n,r=null!==(e=t.params.value)&&void 0!==e?e:0,i=new $n(t.document,{baseStep:1,parser:_n,sliderProps:z.fromObject({maxValue:t.params.max,minValue:t.params.min}),textProps:z.fromObject({draggingScale:ur(void 0,r),formatter:null!==(n=t.params.format)&&void 0!==n?n:xn}),value:G(r),viewProps:t.viewProps});return new te(t.document,{blade:t.blade,props:z.fromObject({label:t.params.label}),valueController:i})},api:function(t){return t.controller instanceof te&&t.controller.valueController instanceof $n?new na(t.controller):null}},ca={id:"text",type:"blade",accept:function(t){var e=q,n=K(t,{parse:e.required.function,value:e.required.raw,view:e.required.constant("text"),format:e.optional.function,label:e.optional.string});return n?{params:n}:null},controller:function(t){var e,n=new De(t.document,{parser:t.params.parse,props:z.fromObject({formatter:null!==(e=t.params.format)&&void 0!==e?e:function(t){return String(t)}}),value:G(t.params.value),viewProps:t.viewProps});return new te(t.document,{blade:t.blade,props:z.fromObject({label:t.params.label}),valueController:n})},api:function(t){return t.controller instanceof te&&t.controller.valueController instanceof De?new ra(t.controller):null}};function ha(t){var e=t.createElement("div");return e.classList.add(P("dfw")()),t.body&&t.body.appendChild(e),e}function fa(t,e,n){if(!t.querySelector("style[data-tp-style=".concat(e,"]"))){var r=t.createElement("style");r.dataset.tpStyle=e,r.textContent=n,t.head.appendChild(r)}}var pa=function(t){c(n,t);var e=h(n);function n(t){var r,i;p(this,n);var o=t||{},a=null!==(i=o.document)&&void 0!==i?i:at(),s=ta(),u=new ua(a,{expanded:o.expanded,blade:xt(),props:z.fromObject({title:o.title}),viewProps:ue.create()});return(r=e.call(this,u,s)).pool_=s,r.containerElem_=o.container||ha(a),r.containerElem_.appendChild(r.element),r.doc_=a,r.usesDefaultWrapper_=!o.container,r.setUpDefaultPlugins_(),r}return d(n,[{key:"document",get:function(){if(!this.doc_)throw E.alreadyDisposed();return this.doc_}},{key:"dispose",value:function(){var t=this.containerElem_;if(!t)throw E.alreadyDisposed();if(this.usesDefaultWrapper_){var e=t.parentElement;e&&e.removeChild(t)}this.containerElem_=null,this.doc_=null,r(i(n.prototype),"dispose",this).call(this)}},{key:"registerPlugin",value:function(t){var e=this;("plugin"in t?[t.plugin]:"plugins"in t?t.plugins:[]).forEach((function(t){e.pool_.register(t),e.embedPluginStyle_(t)}))}},{key:"embedPluginStyle_",value:function(t){t.css&&fa(this.document,"plugin-".concat(t.id),t.css)}},{key:"setUpDefaultPlugins_",value:function(){var t=this;fa(this.document,"default",".tp-lstv_s,.tp-btnv_b,.tp-p2dv_b,.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i,.tp-grlv_g,.tp-sglv_i,.tp-mllv_i,.tp-fldv_b,.tp-rotv_b,.tp-ckbv_i,.tp-coltxtv_ms,.tp-tbiv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-lstv_s,.tp-btnv_b,.tp-p2dv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-lstv_s:hover,.tp-btnv_b:hover,.tp-p2dv_b:hover{background-color:var(--btn-bg-h)}.tp-lstv_s:focus,.tp-btnv_b:focus,.tp-p2dv_b:focus{background-color:var(--btn-bg-f)}.tp-lstv_s:active,.tp-btnv_b:active,.tp-p2dv_b:active{background-color:var(--btn-bg-a)}.tp-lstv_s:disabled,.tp-btnv_b:disabled,.tp-p2dv_b:disabled{opacity:0.5}.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-colswv_sw:hover,.tp-p2dpv_p:hover,.tp-txtv_i:hover{background-color:var(--in-bg-h)}.tp-colswv_sw:focus,.tp-p2dpv_p:focus,.tp-txtv_i:focus{background-color:var(--in-bg-f)}.tp-colswv_sw:active,.tp-p2dpv_p:active,.tp-txtv_i:active{background-color:var(--in-bg-a)}.tp-colswv_sw:disabled,.tp-p2dpv_p:disabled,.tp-txtv_i:disabled{opacity:0.5}.tp-grlv_g,.tp-sglv_i,.tp-mllv_i{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);width:100%}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono,Source Code Pro,Menlo,Courier,monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, #2f3137);--bs-sh: var(--tp-base-shadow-color, rgba(0,0,0,0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #2f3137);--cnt-bg: var(--tp-container-background-color, rgba(187,188,196,0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187,188,196,0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187,188,196,0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187,188,196,0.15));--cnt-fg: var(--tp-container-foreground-color, #bbbcc4);--in-bg: var(--tp-input-background-color, rgba(187,188,196,0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187,188,196,0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187,188,196,0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187,188,196,0.15));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187,188,196,0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0,0,0,0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187,188,196,0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(0,0,0,0.2))}.tp-fldv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-rotv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1 * var(--cnt-v-p))}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-rotv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-fldv_c>.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv{margin-left:4px}.tp-fldv_c>.tp-fldv>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c .tp-fldv>.tp-fldv_c,.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-tabv>.tp-tabv_i,.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-fldv_c .tp-tabv>.tp-tabv_c,.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-fldv_b,.tp-rotv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(2px * 2 + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-fldv_b:hover,.tp-rotv_b:hover{background-color:var(--cnt-bg-h)}.tp-fldv_b:focus,.tp-rotv_b:focus{background-color:var(--cnt-bg-f)}.tp-fldv_b:active,.tp-rotv_b:active{background-color:var(--cnt-bg-a)}.tp-fldv_b:disabled,.tp-rotv_b:disabled{opacity:0.5}.tp-fldv_m,.tp-rotv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:'';display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px) / 2 - 2px);margin:auto;opacity:0.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m,.tp-rotv.tp-rotv-expanded .tp-rotv_m{transform:none}.tp-fldv_c,.tp-rotv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c,.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c{display:none}.tp-fldv.tp-fldv-expanded>.tp-fldv_c,.tp-rotv.tp-rotv-expanded .tp-rotv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-coltxtv_m,.tp-lstv{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-coltxtv_mm,.tp-lstv_m{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-coltxtv_mm svg,.tp-lstv_m svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-coltxtv_mm svg path,.tp-lstv_m svg path{fill:currentColor}.tp-coltxtv_w,.tp-pndtxtv{display:flex}.tp-coltxtv_c,.tp-pndtxtv_a{width:100%}.tp-coltxtv_c+.tp-coltxtv_c,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-pndtxtv_a{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:0.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:'';height:2px;left:calc(-1 * var(--cnt-h-p));position:absolute;right:calc(-1 * var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us) * 4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0,0,0,0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,0.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,0.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br)}.tp-colswv.tp-v-disabled{opacity:0.5}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,0.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:'';display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us) * 3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left 0.05s, top 0.05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:0.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:0.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:0.5}.tp-mllv_i{display:block;height:calc(var(--bld-us) * 3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:0.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:0.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:0.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:0.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:'';display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:'';display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:'';display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:0.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:'';height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:'';height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:0.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:0.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:0.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:'';height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:0.1;position:absolute;top:0;transition:border-radius 0.1s, height 0.1s, transform 0.1s, width 0.1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:'';font-size:0.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(2px * 2 + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}"),this.pool_.getAll().forEach((function(e){t.embedPluginStyle_(e)})),this.registerPlugin({plugins:[la,ia,ye,ca]})}}]),n}(sa),da=new e("3.0.7");t.BladeApi=n,t.ButtonApi=S,t.FolderApi=Bt,t.InputBindingApi=It,t.ListApi=ea,t.MonitorBindingApi=kt,t.Pane=pa,t.SeparatorApi=ee,t.SliderApi=na,t.TabApi=de,t.TabPageApi=pe,t.TextApi=ra,t.TpChangeEvent=m,t.VERSION=da,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";n.d(e,"a",(function(){return N})),n.d(e,"b",(function(){return j}));var r=n(1),i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)};!function(t){function e(e){var n=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float gamma;\nuniform float contrast;\nuniform float saturation;\nuniform float brightness;\nuniform float red;\nuniform float green;\nuniform float blue;\nuniform float alpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (c.a > 0.0) {\n        c.rgb /= c.a;\n\n        vec3 rgb = pow(c.rgb, vec3(1. / gamma));\n        rgb = mix(vec3(.5), mix(vec3(dot(vec3(.2125, .7154, .0721), rgb)), rgb, saturation), contrast);\n        rgb.r *= red;\n        rgb.g *= green;\n        rgb.b *= blue;\n        c.rgb = rgb * brightness;\n\n        c.rgb *= c.a;\n    }\n\n    gl_FragColor = c * alpha;\n}\n")||this;return n.gamma=1,n.saturation=1,n.contrast=1,n.brightness=1,n.red=1,n.green=1,n.blue=1,n.alpha=1,Object.assign(n,e),n}(function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.apply=function(t,e,n,r){this.uniforms.gamma=Math.max(this.gamma,1e-4),this.uniforms.saturation=this.saturation,this.uniforms.contrast=this.contrast,this.uniforms.brightness=this.brightness,this.uniforms.red=this.red,this.uniforms.green=this.green,this.uniforms.blue=this.blue,this.uniforms.alpha=this.alpha,t.applyFilter(this,e,n,r)}}(r.h);var o=n(2),a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},a(t,e)};var s=function(t){function e(e,n,r){void 0===e&&(e=4),void 0===n&&(n=3),void 0===r&&(r=!1);var i=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",r?"\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n\n    // Sample top left pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample top right pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample bottom right pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample bottom left pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Average\n    color *= 0.25;\n\n    gl_FragColor = color;\n}\n":"\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n\n    // Sample top left pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));\n\n    // Sample top right pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));\n\n    // Sample bottom right pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));\n\n    // Sample bottom left pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));\n\n    // Average\n    color *= 0.25;\n\n    gl_FragColor = color;\n}")||this;return i._kernels=[],i._blur=4,i._quality=3,i.uniforms.uOffset=new Float32Array(2),i._pixelSize=new o.g,i.pixelSize=1,i._clamp=r,Array.isArray(e)?i.kernels=e:(i._blur=e,i.quality=n),i}return function(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.apply=function(t,e,n,r){var i,o=this._pixelSize.x/e._frame.width,a=this._pixelSize.y/e._frame.height;if(1===this._quality||0===this._blur)i=this._kernels[0]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,t.applyFilter(this,e,n,r);else{for(var s=t.getFilterTexture(),u=e,l=s,c=void 0,h=this._quality-1,f=0;f<h;f++)i=this._kernels[f]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,t.applyFilter(this,u,l,1),c=u,u=l,l=c;i=this._kernels[h]+.5,this.uniforms.uOffset[0]=i*o,this.uniforms.uOffset[1]=i*a,t.applyFilter(this,u,n,r),t.returnFilterTexture(s)}},e.prototype._updatePadding=function(){this.padding=Math.ceil(this._kernels.reduce((function(t,e){return t+e+.5}),0))},e.prototype._generateKernels=function(){var t=this._blur,e=this._quality,n=[t];if(t>0)for(var r=t,i=t/e,o=1;o<e;o++)r-=i,n.push(r);this._kernels=n,this._updatePadding()},Object.defineProperty(e.prototype,"kernels",{get:function(){return this._kernels},set:function(t){Array.isArray(t)&&t.length>0?(this._kernels=t,this._quality=t.length,this._blur=Math.max.apply(Math,t)):(this._kernels=[0],this._quality=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clamp",{get:function(){return this._clamp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._pixelSize},set:function(t){"number"===typeof t?(this._pixelSize.x=t,this._pixelSize.y=t):Array.isArray(t)?(this._pixelSize.x=t[0],this._pixelSize.y=t[1]):t instanceof o.g?(this._pixelSize.x=t.x,this._pixelSize.y=t.y):(this._pixelSize.x=1,this._pixelSize.y=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=Math.max(1,Math.round(t)),this._generateKernels()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(t){this._blur=t,this._generateKernels()},enumerable:!1,configurable:!0}),e}(r.h),u=n(10),l=function(t,e){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},l(t,e)};function c(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var h="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",f=function(t){function e(e){void 0===e&&(e=.5);var n=t.call(this,h,"\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform float threshold;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    // A simple & fast algorithm for getting brightness.\n    // It's inaccuracy , but good enought for this feature.\n    float _max = max(max(color.r, color.g), color.b);\n    float _min = min(min(color.r, color.g), color.b);\n    float brightness = (_max + _min) * 0.5;\n\n    if(brightness > threshold) {\n        gl_FragColor = color;\n    } else {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }\n}\n")||this;return n.threshold=e,n}return c(e,t),Object.defineProperty(e.prototype,"threshold",{get:function(){return this.uniforms.threshold},set:function(t){this.uniforms.threshold=t},enumerable:!1,configurable:!0}),e}(r.h),p=(function(t){function e(n){var r=t.call(this,h,"uniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D bloomTexture;\nuniform float bloomScale;\nuniform float brightness;\n\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    color.rgb *= brightness;\n    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);\n    bloomColor.rgb *= bloomScale;\n    gl_FragColor = color + bloomColor;\n}\n")||this;r.bloomScale=1,r.brightness=1,r._resolution=u.b.FILTER_RESOLUTION,"number"===typeof n&&(n={threshold:n});var i=Object.assign(e.defaults,n);r.bloomScale=i.bloomScale,r.brightness=i.brightness;var o=i.kernels,a=i.blur,l=i.quality,c=i.pixelSize,p=i.resolution;return r._extractFilter=new f(i.threshold),r._extractFilter.resolution=p,r._blurFilter=o?new s(o):new s(a,l),r.pixelSize=c,r.resolution=p,r}c(e,t),e.prototype.apply=function(t,e,n,r,i){var o=t.getFilterTexture();this._extractFilter.apply(t,e,o,1,i);var a=t.getFilterTexture();this._blurFilter.apply(t,o,a,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=a,t.applyFilter(this,e,n,r),t.returnFilterTexture(a),t.returnFilterTexture(o)},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t,this._extractFilter&&(this._extractFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"threshold",{get:function(){return this._extractFilter.threshold},set:function(t){this._extractFilter.threshold=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(t){this._blurFilter.kernels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(t){this._blurFilter.blur=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(t){this._blurFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(t){this._blurFilter.pixelSize=t},enumerable:!1,configurable:!0}),e.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:u.b.FILTER_RESOLUTION}}(r.h),function(t,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},p(t,e)});!function(t){function e(e){void 0===e&&(e=8);var n=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform vec4 filterArea;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 pixelate(vec2 coord, vec2 size)\n{\n    return floor( coord / size ) * size;\n}\n\nvec2 getMod(vec2 coord, vec2 size)\n{\n    return mod( coord , size) / size;\n}\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n\n    if (clamp(p.x, 0.0, 4.0) == p.x)\n    {\n        if (clamp(p.y, 0.0, 4.0) == p.y)\n        {\n            if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n        }\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 coord = mapCoord(vTextureCoord);\n\n    // get the rounded color..\n    vec2 pixCoord = pixelate(coord, vec2(pixelSize));\n    pixCoord = unmapCoord(pixCoord);\n\n    vec4 color = texture2D(uSampler, pixCoord);\n\n    // determine the character to use\n    float gray = (color.r + color.g + color.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    // get the mod..\n    vec2 modd = getMod(coord, vec2(pixelSize));\n\n    gl_FragColor = color * character( n, vec2(-1.0) + modd * 2.0);\n\n}\n")||this;return n.size=e,n}(function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.pixelSize},set:function(t){this.uniforms.pixelSize=t},enumerable:!1,configurable:!0})}(r.h);var d=n(4),v=function(t,e){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},v(t,e)};!function(t){function e(e){var n=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform float transformX;\nuniform float transformY;\nuniform vec3 lightColor;\nuniform float lightAlpha;\nuniform vec3 shadowColor;\nuniform float shadowAlpha;\n\nvoid main(void) {\n    vec2 transform = vec2(1.0 / filterArea) * vec2(transformX, transformY);\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float light = texture2D(uSampler, vTextureCoord - transform).a;\n    float shadow = texture2D(uSampler, vTextureCoord + transform).a;\n\n    color.rgb = mix(color.rgb, lightColor, clamp((color.a - light) * lightAlpha, 0.0, 1.0));\n    color.rgb = mix(color.rgb, shadowColor, clamp((color.a - shadow) * shadowAlpha, 0.0, 1.0));\n    gl_FragColor = vec4(color.rgb * color.a, color.a);\n}\n")||this;return n._thickness=2,n._angle=0,n.uniforms.lightColor=new Float32Array(3),n.uniforms.shadowColor=new Float32Array(3),Object.assign(n,{rotation:45,thickness:2,lightColor:16777215,lightAlpha:.7,shadowColor:0,shadowAlpha:.7},e),n.padding=1,n}(function(t,e){function n(){this.constructor=t}v(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype._updateTransform=function(){this.uniforms.transformX=this._thickness*Math.cos(this._angle),this.uniforms.transformY=this._thickness*Math.sin(this._angle)},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._angle/o.b},set:function(t){this._angle=t*o.b,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(t){this._thickness=t,this._updateTransform()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightColor",{get:function(){return Object(d.y)(this.uniforms.lightColor)},set:function(t){Object(d.m)(t,this.uniforms.lightColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lightAlpha",{get:function(){return this.uniforms.lightAlpha},set:function(t){this.uniforms.lightAlpha=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowColor",{get:function(){return Object(d.y)(this.uniforms.shadowColor)},set:function(t){Object(d.m)(t,this.uniforms.shadowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowAlpha",{get:function(){return this.uniforms.shadowAlpha},set:function(t){this.uniforms.shadowAlpha=t},enumerable:!1,configurable:!0})}(r.h);var m=n(0),g=n(103),y=n(65),_=function(t,e){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},_(t,e)};!function(t){function e(e,n,r,i){void 0===e&&(e=2),void 0===n&&(n=4),void 0===r&&(r=u.b.FILTER_RESOLUTION),void 0===i&&(i=5);var a,s,l=t.call(this)||this;return"number"===typeof e?(a=e,s=e):e instanceof o.g?(a=e.x,s=e.y):Array.isArray(e)&&(a=e[0],s=e[1]),l.blurXFilter=new y.b(!0,a,n,r,i),l.blurYFilter=new y.b(!1,s,n,r,i),l.blurYFilter.blendMode=m.b.SCREEN,l.defaultFilter=new g.a,l}(function(t,e){function n(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.apply=function(t,e,n,r){var i=t.getFilterTexture();this.defaultFilter.apply(t,e,n,r),this.blurXFilter.apply(t,e,i,1),this.blurYFilter.apply(t,i,n,0),t.returnFilterTexture(i)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t},enumerable:!1,configurable:!0})}(r.h);var b=function(t,e){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},b(t,e)};!function(t){function e(n){var r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","uniform float radius;\nuniform float strength;\nuniform vec2 center;\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\n\nvoid main()\n{\n    vec2 coord = vTextureCoord * filterArea.xy;\n    coord -= center * dimensions.xy;\n    float distance = length(coord);\n    if (distance < radius) {\n        float percent = distance / radius;\n        if (strength > 0.0) {\n            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);\n        } else {\n            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);\n        }\n    }\n    coord += center * dimensions.xy;\n    coord /= filterArea.xy;\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    vec4 color = texture2D(uSampler, clampedCoord);\n    if (coord != clampedCoord) {\n        color *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n\n    gl_FragColor = color;\n}\n")||this;return r.uniforms.dimensions=new Float32Array(2),Object.assign(r,e.defaults,n),r}(function(t,e){function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.apply=function(t,e,n,r){var i=e.filterFrame,o=i.width,a=i.height;this.uniforms.dimensions[0]=o,this.uniforms.dimensions[1]=a,t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(t){this.uniforms.radius=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(t){this.uniforms.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(t){this.uniforms.center=t},enumerable:!1,configurable:!0}),e.defaults={center:[.5,.5],radius:100,strength:1}}(r.h);var x=function(t,e){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},x(t,e)};!function(t){function e(e,n,r){void 0===n&&(n=!1),void 0===r&&(r=1);var i=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform sampler2D colorMap;\nuniform float _mix;\nuniform float _size;\nuniform float _sliceSize;\nuniform float _slicePixelSize;\nuniform float _sliceInnerSize;\nvoid main() {\n    vec4 color = texture2D(uSampler, vTextureCoord.xy);\n\n    vec4 adjusted;\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n        float innerWidth = _size - 1.0;\n        float zSlice0 = min(floor(color.b * innerWidth), innerWidth);\n        float zSlice1 = min(zSlice0 + 1.0, innerWidth);\n        float xOffset = _slicePixelSize * 0.5 + color.r * _sliceInnerSize;\n        float s0 = xOffset + (zSlice0 * _sliceSize);\n        float s1 = xOffset + (zSlice1 * _sliceSize);\n        float yOffset = _sliceSize * 0.5 + color.g * (1.0 - _sliceSize);\n        vec4 slice0Color = texture2D(colorMap, vec2(s0,yOffset));\n        vec4 slice1Color = texture2D(colorMap, vec2(s1,yOffset));\n        float zOffset = fract(color.b * innerWidth);\n        adjusted = mix(slice0Color, slice1Color, zOffset);\n\n        color.rgb *= color.a;\n    }\n    gl_FragColor = vec4(mix(color, adjusted, _mix).rgb, color.a);\n\n}")||this;return i.mix=1,i._size=0,i._sliceSize=0,i._slicePixelSize=0,i._sliceInnerSize=0,i._nearest=!1,i._scaleMode=null,i._colorMap=null,i._scaleMode=null,i.nearest=n,i.mix=r,i.colorMap=e,i}(function(t,e){function n(){this.constructor=t}x(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.apply=function(t,e,n,r){this.uniforms._mix=this.mix,t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"colorSize",{get:function(){return this._size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorMap",{get:function(){return this._colorMap},set:function(t){var e;t&&(t instanceof r.q||(t=r.q.from(t)),(null===(e=t)||void 0===e?void 0:e.baseTexture)&&(t.baseTexture.scaleMode=this._scaleMode,t.baseTexture.mipmap=m.k.OFF,this._size=t.height,this._sliceSize=1/this._size,this._slicePixelSize=this._sliceSize/this._size,this._sliceInnerSize=this._slicePixelSize*(this._size-1),this.uniforms._size=this._size,this.uniforms._sliceSize=this._sliceSize,this.uniforms._slicePixelSize=this._slicePixelSize,this.uniforms._sliceInnerSize=this._sliceInnerSize,this.uniforms.colorMap=t),this._colorMap=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nearest",{get:function(){return this._nearest},set:function(t){this._nearest=t,this._scaleMode=t?m.p.NEAREST:m.p.LINEAR;var e=this._colorMap;e&&e.baseTexture&&(e.baseTexture._glTextures={},e.baseTexture.scaleMode=this._scaleMode,e.baseTexture.mipmap=m.k.OFF,e._updateID++,e.baseTexture.emit("update",e.baseTexture))},enumerable:!1,configurable:!0}),e.prototype.updateColorMap=function(){var t=this._colorMap;t&&t.baseTexture&&(t._updateID++,t.baseTexture.emit("update",t.baseTexture),this.colorMap=t)},e.prototype.destroy=function(e){void 0===e&&(e=!1),this._colorMap&&this._colorMap.destroy(e),t.prototype.destroy.call(this)}}(r.h);var w=function(t,e){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},w(t,e)};!function(t){function e(e,n){void 0===e&&(e=0),void 0===n&&(n=1);var r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec3 color;\nuniform float alpha;\n\nvoid main(void) {\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = vec4(mix(currentColor.rgb, color.rgb, currentColor.a * alpha), currentColor.a);\n}\n")||this;return r._color=0,r._alpha=1,r.uniforms.color=new Float32Array(3),r.color=e,r.alpha=n,r}(function(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){var e=this.uniforms.color;"number"===typeof t?(Object(d.m)(t,e),this._color=t):(e[0]=t[0],e[1]=t[1],e[2]=t[2],this._color=Object(d.y)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this.uniforms.alpha=t,this._alpha=t},enumerable:!1,configurable:!0})}(r.h);var E=function(t,e){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},E(t,e)};!function(t){function e(e,n,r){void 0===e&&(e=16711680),void 0===n&&(n=0),void 0===r&&(r=.4);var i=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec3 originalColor;\nuniform vec3 newColor;\nuniform float epsilon;\nvoid main(void) {\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\n    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));\n    float colorDistance = length(colorDiff);\n    float doReplace = step(colorDistance, epsilon);\n    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);\n}\n")||this;return i._originalColor=16711680,i._newColor=0,i.uniforms.originalColor=new Float32Array(3),i.uniforms.newColor=new Float32Array(3),i.originalColor=e,i.newColor=n,i.epsilon=r,i}(function(t,e){function n(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),Object.defineProperty(e.prototype,"originalColor",{get:function(){return this._originalColor},set:function(t){var e=this.uniforms.originalColor;"number"===typeof t?(Object(d.m)(t,e),this._originalColor=t):(e[0]=t[0],e[1]=t[1],e[2]=t[2],this._originalColor=Object(d.y)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newColor",{get:function(){return this._newColor},set:function(t){var e=this.uniforms.newColor;"number"===typeof t?(Object(d.m)(t,e),this._newColor=t):(e[0]=t[0],e[1]=t[1],e[2]=t[2],this._newColor=Object(d.y)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(t){this.uniforms.epsilon=t},enumerable:!1,configurable:!0})}(r.h);var T=function(t,e){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},T(t,e)};!function(t){function e(e,n,r){void 0===n&&(n=200),void 0===r&&(r=200);var i=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n")||this;return i.uniforms.texelSize=new Float32Array(2),i.uniforms.matrix=new Float32Array(9),void 0!==e&&(i.matrix=e),i.width=n,i.height=r,i}(function(t,e){function n(){this.constructor=t}T(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.matrix},set:function(t){var e=this;t.forEach((function(t,n){e.uniforms.matrix[n]=t}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return 1/this.uniforms.texelSize[0]},set:function(t){this.uniforms.texelSize[0]=1/t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return 1/this.uniforms.texelSize[1]},set:function(t){this.uniforms.texelSize[1]=1/t},enumerable:!1,configurable:!0})}(r.h);var S=function(t,e){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},S(t,e)};!function(t){function e(){return t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")||this}(function(t,e){function n(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t)}(r.h);var A=function(t,e){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},A(t,e)};!function(t){function e(n){var r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nconst float SQRT_2 = 1.414213;\n\nconst float light = 1.0;\n\nuniform float curvature;\nuniform float lineWidth;\nuniform float lineContrast;\nuniform bool verticalLine;\nuniform float noise;\nuniform float noiseSize;\n\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\n\nuniform float seed;\nuniform float time;\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main(void)\n{\n    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));\n    \n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec3 rgb = gl_FragColor.rgb;\n\n    if (noise > 0.0 && noiseSize > 0.0)\n    {\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\n        rgb += _noise * noise;\n    }\n\n    if (lineWidth > 0.0)\n    {\n        float _c = curvature > 0. ? curvature : 1.;\n        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;\n        vec2 uv = dir * k;\n\n        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;\n        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;\n        rgb *= j;\n        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);\n        rgb *= 0.99 + ceil(segment) * 0.015;\n    }\n\n    if (vignetting > 0.0)\n    {\n        float outter = SQRT_2 - vignetting * SQRT_2;\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    gl_FragColor.rgb = rgb;\n}\n")||this;return r.time=0,r.seed=0,r.uniforms.dimensions=new Float32Array(2),Object.assign(r,e.defaults,n),r}(function(t,e){function n(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.apply=function(t,e,n,r){var i=e.filterFrame,o=i.width,a=i.height;this.uniforms.dimensions[0]=o,this.uniforms.dimensions[1]=a,this.uniforms.seed=this.seed,this.uniforms.time=this.time,t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"curvature",{get:function(){return this.uniforms.curvature},set:function(t){this.uniforms.curvature=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this.uniforms.lineWidth},set:function(t){this.uniforms.lineWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineContrast",{get:function(){return this.uniforms.lineContrast},set:function(t){this.uniforms.lineContrast=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticalLine",{get:function(){return this.uniforms.verticalLine},set:function(t){this.uniforms.verticalLine=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(t){this.uniforms.noise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(t){this.uniforms.noiseSize=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(t){this.uniforms.vignetting=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(t){this.uniforms.vignettingAlpha=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(t){this.uniforms.vignettingBlur=t},enumerable:!1,configurable:!0}),e.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0}}(r.h);var O=function(t,e){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},O(t,e)};!function(t){function e(e,n){void 0===e&&(e=1),void 0===n&&(n=5);var r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 filterArea;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * filterArea.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n")||this;return r.scale=e,r.angle=n,r}(function(t,e){function n(){this.constructor=t}O(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),Object.defineProperty(e.prototype,"scale",{get:function(){return this.uniforms.scale},set:function(t){this.uniforms.scale=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(t){this.uniforms.angle=t},enumerable:!1,configurable:!0})}(r.h);var P=function(t,e){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},P(t,e)};var M=function(){return M=Object.assign||function(t){for(var e,n=arguments,r=1,i=arguments.length;r<i;r++)for(var o in e=n[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},M.apply(this,arguments)},C=(function(t){function e(n){var i=t.call(this)||this;i.angle=45,i._distance=5,i._resolution=u.b.FILTER_RESOLUTION;var a=n?M(M({},e.defaults),n):e.defaults,l=a.kernels,c=a.blur,h=a.quality,f=a.pixelSize,p=a.resolution;i._tintFilter=new r.h("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform vec3 color;\n\nuniform vec2 shift;\nuniform vec4 inputSize;\n\nvoid main(void){\n    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);\n\n    // Premultiply alpha\n    sample.rgb = color.rgb * sample.a;\n\n    // alpha user alpha\n    sample *= alpha;\n\n    gl_FragColor = sample;\n}"),i._tintFilter.uniforms.color=new Float32Array(4),i._tintFilter.uniforms.shift=new o.g,i._tintFilter.resolution=p,i._blurFilter=l?new s(l):new s(c,h),i.pixelSize=f,i.resolution=p;var d=a.shadowOnly,v=a.rotation,m=a.distance,g=a.alpha,y=a.color;return i.shadowOnly=d,i.rotation=v,i.distance=m,i.alpha=g,i.color=y,i._updatePadding(),i}(function(t,e){function n(){this.constructor=t}P(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.apply=function(t,e,n,r){var i=t.getFilterTexture();this._tintFilter.apply(t,e,i,1),this._blurFilter.apply(t,i,n,r),!0!==this.shadowOnly&&t.applyFilter(this,e,n,0),t.returnFilterTexture(i)},e.prototype._updatePadding=function(){this.padding=this.distance+2*this.blur},e.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._resolution=t,this._tintFilter&&(this._tintFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},set:function(t){this._distance=t,this._updatePadding(),this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.angle/o.b},set:function(t){this.angle=t*o.b,this._updateShift()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._tintFilter.uniforms.alpha},set:function(t){this._tintFilter.uniforms.alpha=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return Object(d.y)(this._tintFilter.uniforms.color)},set:function(t){Object(d.m)(t,this._tintFilter.uniforms.color)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"kernels",{get:function(){return this._blurFilter.kernels},set:function(t){this._blurFilter.kernels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blurFilter.blur},set:function(t){this._blurFilter.blur=t,this._updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._blurFilter.quality},set:function(t){this._blurFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixelSize",{get:function(){return this._blurFilter.pixelSize},set:function(t){this._blurFilter.pixelSize=t},enumerable:!1,configurable:!0}),e.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:u.b.FILTER_RESOLUTION}}(r.h),function(t,e){return C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},C(t,e)});!function(t){function e(e){void 0===e&&(e=5);var n=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float strength;\nuniform vec4 filterArea;\n\n\nvoid main(void)\n{\n\tvec2 onePixel = vec2(1.0 / filterArea);\n\n\tvec4 color;\n\n\tcolor.rgb = vec3(0.5);\n\n\tcolor -= texture2D(uSampler, vTextureCoord - onePixel) * strength;\n\tcolor += texture2D(uSampler, vTextureCoord + onePixel) * strength;\n\n\tcolor.rgb = vec3((color.r + color.g + color.b) / 3.0);\n\n\tfloat alpha = texture2D(uSampler, vTextureCoord).a;\n\n\tgl_FragColor = vec4(color.rgb * alpha, alpha);\n}\n")||this;return n.strength=e,n}(function(t,e){function n(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.strength},set:function(t){this.uniforms.strength=t},enumerable:!1,configurable:!0})}(r.h);var R=function(t,e){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},R(t,e)};!function(t){function e(n){var i=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","// precision highp float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\nuniform float aspect;\n\nuniform sampler2D displacementMap;\nuniform float offset;\nuniform float sinDir;\nuniform float cosDir;\nuniform int fillMode;\n\nuniform float seed;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nconst int TRANSPARENT = 0;\nconst int ORIGINAL = 1;\nconst int LOOP = 2;\nconst int CLAMP = 3;\nconst int MIRROR = 4;\n\nvoid main(void)\n{\n    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;\n\n    if (coord.x > 1.0 || coord.y > 1.0) {\n        return;\n    }\n\n    float cx = coord.x - 0.5;\n    float cy = (coord.y - 0.5) * aspect;\n    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;\n\n    // displacementMap: repeat\n    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);\n\n    // displacementMap: mirror\n    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);\n\n    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));\n\n    float displacement = (dc.r - dc.g) * (offset / filterArea.x);\n\n    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);\n\n    if (fillMode == CLAMP) {\n        coord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    } else {\n        if( coord.x > filterClamp.z ) {\n            if (fillMode == TRANSPARENT) {\n                discard;\n            } else if (fillMode == LOOP) {\n                coord.x -= filterClamp.z;\n            } else if (fillMode == MIRROR) {\n                coord.x = filterClamp.z * 2.0 - coord.x;\n            }\n        } else if( coord.x < filterClamp.x ) {\n            if (fillMode == TRANSPARENT) {\n                discard;\n            } else if (fillMode == LOOP) {\n                coord.x += filterClamp.z;\n            } else if (fillMode == MIRROR) {\n                coord.x *= -filterClamp.z;\n            }\n        }\n\n        if( coord.y > filterClamp.w ) {\n            if (fillMode == TRANSPARENT) {\n                discard;\n            } else if (fillMode == LOOP) {\n                coord.y -= filterClamp.w;\n            } else if (fillMode == MIRROR) {\n                coord.y = filterClamp.w * 2.0 - coord.y;\n            }\n        } else if( coord.y < filterClamp.y ) {\n            if (fillMode == TRANSPARENT) {\n                discard;\n            } else if (fillMode == LOOP) {\n                coord.y += filterClamp.w;\n            } else if (fillMode == MIRROR) {\n                coord.y *= -filterClamp.w;\n            }\n        }\n    }\n\n    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;\n    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;\n    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;\n    gl_FragColor.a = texture2D(uSampler, coord).a;\n}\n")||this;return i.offset=100,i.fillMode=e.TRANSPARENT,i.average=!1,i.seed=0,i.minSize=8,i.sampleSize=512,i._slices=0,i._offsets=new Float32Array(1),i._sizes=new Float32Array(1),i._direction=-1,i.uniforms.dimensions=new Float32Array(2),i._canvas=document.createElement("canvas"),i._canvas.width=4,i._canvas.height=i.sampleSize,i.texture=r.q.from(i._canvas,{scaleMode:m.p.NEAREST}),Object.assign(i,e.defaults,n),i}(function(t,e){function n(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.apply=function(t,e,n,r){var i=e.filterFrame,o=i.width,a=i.height;this.uniforms.dimensions[0]=o,this.uniforms.dimensions[1]=a,this.uniforms.aspect=a/o,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,t.applyFilter(this,e,n,r)},e.prototype._randomizeSizes=function(){var t=this._sizes,e=this._slices-1,n=this.sampleSize,r=Math.min(this.minSize/n,.9/this._slices);if(this.average){for(var i=this._slices,o=1,a=0;a<e;a++){var s=o/(i-a),u=Math.max(s*(1-.6*Math.random()),r);t[a]=u,o-=u}t[e]=o}else{o=1;var l=Math.sqrt(1/this._slices);for(a=0;a<e;a++){u=Math.max(l*o*Math.random(),r);t[a]=u,o-=u}t[e]=o}this.shuffle()},e.prototype.shuffle=function(){for(var t=this._sizes,e=this._slices-1;e>0;e--){var n=Math.random()*e>>0,r=t[e];t[e]=t[n],t[n]=r}},e.prototype._randomizeOffsets=function(){for(var t=0;t<this._slices;t++)this._offsets[t]=Math.random()*(Math.random()<.5?-1:1)},e.prototype.refresh=function(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()},e.prototype.redraw=function(){var t,e=this.sampleSize,n=this.texture,r=this._canvas.getContext("2d");r.clearRect(0,0,8,e);for(var i=0,o=0;o<this._slices;o++){t=Math.floor(256*this._offsets[o]);var a=this._sizes[o]*e,s=t>0?t:0,u=t<0?-t:0;r.fillStyle="rgba("+s+", "+u+", 0, 1)",r.fillRect(0,i>>0,e,a+1>>0),i+=a}n.baseTexture.update(),this.uniforms.displacementMap=n},Object.defineProperty(e.prototype,"sizes",{get:function(){return this._sizes},set:function(t){for(var e=Math.min(this._slices,t.length),n=0;n<e;n++)this._sizes[n]=t[n]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return this._offsets},set:function(t){for(var e=Math.min(this._slices,t.length),n=0;n<e;n++)this._offsets[n]=t[n]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slices",{get:function(){return this._slices},set:function(t){this._slices!==t&&(this._slices=t,this.uniforms.slices=t,this._sizes=this.uniforms.slicesWidth=new Float32Array(t),this._offsets=this.uniforms.slicesOffset=new Float32Array(t),this.refresh())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"direction",{get:function(){return this._direction},set:function(t){if(this._direction!==t){this._direction=t;var e=t*o.b;this.uniforms.sinDir=Math.sin(e),this.uniforms.cosDir=Math.cos(e)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(t){this.uniforms.red=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(t){this.uniforms.green=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(t){this.uniforms.blue=t},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var t;null===(t=this.texture)||void 0===t||t.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null},e.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},e.TRANSPARENT=0,e.ORIGINAL=1,e.LOOP=2,e.CLAMP=3,e.MIRROR=4}(r.h);var I=function(t,e){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},I(t,e)};var N=function(t){function e(n){var r=this,i=Object.assign({},e.defaults,n),o=i.outerStrength,a=i.innerStrength,s=i.color,u=i.knockout,l=i.quality,c=Math.round(i.distance);return(r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nuniform float outerStrength;\nuniform float innerStrength;\n\nuniform vec4 glowColor;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform bool knockout;\n\nconst float PI = 3.14159265358979323846264;\n\nconst float DIST = __DIST__;\nconst float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);\nconst float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);\n\nconst float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;\n\nvoid main(void) {\n    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);\n\n    float totalAlpha = 0.0;\n\n    vec2 direction;\n    vec2 displaced;\n    vec4 curColor;\n\n    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {\n       direction = vec2(cos(angle), sin(angle)) * px;\n\n       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {\n           displaced = clamp(vTextureCoord + direction * \n                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);\n\n           curColor = texture2D(uSampler, displaced);\n\n           totalAlpha += (DIST - curDistance) * curColor.a;\n       }\n    }\n    \n    curColor = texture2D(uSampler, vTextureCoord);\n\n    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);\n\n    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;\n    float innerGlowStrength = min(1.0, innerGlowAlpha);\n    \n    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);\n\n    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);\n    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);\n\n    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;\n    \n    if (knockout) {\n      float resultAlpha = outerGlowAlpha + innerGlowAlpha;\n      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);\n    }\n    else {\n      gl_FragColor = innerColor + outerGlowColor;\n    }\n}\n".replace(/__ANGLE_STEP_SIZE__/gi,""+(1/l/c).toFixed(7)).replace(/__DIST__/gi,c.toFixed(0)+".0"))||this).uniforms.glowColor=new Float32Array([0,0,0,1]),Object.assign(r,{color:s,outerStrength:o,innerStrength:a,padding:c,knockout:u}),r}return function(t,e){function n(){this.constructor=t}I(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return Object(d.y)(this.uniforms.glowColor)},set:function(t){Object(d.m)(t,this.uniforms.glowColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outerStrength",{get:function(){return this.uniforms.outerStrength},set:function(t){this.uniforms.outerStrength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerStrength",{get:function(){return this.uniforms.innerStrength},set:function(t){this.uniforms.innerStrength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"knockout",{get:function(){return this.uniforms.knockout},set:function(t){this.uniforms.knockout=t},enumerable:!1,configurable:!0}),e.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1},e}(r.h),k=function(t,e){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},k(t,e)};!function(t){function e(n){var r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform vec2 light;\nuniform bool parallel;\nuniform float aspect;\n\nuniform float gain;\nuniform float lacunarity;\nuniform float time;\nuniform float alpha;\n\n${perlin}\n\nvoid main(void) {\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    float d;\n\n    if (parallel) {\n        float _cos = light.x;\n        float _sin = light.y;\n        d = (_cos * coord.x) + (_sin * coord.y * aspect);\n    } else {\n        float dx = coord.x - light.x / dimensions.x;\n        float dy = (coord.y - light.y / dimensions.y) * aspect;\n        float dis = sqrt(dx * dx + dy * dy) + 0.00001;\n        d = dy / dis;\n    }\n\n    vec3 dir = vec3(d, d, 0.0);\n\n    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);\n    noise = mix(noise, 0.0, 0.3);\n    //fade vertically.\n    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);\n    mist.a = 1.0;\n    // apply user alpha\n    mist *= alpha;\n\n    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;\n\n}\n".replace("${perlin}","vec3 mod289(vec3 x)\n{\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec4 mod289(vec4 x)\n{\n    return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\nvec4 permute(vec4 x)\n{\n    return mod289(((x * 34.0) + 1.0) * x);\n}\nvec4 taylorInvSqrt(vec4 r)\n{\n    return 1.79284291400159 - 0.85373472095314 * r;\n}\nvec3 fade(vec3 t)\n{\n    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);\n}\n// Classic Perlin noise, periodic variant\nfloat pnoise(vec3 P, vec3 rep)\n{\n    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period\n    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period\n    Pi0 = mod289(Pi0);\n    Pi1 = mod289(Pi1);\n    vec3 Pf0 = fract(P); // Fractional part for interpolation\n    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n    vec4 iy = vec4(Pi0.yy, Pi1.yy);\n    vec4 iz0 = Pi0.zzzz;\n    vec4 iz1 = Pi1.zzzz;\n    vec4 ixy = permute(permute(ix) + iy);\n    vec4 ixy0 = permute(ixy + iz0);\n    vec4 ixy1 = permute(ixy + iz1);\n    vec4 gx0 = ixy0 * (1.0 / 7.0);\n    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n    gx0 = fract(gx0);\n    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n    vec4 sz0 = step(gz0, vec4(0.0));\n    gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n    gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n    vec4 gx1 = ixy1 * (1.0 / 7.0);\n    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n    gx1 = fract(gx1);\n    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n    vec4 sz1 = step(gz1, vec4(0.0));\n    gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n    gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);\n    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);\n    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);\n    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);\n    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);\n    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);\n    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);\n    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);\n    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n    g000 *= norm0.x;\n    g010 *= norm0.y;\n    g100 *= norm0.z;\n    g110 *= norm0.w;\n    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n    g001 *= norm1.x;\n    g011 *= norm1.y;\n    g101 *= norm1.z;\n    g111 *= norm1.w;\n    float n000 = dot(g000, Pf0);\n    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n    float n111 = dot(g111, Pf1);\n    vec3 fade_xyz = fade(Pf0);\n    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n    return 2.2 * n_xyz;\n}\nfloat turb(vec3 P, vec3 rep, float lacunarity, float gain)\n{\n    float sum = 0.0;\n    float sc = 1.0;\n    float totalgain = 1.0;\n    for (float i = 0.0; i < 6.0; i++)\n    {\n        sum += totalgain * pnoise(P * sc, rep);\n        sc *= lacunarity;\n        totalgain *= gain;\n    }\n    return abs(sum);\n}\n"))||this;r.parallel=!0,r.time=0,r._angle=0,r.uniforms.dimensions=new Float32Array(2);var i=Object.assign(e.defaults,n);return r._angleLight=new o.g,r.angle=i.angle,r.gain=i.gain,r.lacunarity=i.lacunarity,r.alpha=i.alpha,r.parallel=i.parallel,r.center=i.center,r.time=i.time,r}(function(t,e){function n(){this.constructor=t}k(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.apply=function(t,e,n,r){var i=e.filterFrame,o=i.width,a=i.height;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=o,this.uniforms.dimensions[1]=a,this.uniforms.aspect=a/o,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t;var e=t*o.b;this._angleLight.x=Math.cos(e),this._angleLight.y=Math.sin(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gain",{get:function(){return this.uniforms.gain},set:function(t){this.uniforms.gain=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lacunarity",{get:function(){return this.uniforms.lacunarity},set:function(t){this.uniforms.lacunarity=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(t){this.uniforms.alpha=t},enumerable:!1,configurable:!0}),e.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1}}(r.h);var D=function(t,e){return D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},D(t,e)};!function(t){function e(e,n,r){void 0===e&&(e=[0,0]),void 0===n&&(n=5),void 0===r&&(r=0);var i=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform vec2 uVelocity;\nuniform int uKernelSize;\nuniform float uOffset;\n\nconst int MAX_KERNEL_SIZE = 2048;\n\n// Notice:\n// the perfect way:\n//    int kernelSize = min(uKernelSize, MAX_KERNELSIZE);\n// BUT in real use-case , uKernelSize < MAX_KERNELSIZE almost always.\n// So use uKernelSize directly.\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    if (uKernelSize == 0)\n    {\n        gl_FragColor = color;\n        return;\n    }\n\n    vec2 velocity = uVelocity / filterArea.xy;\n    float offset = -uOffset / length(uVelocity) - 0.5;\n    int k = uKernelSize - 1;\n\n    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {\n        if (i == k) {\n            break;\n        }\n        vec2 bias = velocity * (float(i) / float(k) + offset);\n        color += texture2D(uSampler, vTextureCoord + bias);\n    }\n    gl_FragColor = color / float(uKernelSize);\n}\n")||this;return i.kernelSize=5,i.uniforms.uVelocity=new Float32Array(2),i._velocity=new o.e(i.velocityChanged,i),i.setVelocity(e),i.kernelSize=n,i.offset=r,i}(function(t,e){function n(){this.constructor=t}D(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.apply=function(t,e,n,r){var i=this.velocity,o=i.x,a=i.y;this.uniforms.uKernelSize=0!==o||0!==a?this.kernelSize:0,t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"velocity",{get:function(){return this._velocity},set:function(t){this.setVelocity(t)},enumerable:!1,configurable:!0}),e.prototype.setVelocity=function(t){if(Array.isArray(t)){var e=t[0],n=t[1];this._velocity.set(e,n)}else this._velocity.copyFrom(t)},e.prototype.velocityChanged=function(){this.uniforms.uVelocity[0]=this._velocity.x,this.uniforms.uVelocity[1]=this._velocity.y,this.padding=1+(Math.max(Math.abs(this._velocity.x),Math.abs(this._velocity.y))>>0)},Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.uOffset},set:function(t){this.uniforms.uOffset=t},enumerable:!1,configurable:!0})}(r.h);var L=function(t,e){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},L(t,e)};!function(t){function e(e,n,r){void 0===n&&(n=.05),void 0===r&&(r=e.length);var i=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float epsilon;\n\nconst int MAX_COLORS = %maxColors%;\n\nuniform vec3 originalColors[MAX_COLORS];\nuniform vec3 targetColors[MAX_COLORS];\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    float alpha = gl_FragColor.a;\n    if (alpha < 0.0001)\n    {\n      return;\n    }\n\n    vec3 color = gl_FragColor.rgb / alpha;\n\n    for(int i = 0; i < MAX_COLORS; i++)\n    {\n      vec3 origColor = originalColors[i];\n      if (origColor.r < 0.0)\n      {\n        break;\n      }\n      vec3 colorDiff = origColor - color;\n      if (length(colorDiff) < epsilon)\n      {\n        vec3 targetColor = targetColors[i];\n        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);\n        return;\n      }\n    }\n}\n".replace(/%maxColors%/g,r.toFixed(0)))||this;return i._replacements=[],i._maxColors=0,i.epsilon=n,i._maxColors=r,i.uniforms.originalColors=new Float32Array(3*r),i.uniforms.targetColors=new Float32Array(3*r),i.replacements=e,i}(function(t,e){function n(){this.constructor=t}L(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),Object.defineProperty(e.prototype,"replacements",{get:function(){return this._replacements},set:function(t){var e=this.uniforms.originalColors,n=this.uniforms.targetColors,r=t.length;if(r>this._maxColors)throw new Error("Length of replacements ("+r+") exceeds the maximum colors length ("+this._maxColors+")");e[3*r]=-1;for(var i=0;i<r;i++){var o=t[i],a=o[0];"number"===typeof a?a=Object(d.m)(a):o[0]=Object(d.y)(a),e[3*i]=a[0],e[3*i+1]=a[1],e[3*i+2]=a[2];var s=o[1];"number"===typeof s?s=Object(d.m)(s):o[1]=Object(d.y)(s),n[3*i]=s[0],n[3*i+1]=s[1],n[3*i+2]=s[2]}this._replacements=t},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(e.prototype,"maxColors",{get:function(){return this._maxColors},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(t){this.uniforms.epsilon=t},enumerable:!1,configurable:!0})}(r.h);var F=function(t,e){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},F(t,e)};!function(t){function e(n,r){void 0===r&&(r=0);var i=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\n\nuniform float sepia;\nuniform float noise;\nuniform float noiseSize;\nuniform float scratch;\nuniform float scratchDensity;\nuniform float scratchWidth;\nuniform float vignetting;\nuniform float vignettingAlpha;\nuniform float vignettingBlur;\nuniform float seed;\n\nconst float SQRT_2 = 1.414213;\nconst vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvec3 Overlay(vec3 src, vec3 dst)\n{\n    // if (dst <= 0.5) then: 2 * src * dst\n    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)\n    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),\n                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),\n                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));\n}\n\n\nvoid main()\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n    vec3 color = gl_FragColor.rgb;\n\n    if (sepia > 0.0)\n    {\n        float gray = (color.x + color.y + color.z) / 3.0;\n        vec3 grayscale = vec3(gray);\n\n        color = Overlay(SEPIA_RGB, grayscale);\n\n        color = grayscale + sepia * (color - grayscale);\n    }\n\n    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;\n\n    if (vignetting > 0.0)\n    {\n        float outter = SQRT_2 - vignetting * SQRT_2;\n        vec2 dir = vec2(vec2(0.5, 0.5) - coord);\n        dir.y *= dimensions.y / dimensions.x;\n        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);\n        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);\n    }\n\n    if (scratchDensity > seed && scratch != 0.0)\n    {\n        float phase = seed * 256.0;\n        float s = mod(floor(phase), 2.0);\n        float dist = 1.0 / scratchDensity;\n        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));\n        if (d < seed * 0.6 + 0.4)\n        {\n            highp float period = scratchDensity * 10.0;\n\n            float xx = coord.x * period + phase;\n            float aa = abs(mod(xx, 0.5) * 4.0);\n            float bb = mod(floor(xx / 0.5), 2.0);\n            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);\n\n            float kk = 2.0 * period;\n            float dw = scratchWidth / dimensions.x * (0.75 + seed);\n            float dh = dw * kk;\n\n            float tine = (yy - (2.0 - dh));\n\n            if (tine > 0.0) {\n                float _sign = sign(scratch);\n\n                tine = s * tine / period + scratch + 0.1;\n                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);\n\n                color.rgb *= tine;\n            }\n        }\n    }\n\n    if (noise > 0.0 && noiseSize > 0.0)\n    {\n        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n        pixelCoord.x = floor(pixelCoord.x / noiseSize);\n        pixelCoord.y = floor(pixelCoord.y / noiseSize);\n        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);\n        // float _noise = snoise(d) * 0.5;\n        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;\n        color += _noise * noise;\n    }\n\n    gl_FragColor.rgb = color;\n}\n")||this;return i.seed=0,i.uniforms.dimensions=new Float32Array(2),"number"===typeof n?(i.seed=n,n=void 0):i.seed=r,Object.assign(i,e.defaults,n),i}(function(t,e){function n(){this.constructor=t}F(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.apply=function(t,e,n,r){var i,o;this.uniforms.dimensions[0]=null===(i=e.filterFrame)||void 0===i?void 0:i.width,this.uniforms.dimensions[1]=null===(o=e.filterFrame)||void 0===o?void 0:o.height,this.uniforms.seed=this.seed,t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"sepia",{get:function(){return this.uniforms.sepia},set:function(t){this.uniforms.sepia=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.noise},set:function(t){this.uniforms.noise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noiseSize",{get:function(){return this.uniforms.noiseSize},set:function(t){this.uniforms.noiseSize=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratch",{get:function(){return this.uniforms.scratch},set:function(t){this.uniforms.scratch=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchDensity",{get:function(){return this.uniforms.scratchDensity},set:function(t){this.uniforms.scratchDensity=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scratchWidth",{get:function(){return this.uniforms.scratchWidth},set:function(t){this.uniforms.scratchWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetting",{get:function(){return this.uniforms.vignetting},set:function(t){this.uniforms.vignetting=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingAlpha",{get:function(){return this.uniforms.vignettingAlpha},set:function(t){this.uniforms.vignettingAlpha=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignettingBlur",{get:function(){return this.uniforms.vignettingBlur},set:function(t){this.uniforms.vignettingBlur=t},enumerable:!1,configurable:!0}),e.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3}}(r.h);var U=function(t,e){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},U(t,e)};var j=function(t){function e(n,r,i){void 0===n&&(n=1),void 0===r&&(r=0),void 0===i&&(i=.1);var o=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 thickness;\nuniform vec4 outlineColor;\nuniform vec4 filterClamp;\n\nconst float DOUBLE_PI = 3.14159265358979323846264 * 2.;\n\nvoid main(void) {\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\n    vec4 curColor;\n    float maxAlpha = 0.;\n    vec2 displaced;\n    for (float angle = 0.; angle <= DOUBLE_PI; angle += ${angleStep}) {\n        displaced.x = vTextureCoord.x + thickness.x * cos(angle);\n        displaced.y = vTextureCoord.y + thickness.y * sin(angle);\n        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));\n        maxAlpha = max(maxAlpha, curColor.a);\n    }\n    float resultAlpha = max(maxAlpha, ownColor.a);\n    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);\n}\n".replace(/\$\{angleStep\}/,e.getAngleStep(i)))||this;return o._thickness=1,o.uniforms.thickness=new Float32Array([0,0]),o.uniforms.outlineColor=new Float32Array([0,0,0,1]),Object.assign(o,{thickness:n,color:r,quality:i}),o}return function(t,e){function n(){this.constructor=t}U(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.getAngleStep=function(t){var n=Math.max(t*e.MAX_SAMPLES,e.MIN_SAMPLES);return(2*Math.PI/n).toFixed(7)},e.prototype.apply=function(t,e,n,r){this.uniforms.thickness[0]=this._thickness/e._frame.width,this.uniforms.thickness[1]=this._thickness/e._frame.height,t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"color",{get:function(){return Object(d.y)(this.uniforms.outlineColor)},set:function(t){Object(d.m)(t,this.uniforms.outlineColor)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thickness",{get:function(){return this._thickness},set:function(t){this._thickness=t,this.padding=t},enumerable:!1,configurable:!0}),e.MIN_SAMPLES=1,e.MAX_SAMPLES=100,e}(r.h),B=function(t,e){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},B(t,e)};!function(t){function e(e){void 0===e&&(e=10);var n=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec2 size;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 pixelate(vec2 coord, vec2 size)\n{\n\treturn floor( coord / size ) * size;\n}\n\nvoid main(void)\n{\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = pixelate(coord, size);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord);\n}\n")||this;return n.size=e,n}(function(t,e){function n(){this.constructor=t}B(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),Object.defineProperty(e.prototype,"size",{get:function(){return this.uniforms.size},set:function(t){"number"===typeof t&&(t=[t,t]),this.uniforms.size=t},enumerable:!1,configurable:!0})}(r.h);var G=function(t,e){return G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},G(t,e)};!function(t){function e(e,n,r,i){void 0===e&&(e=0),void 0===n&&(n=[0,0]),void 0===r&&(r=5),void 0===i&&(i=-1);var o=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform float uRadian;\nuniform vec2 uCenter;\nuniform float uRadius;\nuniform int uKernelSize;\n\nconst int MAX_KERNEL_SIZE = 2048;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    if (uKernelSize == 0)\n    {\n        gl_FragColor = color;\n        return;\n    }\n\n    float aspect = filterArea.y / filterArea.x;\n    vec2 center = uCenter.xy / filterArea.xy;\n    float gradient = uRadius / filterArea.x * 0.3;\n    float radius = uRadius / filterArea.x - gradient * 0.5;\n    int k = uKernelSize - 1;\n\n    vec2 coord = vTextureCoord;\n    vec2 dir = vec2(center - coord);\n    float dist = length(vec2(dir.x, dir.y * aspect));\n\n    float radianStep = uRadian;\n    if (radius >= 0.0 && dist > radius) {\n        float delta = dist - radius;\n        float gap = gradient;\n        float scale = 1.0 - abs(delta / gap);\n        if (scale <= 0.0) {\n            gl_FragColor = color;\n            return;\n        }\n        radianStep *= scale;\n    }\n    radianStep /= float(k);\n\n    float s = sin(radianStep);\n    float c = cos(radianStep);\n    mat2 rotationMatrix = mat2(vec2(c, -s), vec2(s, c));\n\n    for(int i = 0; i < MAX_KERNEL_SIZE - 1; i++) {\n        if (i == k) {\n            break;\n        }\n\n        coord -= center;\n        coord.y *= aspect;\n        coord = rotationMatrix * coord;\n        coord.y /= aspect;\n        coord += center;\n\n        vec4 sample = texture2D(uSampler, coord);\n\n        // switch to pre-multiplied alpha to correctly blur transparent images\n        // sample.rgb *= sample.a;\n\n        color += sample;\n    }\n\n    gl_FragColor = color / float(uKernelSize);\n}\n")||this;return o._angle=0,o.angle=e,o.center=n,o.kernelSize=r,o.radius=i,o}(function(t,e){function n(){this.constructor=t}G(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.apply=function(t,e,n,r){this.uniforms.uKernelSize=0!==this._angle?this.kernelSize:0,t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this.uniforms.uRadian=t*Math.PI/180},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(t){this.uniforms.uCenter=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(t){(t<0||t===1/0)&&(t=-1),this.uniforms.uRadius=t},enumerable:!1,configurable:!0})}(r.h);var z=function(t,e){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},z(t,e)};!function(t){function e(n){var r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\nuniform vec2 dimensions;\n\nuniform bool mirror;\nuniform float boundary;\nuniform vec2 amplitude;\nuniform vec2 waveLength;\nuniform vec2 alpha;\nuniform float time;\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main(void)\n{\n    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;\n    vec2 coord = pixelCoord / dimensions;\n\n    if (coord.y < boundary) {\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\n        return;\n    }\n\n    float k = (coord.y - boundary) / (1. - boundary + 0.0001);\n    float areaY = boundary * dimensions.y / filterArea.y;\n    float v = areaY + areaY - vTextureCoord.y;\n    float y = mirror ? v : vTextureCoord.y;\n\n    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;\n    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;\n    float _alpha = (alpha.y - alpha.x) * k + alpha.x;\n\n    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;\n    x = clamp(x, filterClamp.x, filterClamp.z);\n\n    vec4 color = texture2D(uSampler, vec2(x, y));\n\n    gl_FragColor = color * _alpha;\n}\n")||this;return r.time=0,r.uniforms.amplitude=new Float32Array(2),r.uniforms.waveLength=new Float32Array(2),r.uniforms.alpha=new Float32Array(2),r.uniforms.dimensions=new Float32Array(2),Object.assign(r,e.defaults,n),r}(function(t,e){function n(){this.constructor=t}z(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.apply=function(t,e,n,r){var i,o;this.uniforms.dimensions[0]=null===(i=e.filterFrame)||void 0===i?void 0:i.width,this.uniforms.dimensions[1]=null===(o=e.filterFrame)||void 0===o?void 0:o.height,this.uniforms.time=this.time,t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"mirror",{get:function(){return this.uniforms.mirror},set:function(t){this.uniforms.mirror=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"boundary",{get:function(){return this.uniforms.boundary},set:function(t){this.uniforms.boundary=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(t){this.uniforms.amplitude[0]=t[0],this.uniforms.amplitude[1]=t[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"waveLength",{get:function(){return this.uniforms.waveLength},set:function(t){this.uniforms.waveLength[0]=t[0],this.uniforms.waveLength[1]=t[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.alpha},set:function(t){this.uniforms.alpha[0]=t[0],this.uniforms.alpha[1]=t[1]},enumerable:!1,configurable:!0}),e.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0}}(r.h);var V=function(t,e){return V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},V(t,e)};!function(t){function e(e,n,r){void 0===e&&(e=[-10,0]),void 0===n&&(n=[0,10]),void 0===r&&(r=[0,0]);var i=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n")||this;return i.red=e,i.green=n,i.blue=r,i}(function(t,e){function n(){this.constructor=t}V(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),Object.defineProperty(e.prototype,"red",{get:function(){return this.uniforms.red},set:function(t){this.uniforms.red=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this.uniforms.green},set:function(t){this.uniforms.green=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this.uniforms.blue},set:function(t){this.uniforms.blue=t},enumerable:!1,configurable:!0})}(r.h);var X=function(t,e){return X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},X(t,e)};!function(t){function e(n,r,i){void 0===n&&(n=[0,0]),void 0===i&&(i=0);var o=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nuniform vec2 center;\n\nuniform float amplitude;\nuniform float wavelength;\n// uniform float power;\nuniform float brightness;\nuniform float speed;\nuniform float radius;\n\nuniform float time;\n\nconst float PI = 3.14159;\n\nvoid main()\n{\n    float halfWavelength = wavelength * 0.5 / filterArea.x;\n    float maxRadius = radius / filterArea.x;\n    float currentRadius = time * speed / filterArea.x;\n\n    float fade = 1.0;\n\n    if (maxRadius > 0.0) {\n        if (currentRadius > maxRadius) {\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\n            return;\n        }\n        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);\n    }\n\n    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);\n    dir.y *= filterArea.y / filterArea.x;\n    float dist = length(dir);\n\n    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {\n        gl_FragColor = texture2D(uSampler, vTextureCoord);\n        return;\n    }\n\n    vec2 diffUV = normalize(dir);\n\n    float diff = (dist - currentRadius) / halfWavelength;\n\n    float p = 1.0 - pow(abs(diff), 2.0);\n\n    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );\n    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );\n\n    vec2 offset = diffUV * powDiff / filterArea.xy;\n\n    // Do clamp :\n    vec2 coord = vTextureCoord + offset;\n    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);\n    vec4 color = texture2D(uSampler, clampedCoord);\n    if (coord != clampedCoord) {\n        color *= max(0.0, 1.0 - length(coord - clampedCoord));\n    }\n\n    // No clamp :\n    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);\n\n    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;\n\n    gl_FragColor = color;\n}\n")||this;return o.center=n,Object.assign(o,e.defaults,r),o.time=i,o}(function(t,e){function n(){this.constructor=t}X(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.apply=function(t,e,n,r){this.uniforms.time=this.time,t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.center},set:function(t){this.uniforms.center=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"amplitude",{get:function(){return this.uniforms.amplitude},set:function(t){this.uniforms.amplitude=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wavelength",{get:function(){return this.uniforms.wavelength},set:function(t){this.uniforms.wavelength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"brightness",{get:function(){return this.uniforms.brightness},set:function(t){this.uniforms.brightness=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speed",{get:function(){return this.uniforms.speed},set:function(t){this.uniforms.speed=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(t){this.uniforms.radius=t},enumerable:!1,configurable:!0}),e.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1}}(r.h);var H=function(t,e){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},H(t,e)};!function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=1);var i=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform sampler2D uLightmap;\nuniform vec4 filterArea;\nuniform vec2 dimensions;\nuniform vec4 ambientColor;\nvoid main() {\n    vec4 diffuseColor = texture2D(uSampler, vTextureCoord);\n    vec2 lightCoord = (vTextureCoord * filterArea.xy) / dimensions;\n    vec4 light = texture2D(uLightmap, lightCoord);\n    vec3 ambient = ambientColor.rgb * ambientColor.a;\n    vec3 intensity = ambient + light.rgb;\n    vec3 finalColor = diffuseColor.rgb * intensity;\n    gl_FragColor = vec4(finalColor, diffuseColor.a);\n}\n")||this;return i._color=0,i.uniforms.dimensions=new Float32Array(2),i.uniforms.ambientColor=new Float32Array([0,0,0,r]),i.texture=e,i.color=n,i}(function(t,e){function n(){this.constructor=t}H(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.apply=function(t,e,n,r){var i,o;this.uniforms.dimensions[0]=null===(i=e.filterFrame)||void 0===i?void 0:i.width,this.uniforms.dimensions[1]=null===(o=e.filterFrame)||void 0===o?void 0:o.height,t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uLightmap},set:function(t){this.uniforms.uLightmap=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){var e=this.uniforms.ambientColor;"number"===typeof t?(Object(d.m)(t,e),this._color=t):(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this._color=Object(d.y)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.ambientColor[3]},set:function(t){this.uniforms.ambientColor[3]=t},enumerable:!1,configurable:!0})}(r.h);var Y=function(t,e){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Y(t,e)};function W(t,e){function n(){this.constructor=t}Y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var q=function(t){function e(e,n,r,i){void 0===e&&(e=100),void 0===n&&(n=600);var a=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    color /= total;\n    color.rgb /= color.a + 0.00001;\n\n    gl_FragColor = color;\n}\n")||this;return a.uniforms.blur=e,a.uniforms.gradientBlur=n,a.uniforms.start=r||new o.g(0,window.innerHeight/2),a.uniforms.end=i||new o.g(600,window.innerHeight/2),a.uniforms.delta=new o.g(30,30),a.uniforms.texSize=new o.g(window.innerWidth,window.innerHeight),a.updateDelta(),a}return W(e,t),e.prototype.updateDelta=function(){this.uniforms.delta.x=0,this.uniforms.delta.y=0},Object.defineProperty(e.prototype,"blur",{get:function(){return this.uniforms.blur},set:function(t){this.uniforms.blur=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.uniforms.gradientBlur},set:function(t){this.uniforms.gradientBlur=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.uniforms.start},set:function(t){this.uniforms.start=t,this.updateDelta()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.uniforms.end},set:function(t){this.uniforms.end=t,this.updateDelta()},enumerable:!1,configurable:!0}),e}(r.h),K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return W(e,t),e.prototype.updateDelta=function(){var t=this.uniforms.end.x-this.uniforms.start.x,e=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(t*t+e*e);this.uniforms.delta.x=t/n,this.uniforms.delta.y=e/n},e}(q),Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return W(e,t),e.prototype.updateDelta=function(){var t=this.uniforms.end.x-this.uniforms.start.x,e=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(t*t+e*e);this.uniforms.delta.x=-e/n,this.uniforms.delta.y=t/n},e}(q),$=(function(t){function e(e,n,r,i){void 0===e&&(e=100),void 0===n&&(n=600);var o=t.call(this)||this;return o.tiltShiftXFilter=new K(e,n,r,i),o.tiltShiftYFilter=new Z(e,n,r,i),o}W(e,t),e.prototype.apply=function(t,e,n,r){var i=t.getFilterTexture();this.tiltShiftXFilter.apply(t,e,i,1),this.tiltShiftYFilter.apply(t,i,n,r),t.returnFilterTexture(i)},Object.defineProperty(e.prototype,"blur",{get:function(){return this.tiltShiftXFilter.blur},set:function(t){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gradientBlur",{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(t){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this.tiltShiftXFilter.start},set:function(t){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this.tiltShiftXFilter.end},set:function(t){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=t},enumerable:!1,configurable:!0})}(r.h),function(t,e){return $=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},$(t,e)});!function(t){function e(n){var r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\nuniform vec4 filterArea;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvec2 twist(vec2 coord)\n{\n    coord -= offset;\n\n    float dist = length(coord);\n\n    if (dist < radius)\n    {\n        float ratioDist = (radius - dist) / radius;\n        float angleMod = ratioDist * ratioDist * angle;\n        float s = sin(angleMod);\n        float c = cos(angleMod);\n        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n    }\n\n    coord += offset;\n\n    return coord;\n}\n\nvoid main(void)\n{\n\n    vec2 coord = mapCoord(vTextureCoord);\n\n    coord = twist(coord);\n\n    coord = unmapCoord(coord);\n\n    gl_FragColor = texture2D(uSampler, coord );\n\n}\n")||this;return Object.assign(r,e.defaults,n),r}(function(t,e){function n(){this.constructor=t}$(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),Object.defineProperty(e.prototype,"offset",{get:function(){return this.uniforms.offset},set:function(t){this.uniforms.offset=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.radius},set:function(t){this.uniforms.radius=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.uniforms.angle},set:function(t){this.uniforms.angle=t},enumerable:!1,configurable:!0}),e.defaults={radius:200,angle:4,padding:20,offset:new o.g}}(r.h);var Q=function(t,e){return Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Q(t,e)};!function(t){function e(n){var r,i=Object.assign(e.defaults,n),o=i.maxKernelSize,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(i,["maxKernelSize"]);return r=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\nuniform vec2 uCenter;\nuniform float uStrength;\nuniform float uInnerRadius;\nuniform float uRadius;\n\nconst float MAX_KERNEL_SIZE = ${maxKernelSize};\n\n// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nhighp float rand(vec2 co, float seed) {\n    const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);\n    return fract(sin(sn) * c + seed);\n}\n\nvoid main() {\n\n    float minGradient = uInnerRadius * 0.3;\n    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;\n\n    float gradient = uRadius * 0.3;\n    float radius = (uRadius - gradient * 0.5) / filterArea.x;\n\n    float countLimit = MAX_KERNEL_SIZE;\n\n    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);\n    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));\n\n    float strength = uStrength;\n\n    float delta = 0.0;\n    float gap;\n    if (dist < innerRadius) {\n        delta = innerRadius - dist;\n        gap = minGradient;\n    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity\n        delta = dist - radius;\n        gap = gradient;\n    }\n\n    if (delta > 0.0) {\n        float normalCount = gap / filterArea.x;\n        delta = (normalCount - delta) / normalCount;\n        countLimit *= delta;\n        strength *= delta;\n        if (countLimit < 1.0)\n        {\n            gl_FragColor = texture2D(uSampler, vTextureCoord);\n            return;\n        }\n    }\n\n    // randomize the lookup values to hide the fixed number of samples\n    float offset = rand(vTextureCoord, 0.0);\n\n    float total = 0.0;\n    vec4 color = vec4(0.0);\n\n    dir *= strength;\n\n    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {\n        float percent = (t + offset) / MAX_KERNEL_SIZE;\n        float weight = 4.0 * (percent - percent * percent);\n        vec2 p = vTextureCoord + dir * percent;\n        vec4 sample = texture2D(uSampler, p);\n\n        // switch to pre-multiplied alpha to correctly blur transparent images\n        // sample.rgb *= sample.a;\n\n        color += sample * weight;\n        total += weight;\n\n        if (t > countLimit){\n            break;\n        }\n    }\n\n    color /= total;\n    // switch back from pre-multiplied alpha\n    // color.rgb /= color.a + 0.00001;\n\n    gl_FragColor = color;\n}\n".replace("${maxKernelSize}",o.toFixed(1)))||this,Object.assign(r,a),r}(function(t,e){function n(){this.constructor=t}Q(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),Object.defineProperty(e.prototype,"center",{get:function(){return this.uniforms.uCenter},set:function(t){this.uniforms.uCenter=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.uniforms.uStrength},set:function(t){this.uniforms.uStrength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"innerRadius",{get:function(){return this.uniforms.uInnerRadius},set:function(t){this.uniforms.uInnerRadius=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this.uniforms.uRadius},set:function(t){(t<0||t===1/0)&&(t=-1),this.uniforms.uRadius=t},enumerable:!1,configurable:!0}),e.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32}}(r.h)},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},function(t,e,n){var r=n(45).default,i=n(147),o=n(261).EPSILON;t.exports=function(t,e,n){var a=r(n,3),s=a[0],u=a[1],l=a[2],c=Math.hypot(s,u,l);if(Math.abs(c)<o)return i(t);s*=c=1/c,u*=c,l*=c;var h=Math.sin(e),f=Math.cos(e),p=1-f;return t[0]=s*s*p+f,t[1]=u*s*p+l*h,t[2]=l*s*p-u*h,t[3]=0,t[4]=s*u*p-l*h,t[5]=u*u*p+f,t[6]=l*u*p+s*h,t[7]=0,t[8]=s*l*p+u*h,t[9]=u*l*p-s*h,t[10]=l*l*p+f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.hypot(n,r,i)}},function(t,e,n){var r=n(82);t.exports=function(t,e,n){var i=r();return i[0]=t,i[1]=e,i[2]=n,i}},function(t,e){t.exports=function(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}},function(t,e){t.exports=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}},function(t,e){t.exports=function(t,e){return t[0]=Math.cos(e),t[1]=Math.sin(e),t}},function(t,e){t.exports=function(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.cos(r),s=Math.sin(r);return t[0]=i*a-o*s+n[0],t[1]=i*s+o*a+n[1],t}},function(t,e,n){var r=n(86);t.exports=function(t){var e=r();return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}},function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}},function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}},function(t,e,n){var r=n(86);t.exports=function(t,e,n,i){var o=r();return o[0]=t,o[1]=e,o[2]=n,o[3]=i,o}},function(t,e,n){var r=n(11);t.exports=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o=n.length,a=r.create(),s=r.create(),u=function(t){var e=n[t],i=n[(t+1)%o],u=n[(t+2)%o];return r.subtract(a,i,e),r.subtract(s,u,e),r.cross(a,a,s),r.normalize(a,a),a};return t[0]=0,t[1]=0,t[2]=0,3===o?r.copy(t,u(0)):(n.forEach((function(e,n){r.add(t,t,u(n))})),r.normalize(t,t)),t[3]=r.dot(t,n[0]),t}},function(t,e){t.exports=function(t){return"(".concat(t[0].toFixed(9),", ").concat(t[1].toFixed(9),", ").concat(t[2].toFixed(9),", ").concat(t[3].toFixed(9),")")}},function(t,e,n){var r=n(68).default,i=n(41);t.exports=function(t){return t.plane||(t.plane=i.fromPoints.apply(i,[i.create()].concat(r(t.vertices)))),t.plane}},function(t,e,n){var r=n(11);t.exports=function(t){for(var e=t.vertices,n=e.length,i=0===n?r.create():r.clone(e[0]),o=r.clone(i),a=1;a<n;a++)r.min(i,i,e[a]),r.max(o,o,e[a]);return[i,o]}},function(t,e,n){var r=n(29).EPS,i=n(18),o=n(112);t.exports=function(t){if(t.isClosed)return t;var e=o(t);if(e.isClosed=!0,e.points.length>1)for(var n=e.points,a=n[0],s=n[n.length-1];i.distance(a,s)<r*r&&(n.pop(),1!==n.length);)s=n[n.length-1];return e}},function(t,e,n){var r=n(88),i=n(46);t.exports=function(t,e){if(e.isClosed)throw new Error("cannot append points to a closed path");var n=i(e);return n=n.concat(t),r({},n)}},function(t,e){t.exports=function(t,e,n,r){if(!(t[0]===e[0]&&t[1]===e[1]||n[0]===r[0]&&n[1]===r[1])){var i=(r[1]-n[1])*(e[0]-t[0])-(r[0]-n[0])*(e[1]-t[1]);if(!(Math.abs(i)<Number.MIN_VALUE)){var o=((r[0]-n[0])*(t[1]-n[1])-(r[1]-n[1])*(t[0]-n[0]))/i,a=((e[0]-t[0])*(t[1]-n[1])-(e[1]-t[1])*(t[0]-n[0]))/i;if(!(o<0||o>1||a<0||a>1))return[t[0]+o*(e[0]-t[0]),t[1]+o*(e[1]-t[1])]}}}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},function(t,e,n){var r=n(18);t.exports=function(t,e,n){var i=r.subtract(r.create(),n,e);r.normal(i,i),r.normalize(i,i);var o=r.dot(e,i);return t[0]=i[0],t[1]=i[1],t[2]=o,t}},function(t,e,n){var r=n(115);t.exports=function(t,e,n){var i=r();return i[0]=t,i[1]=e,i[2]=n,i}},function(t,e){var n=1e-13;t.exports=function(t,e){return Math.abs(t[0]-e[0])<=n&&Math.abs(t[1]-e[1])<=n&&Math.abs(t[2]-e[2])<=n}},function(t,e){t.exports=function(t,e,n){var r,i=n-t[1],o=e[1]-t[1];return o<0&&(i=-i,o=-o),r=i<=0?0:i>=o?1:o<1e-10?.5:i/o,t[0]+r*(e[0]-t[0])}},function(t,e,n){var r=n(14),i=n(16),o=n(47),a=n(119),s=n(120),u=n(121);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var l=(e=r(e)).map((function(t){return s({z0:-1,z1:1},t)})),c=u(l),h=o(c);return a(h,i.toPolygons(c))}},function(t,e,n){var r=n(91);t.exports=function(t){return r(t.vertices)}},function(t,e,n){var r=n(181);t.exports=function(t){var e=t.vertices.slice().reverse();return r(e)}},function(t,e){t.exports=function(t){return(void 0===t||t.length<3)&&(t=[]),{vertices:t}}},function(t,e,n){var r=n(29).EPS;t.exports=function(t,e){for(var n=0,i=0;i<e;i++)n+=t[1][i]-t[0][i];return r*n/e}},function(t,e,n){t.exports={areAllShapesTheSameType:n(70),degToRad:n(395),flatten:n(14),fnNumberSort:n(184),insertSorted:n(396),radiusToSegments:n(397),radToDeg:n(398)}},function(t,e){t.exports=function(t,e){return t-e}},function(t,e,n){var r=n(16),i=n(122),o=n(123).Tree,a=function(t,e){var n=r.toPolygons(t);return n=n.concat(r.toPolygons(e)),r.create(n)};t.exports=function(t,e){if(!i(t,e))return a(t,e);var n=new o(r.toPolygons(t)),s=new o(r.toPolygons(e));n.clipTo(s,!1),s.clipTo(n),s.invert(),s.clipTo(n),s.invert();var u=n.allPolygons().concat(s.allPolygons());return r.create(u)}},function(t,e,n){var r=n(187),i=n(30).isGT;t.exports=function(t){var e=Object.assign({},{center:[0,0,0],radius:1,segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]},t),n=e.center,o=e.radius,a=e.segments,s=e.axes;if(!i(o,0))throw new Error("radius must be greater than zero");return r({center:n,radius:o=[o,o,o],segments:a,axes:s})}},function(t,e,n){var r=n(11),i=n(16),o=n(19),a=n(30),s=a.isGTE,u=a.isNumberArray;t.exports=function(t){var e=Object.assign({},{center:[0,0,0],radius:[1,1,1],segments:32,axes:[[1,0,0],[0,-1,0],[0,0,1]]},t),n=e.center,a=e.radius,l=e.segments,c=e.axes;if(!u(n,3))throw new Error("center must be an array of X, Y and Z values");if(!u(a,3))throw new Error("radius must be an array of X, Y and Z values");if(!a.every((function(t){return t>0})))throw new Error("radius values must be greater than zero");if(!s(l,4))throw new Error("segments must be four or more");for(var h,f=r.scale(r.create(),r.normalize(r.create(),c[0]),a[0]),p=r.scale(r.create(),r.normalize(r.create(),c[1]),a[1]),d=r.scale(r.create(),r.normalize(r.create(),c[2]),a[2]),v=Math.round(l/4),m=[],g=r.create(),y=r.create(),_=0;_<=l;_++){var b=2*Math.PI*_/l,x=r.add(r.create(),r.scale(g,f,Math.cos(b)),r.scale(y,p,Math.sin(b)));if(_>0)for(var w=void 0,E=void 0,T=0;T<=v;T++){var S=.5*Math.PI*T/v,A=Math.cos(S),O=Math.sin(S);if(T>0){var P=[],M=void 0;M=r.subtract(r.create(),r.scale(g,h,w),r.scale(y,d,E)),P.push(r.add(M,M,n)),M=r.subtract(r.create(),r.scale(g,x,w),r.scale(y,d,E)),P.push(r.add(M,M,n)),T<v&&(M=r.subtract(r.create(),r.scale(g,x,A),r.scale(y,d,O)),P.push(r.add(M,M,n))),M=r.subtract(r.create(),r.scale(g,h,A),r.scale(y,d,O)),P.push(r.add(M,M,n)),m.push(o.fromPoints(P)),P=[],M=r.add(r.create(),r.scale(g,h,w),r.scale(y,d,E)),P.push(r.add(r.create(),n,M)),M=r.add(M,r.scale(g,x,w),r.scale(y,d,E)),P.push(r.add(r.create(),n,M)),T<v&&(M=r.add(M,r.scale(g,x,A),r.scale(y,d,O)),P.push(r.add(r.create(),n,M))),M=r.add(M,r.scale(g,h,A),r.scale(y,d,O)),P.push(r.add(r.create(),n,M)),P.reverse(),m.push(o.fromPoints(P))}w=A,E=O}h=x}return i.create(m)}},function(t,e,n){var r=n(189),i=n(30).isGT;t.exports=function(t){var e={center:[0,0],radius:1,startAngle:0,endAngle:2*Math.PI,segments:32},n=Object.assign({},e,t),o=n.center,a=n.radius,s=n.startAngle,u=n.endAngle,l=n.segments;if(!i(a,0))throw new Error("radius must be greater than zero");return r({center:o,radius:a=[a,a],startAngle:s,endAngle:u,segments:l})}},function(t,e,n){var r=n(29).EPS,i=n(18),o=n(12),a=n(30),s=a.isGTE,u=a.isNumberArray;t.exports=function(t){var e={center:[0,0],radius:[1,1],startAngle:0,endAngle:2*Math.PI,segments:32},n=Object.assign({},e,t),a=n.center,l=n.radius,c=n.startAngle,h=n.endAngle,f=n.segments;if(!u(a,2))throw new Error("center must be an array of X and Y values");if(!u(l,2))throw new Error("radius must be an array of X and Y values");if(!l.every((function(t){return t>0})))throw new Error("radius values must be greater than zero");if(!s(c,0))throw new Error("startAngle must be positive");if(!s(h,0))throw new Error("endAngle must be positive");if(!s(f,3))throw new Error("segments must be three or more");c%=2*Math.PI,h%=2*Math.PI;var p=2*Math.PI;c<h&&(p=h-c),c>h&&(p=h+(2*Math.PI-c));var d=Math.min(l[0],l[1]);if(p<Math.acos((d*d+d*d-r*r)/(2*d*d)))throw new Error("startAngle and endAngle do not define a significant rotation");f=Math.floor(f*(p/(2*Math.PI)));var v=i.clone(a),m=p/f,g=[];f=p<2*Math.PI?f+1:f;for(var y=0;y<f;y++){var _=m*y+c,b=i.fromValues(l[0]*Math.cos(_),l[1]*Math.sin(_));i.add(b,v,b),g.push(b)}return p<2*Math.PI&&g.push(v),o.fromPoints(g)}},function(t,e,n){var r=n(16),i=n(19),o=n(30).isNumberArray;t.exports=function(t){var e=Object.assign({},{center:[0,0,0],size:[2,2,2]},t),n=e.center,a=e.size;if(!o(n,3))throw new Error("center must be an array of X, Y and Z values");if(!o(a,3))throw new Error("size must be an array of width, depth and height values");if(!a.every((function(t){return t>0})))throw new Error("size values must be greater than zero");return r.create([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map((function(t){var e=t[0].map((function(t){return[n[0]+a[0]/2*(2*!!(1&t)-1),n[1]+a[1]/2*(2*!!(2&t)-1),n[2]+a[2]/2*(2*!!(4&t)-1)]}));return i.fromPoints(e)})))}},function(t,e,n){var r=n(29).EPS,i=n(11),o=n(16),a=n(19),s=n(30),u=s.isGT,l=s.isGTE,c=s.isNumberArray;t.exports=function(t){var e={center:[0,0,0],height:2,startRadius:[1,1],startAngle:0,endRadius:[1,1],endAngle:2*Math.PI,segments:32},n=Object.assign({},e,t),s=n.center,h=n.height,f=n.startRadius,p=n.startAngle,d=n.endRadius,v=n.endAngle,m=n.segments;if(!c(s,3))throw new Error("center must be an array of X, Y and Z values");if(!u(h,0))throw new Error("height must be greater then zero");if(!c(f,2))throw new Error("startRadius must be an array of X and Y values");if(!f.every((function(t){return t>0})))throw new Error("startRadius values must be greater than zero");if(!c(d,2))throw new Error("endRadius must be an array of X and Y values");if(!d.every((function(t){return t>0})))throw new Error("endRadius values must be greater than zero");if(!l(p,0))throw new Error("startAngle must be positive");if(!l(v,0))throw new Error("endAngle must be positive");if(!l(m,4))throw new Error("segments must be four or more");p%=2*Math.PI,v%=2*Math.PI;var g=2*Math.PI;p<v&&(g=v-p),p>v&&(g=v+(2*Math.PI-p));var y=Math.min(f[0],f[1],d[0],d[1]),_=Math.acos((y*y+y*y-r*r)/(2*y*y));if(g<_)throw new Error("startAngle and endAngle do not define a significant rotation");for(var b=Math.floor(m*(g/(2*Math.PI))),x=i.fromValues(0,0,-h/2),w=i.fromValues(0,0,h/2),E=i.subtract(i.create(),w,x),T=i.fromValues(1,0,0),S=i.fromValues(0,1,0),A=i.create(),O=i.create(),P=i.create(),M=function(t,e,n){var r=e*g+p;return i.scale(A,T,n[0]*Math.cos(r)),i.scale(O,S,n[1]*Math.sin(r)),i.add(A,A,O),i.scale(P,E,t),i.add(P,P,x),i.add(i.create(),A,P)},C=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map((function(t){return i.add(i.create(),t,s)}));return a.fromPoints(r)},R=[],I=0;I<b;I++){var N=I/b,k=(I+1)/b;d[0]===f[0]&&d[1]===f[1]?(R.push(C(x,M(0,k,d),M(0,N,d))),R.push(C(M(0,k,d),M(1,k,d),M(1,N,d),M(0,N,d))),R.push(C(w,M(1,N,d),M(1,k,d)))):(f[0]>0&&(R.push(C(x,M(0,k,f),M(0,N,f))),R.push(C(M(0,N,f),M(0,k,f),M(1,N,d)))),d[0]>0&&(R.push(C(w,M(1,N,d),M(1,k,d))),R.push(C(M(1,N,d),M(0,k,f),M(1,k,d)))))}return g<2*Math.PI&&(R.push(C(x,M(0,0,f),w)),R.push(C(M(0,0,f),M(1,0,d),w)),R.push(C(x,w,M(0,1,f))),R.push(C(M(0,1,f),w,M(1,1,d)))),o.create(R)}},function(t,e,n){var r=n(16),i=n(19),o=n(30).isNumberArray;t.exports=function(t){var e={points:[],faces:[],colors:void 0,orientation:"outward"},n=Object.assign({},e,t),a=n.points,s=n.faces,u=n.colors,l=n.orientation;if(!Array.isArray(a)||!Array.isArray(s))throw new Error("points and faces must be arrays");if(a.length<3)throw new Error("three or more points are required");if(s.length<1)throw new Error("one or more faces are required");if(u){if(!Array.isArray(u))throw new Error("colors must be an array");if(u.length!==s.length)throw new Error("faces and colors must have the same length")}a.forEach((function(t,e){if(!o(t,3))throw new Error("point ".concat(e," must be an array of X, Y, Z values"))})),s.forEach((function(t,e){if(t.length<3)throw new Error("face ".concat(e," must contain 3 or more indexes"));if(!o(t,t.length))throw new Error("face ".concat(e," must be an array of numbers"))})),"outward"!==l&&s.forEach((function(t){return t.reverse()}));var c=s.map((function(t,e){var n=i.fromPoints(t.map((function(t){return a[t]})));return u&&u[e]&&(n.color=u[e]),n}));return r.create(c)}},function(t,e,n){var r=n(18),i=n(12),o=n(30).isNumberArray;t.exports=function(t){var e=Object.assign({},{center:[0,0],size:[2,2]},t),n=e.center,a=e.size;if(!o(n,2))throw new Error("center must be an array of X and Y values");if(!o(a,2))throw new Error("size must be an array of X and Y values");if(!a.every((function(t){return t>0})))throw new Error("size values must be greater than zero");var s=[a[0]/2,a[1]/2],u=[s[0],-s[1]],l=[r.subtract(r.create(),n,s),r.add(r.create(),n,u),r.add(r.create(),n,s),r.subtract(r.create(),n,u)];return i.fromPoints(l)}},function(t,e,n){var r=n(26),i=n(71).mirrorX,o=n(12),a=n(72),s=n(125);t.exports=function(t,e){var n={segments:12,startAngle:0,angle:2*Math.PI,overflow:"cap"},u=Object.assign({},n,t),l=u.segments,c=u.startAngle,h=u.angle,f=u.overflow;if(l<3)throw new Error("segments must be greater then 3");c=Math.abs(c)>2*Math.PI?c%(2*Math.PI):c,h=Math.abs(h)>2*Math.PI?h%(2*Math.PI):h;var p=c+h;if((p=Math.abs(p)>2*Math.PI?p%(2*Math.PI):p)<c){var d=c;c=p,p=d}var v=p-c;if(v<=0&&(v=2*Math.PI),Math.abs(v)<2*Math.PI){var m=2*Math.PI/l;l=Math.floor(Math.abs(v)/m),Math.abs(v)>l*m&&l++}var g=o.toSides(e);if(0===g.length)throw new Error("the given geometry cannot be empty");var y=g.filter((function(t){return t[0][0]<0})),_=g.filter((function(t){return t[0][0]>=0}));y.length>0&&_.length>0&&"cap"===f&&(y.length>_.length?(g=g.map((function(t){var e=t[0],n=t[1];return[e=[Math.min(e[0],0),e[1]],n=[Math.min(n[0],0),n[1]]]})),e=o.reverse(o.create(g)),e=i(e)):_.length>=y.length&&(g=g.map((function(t){var e=t[0],n=t[1];return[e=[Math.max(e[0],0),e[1]],n=[Math.max(n[0],0),n[1]]]})),e=o.create(g)));var b=v/l,x=Math.abs(v)<2*Math.PI,w=a.fromSides(o.toSides(e));a.reverse(w,w);var E=r.create();return s(t={numberOfSlices:l+1,capStart:x,capEnd:x,close:!x,callback:function(t,e,n){var i=b*e+c;return r.multiply(E,r.fromZRotation(E,i),r.fromXRotation(r.create(),Math.PI/2)),a.transform(E,n)}},w)}},function(t,e,n){var r=n(41),i=n(11);t.exports=function(t){var e=t.edges;if(e.length<3)throw new Error("slices must have 3 or more edges to calculate a plane");var n,o=e.reduce((function(t,e){return i.add(i.create(),t,e[0])}),i.create());i.scale(o,o,1/e.length);var a=0;e.forEach((function(t){if(!i.equals(t[0],t[1])){var e=i.squaredDistance(o,t[0]);e>a&&(n=t,a=e)}}));var s=e.find((function(t){return i.equals(t[1],n[0])}));return r.fromPoints(r.create(),s[0],n[0],n[1])}},function(t,e,n){var r=n(197),i=r.Node,o=r.insertNode,a=r.removeNode,s=n(124).area,u=function(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!p(r,r.next)&&0!==s(r.prev,r,r.next))r=r.next;else{if(a(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e},l=function(t,e){return s(t.prev,t,t.next)<0?s(t,e,t.next)>=0&&s(t,t.prev,e)>=0:s(t,e,t.prev)<0||s(t,t.next,e)<0},c=function(t,e,n,r){var i=Math.sign(s(t,e,n)),o=Math.sign(s(t,e,r)),a=Math.sign(s(n,r,t)),u=Math.sign(s(n,r,e));return i!==o&&a!==u||(!(0!==i||!h(t,n,e))||(!(0!==o||!h(t,r,e))||(!(0!==a||!h(n,t,r))||!(0!==u||!h(n,e,r)))))},h=function(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)},f=function(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i},p=function(t,e){return t.x===e.x&&t.y===e.y};t.exports={cureLocalIntersections:function(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!p(i,o)&&c(i,r,r.next,o)&&l(i,o)&&l(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),a(r),a(r.next),r=t=o),r=r.next}while(r!==t);return u(r)},filterPoints:u,isValidDiagonal:function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&c(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(l(t,e)&&l(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(s(t.prev,t,e.prev)||s(t,e.prev,e))||p(t,e)&&s(t.prev,t,t.next)>0&&s(e.prev,e,e.next)>0)},linkedPolygon:function(t,e,n,r,i){var s;if(i===f(t,e,n,r)>0)for(var u=e;u<n;u+=r)s=o(u,t[u],t[u+1],s);else for(var l=n-r;l>=e;l-=r)s=o(l,t[l],t[l+1],s);return s&&p(s,s.next)&&(a(s),s=s.next),s},locallyInside:l,splitPolygon:function(t,e){var n=new i(t.i,t.x,t.y),r=new i(e.i,e.x,e.y),o=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=o,o.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}}},function(t,e,n){var r=n(38).default,i=n(37).default,o=n(432),a=r((function t(e,n,r){"use strict";i(this,t),this.i=e,this.x=n,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}));t.exports={Node:a,insertNode:function(t,e,n,r){var i=new a(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i},removeNode:function(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)},sortLinked:o}},function(t,e){t.exports={black:[0,0,0],silver:[192/255,192/255,192/255],gray:[128/255,128/255,128/255],white:[1,1,1],maroon:[128/255,0,0],red:[1,0,0],purple:[128/255,0,128/255],fuchsia:[1,0,1],green:[0,128/255,0],lime:[0,1,0],olive:[128/255,128/255,0],yellow:[1,1,0],navy:[0,0,128/255],blue:[0,0,1],teal:[0,128/255,128/255],aqua:[0,1,1],aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],blanchedalmond:[1,235/255,205/255],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[.6,50/255,.8],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,.6],lightslategrey:[119/255,136/255,.6],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],mediumaquamarine:[.4,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,.8],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],oldlace:[253/255,245/255,230/255],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],whitesmoke:[245/255,245/255,245/255],yellowgreen:[154/255,205/255,50/255]}},function(t,e){t.exports=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}},function(t,e,n){t.exports={clone:n(467),closestPoint:n(202),copy:n(468),create:n(201),direction:n(469),distanceToPoint:n(470),equals:n(471),fromPlanes:n(472),fromPointAndDirection:n(74),fromPoints:n(473),intersectPointOfLineAndPlane:n(474),origin:n(475),reverse:n(476),toString:n(477),transform:n(478)}},function(t,e,n){var r=n(11);t.exports=function(){return[r.fromValues(0,0,0),r.fromValues(0,0,1)]}},function(t,e,n){var r=n(11);t.exports=function(t,e){var n=t[0],i=t[1],o=r.dot(r.subtract(r.create(),e,n),i)/r.dot(i,i),a=r.scale(r.create(),i,o);return r.add(a,a,n),a}},function(t,e,n){var r=n(14),i=n(12),o=n(16),a=n(17),s=n(19),u=new WeakMap,l=function(t){var e=u.get(t);return e||(e=i.toSides(t).reduce((function(t,e){return t+(e[0][0]*e[1][1]-e[0][1]*e[1][0])}),0),e*=.5,u.set(t,e),e)},c=function(t){var e=u.get(t);return e||(e=o.toPolygons(t).reduce((function(t,e){return t+s.measureArea(e)}),0),u.set(t,e),e)};t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===(e=r(e)).length)throw new Error("wrong number of arguments");var s=e.map((function(t){return a.isA(t)?0:i.isA(t)?l(t):o.isA(t)?c(t):0}));return 1===s.length?s[0]:s}},function(t,e,n){var r=n(14),i=n(12),o=n(16),a=n(17),s=n(19),u=new WeakMap,l=function(t){var e=u.get(t);return e||(e=o.toPolygons(t).reduce((function(t,e){return t+s.measureSignedVolume(e)}),0),u.set(t,e),e)};t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===(e=r(e)).length)throw new Error("wrong number of arguments");var s=e.map((function(t){return a.isA(t)||i.isA(t)?0:o.isA(t)?l(t):0}));return 1===s.length?s[0]:s}},function(t,e,n){var r=n(206);t.exports=function(t,e){var n=r(t,e),i=n.xOffset,o=n.yOffset,a=n.input,s=n.font,u=n.height,l=n.extrudeOffset,c=a.charCodeAt(0);c&&s[c]||(c=63);for(var h=[].concat(s[c]),f=(u-l)/s.height,p=l/2,d=h.shift()*f,v=[],m=[],g=0,y=h.length;g<y;g+=2){var _=f*h[g]+i,b=f*h[g+1]+o+p;void 0===h[g]?(v.push(m),m=[],g--):m.push([_,b])}return m.length&&v.push(m),{width:d,height:u,segments:v}}},function(t,e,n){var r={xOffset:0,yOffset:0,input:"?",align:"left",font:n(492),height:14,lineSpacing:2.142857142857143,letterSpacing:1,extrudeOffset:0};t.exports=function(t,e){e||"string"!==typeof t||(t={input:t}),t=t||{};var n=Object.assign({},r,t);return n.input=e||n.input,n}},function(t,e,n){var r=n(14),i=n(92),o=n(497);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=(e=r(e)).shift();return e.forEach((function(t){a=o(a,t)})),a=i(a)}},function(t,e,n){var r=n(14),i=n(92),o=n(502);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=(e=r(e)).shift();return e.forEach((function(t){a=o(a,t)})),a=i(a)}},function(t,e,n){var r=n(14),i=n(70),o=n(12),a=n(16),s=n(17),u=n(510),l=n(511),c=n(512);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===(e=r(e)).length)throw new Error("wrong number of arguments");if(!i(e))throw new Error("only hulls of the same type are supported");var h=e[0];return s.isA(h)?u(e):o.isA(h)?l(e):a.isA(h)?c(e):h}},function(t,e,n){var r=n(18);t.exports=function(t){var e=function(t){if(t.length<3)return t;var e=0;t.forEach((function(n,r){var i=t[e];n[1]===i[1]?n[0]<i[0]&&(e=r):n[1]<i[1]&&(e=r)}));for(var n,i,o=[],a=0,s=0,u=0;u<t.length;u++)u!==e&&(n=t[e],i=t[u],(a=Math.atan2(i[1]-n[1],i[0]-n[0]))<0&&(a+=Math.PI),s=r.squaredDistance(t[e],t[u]),o.push({index:u,angle:a,distance:s}));o.sort((function(t,e){return r=e,(n=t).angle<r.angle?-1:n.angle>r.angle?1:n.distance<r.distance?-1:n.distance>r.distance?1:0;var n,r}));for(var l=new Array(t.length+1),c=2,h=0;h<t.length;h++)h!==e&&(l[c]=o[c-2].index,c++);l[0]=l[t.length],l[1]=e;for(var f,p,d,v,m=2,g=3;g<=t.length;g++){for(;p=l[m-1],d=l[m],v=l[g],(t[d][0]-t[p][0])*(t[v][1]-t[p][1])-(t[d][1]-t[p][1])*(t[v][0]-t[p][0])<Number.EPSILON;)m--;m++,f=l[g],l[g]=l[m],l[m]=f}for(var y=new Array(m),_=0;_<m;_++)y[_]=l[_+1];return y}(t),n=[];return Array.isArray(e)&&(n=e.map((function(e){return t[e]}))),n}},function(t,e,n){var r=n(11),i=n(19);t.exports=function(t,e){var n=e.map((function(e){for(var n=e.vertices.map((function(e){return r.snap(r.create(),e,t)})),o=[],a=0;a<n.length;a++){var s=(a+1)%n.length;r.equals(n[a],n[s])||o.push(n[a])}var u=i.create(o);return e.color&&(u.color=e.color),u})),o=t*t*Math.sqrt(3)/4;return n=n.filter((function(t){return function(t,e){var n=Math.abs(i.measureArea(e));return Number.isFinite(n)&&n>t}(o,t)})),n}},function(t,e){t.exports=function(t,e){return t===e||t!==t&&e!==e}},function(t,e,n){var r=n(98),i=n(75);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(53))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},function(t,e,n){var r=n(217),i=n(212),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(566);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(568),i=n(569),o=n(130),a=n(219),s=n(572),u=n(573),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),c=!n&&i(t),h=!n&&!c&&a(t),f=!n&&!c&&!h&&u(t),p=n||c||h||f,d=p?r(t.length,String):[],v=d.length;for(var m in t)!e&&!l.call(t,m)||p&&("length"==m||h&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||d.push(m);return d}},function(t,e,n){(function(t){var r=n(42),i=n(571),o=e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,n(39)(t))},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(213),i=n(220);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(225),i=n(226),o=n(135),a=n(223),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(221)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(225),i=n(130);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,n,r,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||t,o),u=i?i+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function u(t,e){0===--t._eventsCount?t._events=new o:delete t._events[e]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),l.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},l.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},l.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},l.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,r),!0;case 5:return c.fn.call(c.context,e,n,r,o),!0;case 6:return c.fn.call(c.context,e,n,r,o,a),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var f,p=c.length;for(l=0;l<p;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,r);break;default:if(!u)for(f=1,u=new Array(h-1);f<h;f++)u[f-1]=arguments[f];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},l.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},l.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||u(this,o);else{for(var s=0,l=[],c=a.length;s<c;s++)(a[s].fn!==e||r&&!a[s].once||n&&a[s].context!==n)&&l.push(a[s]);l.length?this._events[o]=1===l.length?l[0]:l:u(this,o)}return this},l.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&u(this,e)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,t.exports=l},function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r,s,u,l,c,p,d,m=e&&e.length,g=m?e[0]*n:t.length,y=i(t,0,g,n,!0),_=[];if(!y||y.next===y.prev)return _;if(m&&(y=function(t,e,n,r){var a,s,u,l=[];for(a=0,s=e.length;a<s;a++)(u=i(t,e[a]*r,a<s-1?e[a+1]*r:t.length,r,!1))===u.next&&(u.steiner=!0),l.push(v(u));for(l.sort(h),a=0;a<l.length;a++)n=o(n=f(l[a],n),n.next);return n}(t,e,y,n)),t.length>80*n){r=u=t[0],s=l=t[1];for(var b=n;b<g;b+=n)(c=t[b])<r&&(r=c),(p=t[b+1])<s&&(s=p),c>u&&(u=c),p>l&&(l=p);d=0!==(d=Math.max(u-r,l-s))?1/d:0}return a(y,_,n,r,s,d),_}function i(t,e,n,r,i){var o,a;if(i===P(t,e,n,r)>0)for(o=e;o<n;o+=r)a=S(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=S(o,t[o],t[o+1],a);return a&&_(a,a.next)&&(A(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!_(r,r.next)&&0!==y(r.prev,r,r.next))r=r.next;else{if(A(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function a(t,e,n,r,i,h,f){if(t){!f&&h&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=d(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(a>1)}(i)}(t,r,i,h);for(var p,v,m=t;t.prev!==t.next;)if(p=t.prev,v=t.next,h?u(t,r,i,h):s(t))e.push(p.i/n),e.push(t.i/n),e.push(v.i/n),A(t),t=v.next,m=v.next;else if((t=v)===m){f?1===f?a(t=l(o(t),e,n),e,n,r,i,h,2):2===f&&c(t,e,n,r,i,h):a(o(t),e,n,r,i,h,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(y(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(m(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&y(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,n,r){var i=t.prev,o=t,a=t.next;if(y(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=d(s,u,e,n,r),f=d(l,c,e,n,r),p=t.prevZ,v=t.nextZ;p&&p.z>=h&&v&&v.z<=f;){if(p!==t.prev&&p!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,v!==t.prev&&v!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&y(v.prev,v,v.next)>=0)return!1;v=v.nextZ}for(;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&y(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;v&&v.z<=f;){if(v!==t.prev&&v!==t.next&&m(i.x,i.y,o.x,o.y,a.x,a.y,v.x,v.y)&&y(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function l(t,e,n){var r=t;do{var i=r.prev,a=r.next.next;!_(i,a)&&b(i,r,r.next,a)&&E(i,a)&&E(a,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(a.i/n),A(r),A(r.next),r=t=a),r=r.next}while(r!==t);return o(r)}function c(t,e,n,r,i,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&g(u,l)){var c=T(u,l);return u=o(u,u.next),c=o(c,c.next),a(u,e,n,r,i,s),void a(c,e,n,r,i,s)}l=l.next}u=u.next}while(u!==t)}function h(t,e){return t.x-e.x}function f(t,e){var n=function(t,e){var n,r=e,i=t.x,o=t.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===a)return n;var u,l=n,c=n.x,h=n.y,f=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&m(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),E(r,t)&&(u<f||u===f&&(r.x>n.x||r.x===n.x&&p(n,r)))&&(n=r,f=u)),r=r.next}while(r!==l);return n}(t,e);if(!n)return e;var r=T(n,t),i=o(n,n.next);return o(r,r.next),e===n?i:e}function p(t,e){return y(t.prev,t,e.prev)<0&&y(e.next,t,t.next)<0}function d(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function v(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function m(t,e,n,r,i,o,a,s){return(i-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(r-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&b(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(E(t,e)&&E(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(y(t.prev,t,e.prev)||y(t,e.prev,e))||_(t,e)&&y(t.prev,t,t.next)>0&&y(e.prev,e,e.next)>0)}function y(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function _(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,n,r){var i=w(y(t,e,n)),o=w(y(t,e,r)),a=w(y(n,r,t)),s=w(y(n,r,e));return i!==o&&a!==s||(!(0!==i||!x(t,n,e))||(!(0!==o||!x(t,r,e))||(!(0!==a||!x(n,t,r))||!(0!==s||!x(n,e,r)))))}function x(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function w(t){return t>0?1:t<0?-1:0}function E(t,e){return y(t.prev,t,t.next)<0?y(t,e,t.next)>=0&&y(t,t.prev,e)>=0:y(t,e,t.prev)<0||y(t,t.next,e)<0}function T(t,e){var n=new O(t.i,t.x,t.y),r=new O(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function S(t,e,n,r){var i=new O(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function A(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function O(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(t,e,n,r){for(var i=0,o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}t.exports=r,t.exports.default=r,r.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,a=Math.abs(P(t,0,o,n));if(i)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,c=s<u-1?e[s+1]*n:t.length;a-=Math.abs(P(t,l,c,n))}var h=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,p=r[s+1]*n,d=r[s+2]*n;h+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[i][o][a]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(247)},function(t,e,n){"use strict";var r=n(440),i=n(441),o=n(442),a=n(443);function s(t,e){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function u(t,e,n){var r=[e[0]-t[0],e[1]-t[1]],i=[n[0]-t[0],n[1]-t[1]],o=s(t,e),a=s(t,n);return(r[0]*i[0]+r[1]*i[1])/Math.sqrt(o*a)}function l(t,e){for(var n=0;n<e.length-1;n++){var i=[e[n],e[n+1]];if(!(t[0][0]===i[0][0]&&t[0][1]===i[0][1]||t[0][0]===i[1][0]&&t[0][1]===i[1][1])&&r(t,i))return!0}return!1}function c(t){return[Math.min(t[0][0],t[1][0]),Math.min(t[0][1],t[1][1]),Math.max(t[0][0],t[1][0]),Math.max(t[0][1],t[1][1])]}function h(t,e,n){for(var r,i,o=null,a=p,s=p,c=0;c<e.length;c++)r=u(t[0],t[1],e[c]),i=u(t[1],t[0],e[c]),r>a&&i>s&&!l([t[0],e[c]],n)&&!l([t[1],e[c]],n)&&(a=r,s=i,o=e[c]);return o}function f(t,e,n,r,i){for(var o=!1,a=0;a<t.length-1;a++){var u=[t[a],t[a+1]],l=u[0][0]+","+u[0][1]+","+u[1][0]+","+u[1][1];if(!(s(u[0],u[1])<e||i.has(l))){var p=0,d=c(u),v=void 0,m=void 0,g=void 0;do{v=(d=r.extendBbox(d,p))[2]-d[0],m=d[3]-d[1],g=h(u,r.rangePoints(d),t),p++}while(null===g&&(n[0]>v||n[1]>m));v>=n[0]&&m>=n[1]&&i.add(l),null!==g&&(t.splice(a+1,0,g),r.removePoint(g),o=!0)}}return o?f(t,e,n,r,i):t}var p=Math.cos(90/(180/Math.PI)),d=.6;t.exports=function(t,e,n){var r=e||20,s=function(t){for(var e=[t[0]],n=t[0],r=1;r<t.length;r++){var i=t[r];n[0]===i[0]&&n[1]===i[1]||e.push(i),n=i}return e}(function(t){return t.sort((function(t,e){return t[0]-e[0]||t[1]-e[1]}))}(o.toXy(t,n)));if(s.length<4)return s.concat([s[0]]);var u=function(t){for(var e=1/0,n=1/0,r=-1/0,i=-1/0,o=t.length-1;o>=0;o--)t[o][0]<e&&(e=t[o][0]),t[o][1]<n&&(n=t[o][1]),t[o][0]>r&&(r=t[o][0]),t[o][1]>i&&(i=t[o][1]);return[r-e,i-n]}(s),l=[u[0]*d,u[1]*d],c=a(s),h=s.filter((function(t){return c.indexOf(t)<0})),p=Math.ceil(1/(s.length/(u[0]*u[1]))),v=f(c,Math.pow(r,2),l,i(h,p),new Set);return n?o.fromXy(v,n):v}},function(t,e,n){"use strict";(function(t){var r=n(236),i=n(237),o=setTimeout;function a(t){return Boolean(t&&"undefined"!==typeof t.length)}function s(){}function u(t){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function l(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,u._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void h(e.promise,i)}c(e.promise,r)}else(1===t._state?c:h)(e.promise,t._value)}))):t._deferreds.push(e)}function c(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var n=e.then;if(e instanceof u)return t._state=3,t._value=e,void f(t);if("function"===typeof n)return void d((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,f(t)}catch(o){h(t,o)}var r,i}function h(t,e){t._state=2,t._value=e,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&u._immediateFn((function(){t._handled||u._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)l(t,t._deferreds[e]);t._deferreds=null}function p(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function d(t,e){var n=!1;try{t((function(t){n||(n=!0,c(e,t))}),(function(t){n||(n=!0,h(e,t))}))}catch(r){if(n)return;n=!0,h(e,r)}}u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){var n=new this.constructor(s);return l(this,new p(t,e,n)),n},u.prototype.finally=r.a,u.all=function(t){return new u((function(e,n){if(!a(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,(function(e){o(t,e)}),n)}r[t]=a,0===--i&&e(r)}catch(u){n(u)}}for(var s=0;s<r.length;s++)o(s,r[s])}))},u.allSettled=i.a,u.resolve=function(t){return t&&"object"===typeof t&&t.constructor===u?t:new u((function(e){e(t)}))},u.reject=function(t){return new u((function(e,n){n(t)}))},u.race=function(t){return new u((function(e,n){if(!a(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=t.length;r<i;r++)u.resolve(t[r]).then(e,n)}))},u._immediateFn="function"===typeof t&&function(e){t(e)}||function(t){o(t,0)},u._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.a=u}).call(this,n(605).setImmediate)},function(t,e,n){"use strict";e.a=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}},function(t,e,n){"use strict";e.a=function(t){return new this((function(e,n){if(!t||"undefined"===typeof t.length)return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,n){if(n&&("object"===typeof n||"function"===typeof n)){var a=n.then;if("function"===typeof a)return void a.call(n,(function(e){o(t,e)}),(function(n){r[t]={status:"rejected",reason:n},0===--i&&e(r)}))}r[t]={status:"fulfilled",value:n},0===--i&&e(r)}for(var a=0;a<r.length;a++)o(a,r[a])}))}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return K}));var r=n(23),i=n(20),o=n(27),a=n(22),s=n(8),u=n(9),l=n(6),c=n(7),h=n(2),f=n(15),p=n(24),d=function(){function t(e){Object(l.a)(this,t),this.parent=e,this.paused=!1}return Object(c.a)(t,[{key:"destroy",value:function(){}},{key:"down",value:function(t){return!1}},{key:"move",value:function(t){return!1}},{key:"up",value:function(t){return!1}},{key:"wheel",value:function(t){return!1}},{key:"update",value:function(t){}},{key:"resize",value:function(){}},{key:"reset",value:function(){}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1}}]),t}(),v="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{};var m=function(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===e||null===e)&&n.path)}},n.exports),n.exports}((function(t,e){(function(){var e;(function(e){t.exports=e})(e={linear:function(t,e,n,r){return n*t/r+e},easeInQuad:function(t,e,n,r){return n*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){return n*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){return n*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){return-n*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,n,r){return 0===t?e:n*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){return t===r?e+n:n*(1-Math.pow(2,-10*t/r))+e},easeInOutExpo:function(t,e,n,r){return(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,r){return-n*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){return n*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,r){var i,o,a;return a=1.70158,0===t||(t/=r),(o=0)||(o=.3*r),(i=n)<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)+e},easeOutElastic:function(t,e,n,r){var i,o,a;return a=1.70158,0===t||(t/=r),(o=0)||(o=.3*r),(i=n)<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+n+e},easeInOutElastic:function(t,e,n,r){var i,o,a;return a=1.70158,0===t||(t/=r/2),(o=0)||(o=r*(.3*1.5)),(i=n)<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+n+e},easeInBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*(t/=r)*t*((i+1)*t-i)+e},easeOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},easeInOutBack:function(t,e,n,r,i){return void 0===i&&(i=1.70158),(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},easeInBounce:function(t,n,r,i){return r-e.easeOutBounce(i-t,0,r,i)+n},easeOutBounce:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,n,r,i){return t<i/2?.5*e.easeInBounce(2*t,0,r,i)+n:.5*e.easeOutBounce(2*t-i,0,r,i)+.5*r+n}})}).call(v)}));function g(t,e){return t?"function"===typeof t?t:"string"===typeof t?m[t]:void 0:m[e]}var y={removeOnInterrupt:!1,ease:"linear",time:1e3},_=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l.a)(this,n),r=e.call(this,t),n.prototype.__init.call(Object(a.a)(r)),n.prototype.__init2.call(Object(a.a)(r)),n.prototype.__init3.call(Object(a.a)(r)),n.prototype.__init4.call(Object(a.a)(r)),n.prototype.__init5.call(Object(a.a)(r)),n.prototype.__init6.call(Object(a.a)(r)),n.prototype.__init7.call(Object(a.a)(r)),r.options=Object.assign({},y,i),r.options.ease=g(r.options.ease),r.setupPosition(),r.setupZoom(),r.time=0,r}return Object(c.a)(n,[{key:"__init",value:function(){this.startWidth=null}},{key:"__init2",value:function(){this.startHeight=null}},{key:"__init3",value:function(){this.deltaWidth=null}},{key:"__init4",value:function(){this.deltaHeight=null}},{key:"__init5",value:function(){this.width=null}},{key:"__init6",value:function(){this.height=null}},{key:"__init7",value:function(){this.time=0}},{key:"setupPosition",value:function(){"undefined"!==typeof this.options.position?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}},{key:"setupZoom",value:function(){this.width=null,this.height=null,"undefined"!==typeof this.options.scale?this.width=this.parent.screenWidth/this.options.scale:"undefined"!==typeof this.options.scaleX||"undefined"!==typeof this.options.scaleY?("undefined"!==typeof this.options.scaleX&&(this.width=this.parent.screenWidth/this.options.scaleX),"undefined"!==typeof this.options.scaleY&&(this.height=this.parent.screenHeight/this.options.scaleY)):("undefined"!==typeof this.options.width&&(this.width=this.options.width),"undefined"!==typeof this.options.height&&(this.height=this.options.height)),null!==this.width&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),null!==this.height&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}},{key:"down",value:function(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}},{key:"complete",value:function(){this.parent.plugins.remove("animate"),null!==this.width&&this.parent.fitWidth(this.width,this.keepCenter,null===this.height),null!==this.height&&this.parent.fitHeight(this.height,this.keepCenter,null===this.width),this.keepCenter||this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}},{key:"update",value:function(t){if(!this.paused)if(this.time+=t,this.time>=this.options.time)this.complete();else{var e=new h.g(this.parent.scale.x,this.parent.scale.y),n=this.options.ease(this.time,0,1,this.options.time);if(null!==this.width){var r=this.startWidth,i=this.deltaWidth;this.parent.fitWidth(r+i*n,this.keepCenter,null===this.height)}if(null!==this.height){var o=this.startHeight,a=this.deltaHeight;this.parent.fitHeight(o+a*n,this.keepCenter,null===this.width)}if(null===this.width?this.parent.scale.x=this.parent.scale.y:null===this.height&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){var s=this.startX,u=this.startY,l=this.deltaX,c=this.deltaY,f=new h.g(this.parent.x,this.parent.y);this.parent.moveCenter(s+l*n,u+c*n),this.parent.emit("moved",{viewport:this.parent,original:f,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:e,type:"animate"})}}}]),n}(d);function b(t){for(var e=void 0,n=t[0],r=1;r<t.length;){var i=t[r],o=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o((function(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=n).call.apply(t,[e].concat(i))})),e=void 0)}return n}var x={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null},w=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(l.a)(this,n),(r=e.call(this,t)).options=Object.assign({},x,i),r.ease=g(r.options.ease,"easeInOutSine"),r.options.sides?"all"===r.options.sides?r.top=r.bottom=r.left=r.right=!0:"horizontal"===r.options.sides?(r.right=r.left=!0,r.top=r.bottom=!1):"vertical"===r.options.sides?(r.left=r.right=!1,r.top=r.bottom=!0):(r.top=-1!==r.options.sides.indexOf("top"),r.bottom=-1!==r.options.sides.indexOf("bottom"),r.left=-1!==r.options.sides.indexOf("left"),r.right=-1!==r.options.sides.indexOf("right")):r.left=r.top=r.right=r.bottom=!1;var o=r.options.underflow.toLowerCase();return"center"===o?(r.underflowX=0,r.underflowY=0):(r.underflowX=-1!==o.indexOf("left")?-1:-1!==o.indexOf("right")?1:0,r.underflowY=-1!==o.indexOf("top")?-1:-1!==o.indexOf("bottom")?1:0),r.reset(),r}return Object(c.a)(n,[{key:"isActive",value:function(){return null!==this.toX||null!==this.toY}},{key:"down",value:function(){return this.toX=this.toY=null,!1}},{key:"up",value:function(){return this.bounce(),!1}},{key:"update",value:function(t){if(!this.paused){if(this.bounce(),this.toX){var e=this.toX;e.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),e.time>=this.options.time?(this.parent.x=e.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(e.time,e.start,e.delta,this.options.time)}if(this.toY){var n=this.toY;n.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),n.time>=this.options.time?(this.parent.y=n.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(n.time,n.start,n.delta,this.options.time)}}}},{key:"calcUnderflowX",value:function(){var t;switch(this.underflowX){case-1:t=0;break;case 1:t=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:t=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return t}},{key:"calcUnderflowY",value:function(){var t;switch(this.underflowY){case-1:t=0;break;case 1:t=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:t=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return t}},{key:"oob",value:function(){var t=this.options.bounceBox;if(t){var e="undefined"===typeof t.x?0:t.x,n="undefined"===typeof t.y?0:t.y,r="undefined"===typeof t.width?this.parent.worldWidth:t.width,i="undefined"===typeof t.height?this.parent.worldHeight:t.height;return{left:this.parent.left<e,right:this.parent.right>r,top:this.parent.top<n,bottom:this.parent.bottom>i,topLeft:new h.g(e*this.parent.scale.x,n*this.parent.scale.y),bottomRight:new h.g(r*this.parent.scale.x-this.parent.screenWidth,i*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new h.g(0,0),bottomRight:new h.g(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}},{key:"bounce",value:function(){if(!this.paused){var t,e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.x&&e.percentChangeX===b([e,"access",function(t){return t.options},"optionalAccess",function(t){return t.friction}])||e.y&&e.percentChangeY===b([e,"access",function(t){return t.options},"optionalAccess",function(t){return t.friction}]))&&(((t=this.oob()).left&&this.left||t.right&&this.right)&&(e.percentChangeX=this.options.friction),(t.top&&this.top||t.bottom&&this.bottom)&&(e.percentChangeY=this.options.friction));var n=this.parent.plugins.get("drag",!0)||{},r=this.parent.plugins.get("pinch",!0)||{};if(e=e||{},!b([n,"optionalAccess",function(t){return t.active}])&&!b([r,"optionalAccess",function(t){return t.active}])&&(!this.toX||!this.toY)&&(!e.x||!e.y)){var i=(t=t||this.oob()).topLeft,o=t.bottomRight;if(!this.toX&&!e.x){var a=null;t.left&&this.left?a=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-i.x:t.right&&this.right&&(a=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-o.x),null!==a&&this.parent.x!==a&&(this.toX={time:0,start:this.parent.x,delta:a-this.parent.x,end:a},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!e.y){var s=null;t.top&&this.top?s=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-i.y:t.bottom&&this.bottom&&(s=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-o.y),null!==s&&this.parent.y!==s&&(this.toY={time:0,start:this.parent.y,delta:s-this.parent.y,end:s},this.parent.emit("bounce-y-start",this.parent))}}}}},{key:"reset",value:function(){this.toX=this.toY=null,this.bounce()}}]),n}(d),E={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"},T=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l.a)(this,n),(r=e.call(this,t)).options=Object.assign({},E,i),r.options.direction&&(r.options.left="x"===r.options.direction||"all"===r.options.direction||null,r.options.right="x"===r.options.direction||"all"===r.options.direction||null,r.options.top="y"===r.options.direction||"all"===r.options.direction||null,r.options.bottom="y"===r.options.direction||"all"===r.options.direction||null),r.parseUnderflow(),r.last={x:null,y:null,scaleX:null,scaleY:null},r.update(),r}return Object(c.a)(n,[{key:"parseUnderflow",value:function(){var t=this.options.underflow.toLowerCase();"none"===t?this.noUnderflow=!0:"center"===t?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=-1!==t.indexOf("left")?-1:-1!==t.indexOf("right")?1:0,this.underflowY=-1!==t.indexOf("top")?-1:-1!==t.indexOf("bottom")?1:0,this.noUnderflow=!1)}},{key:"move",value:function(){return this.update(),!1}},{key:"update",value:function(){if(!this.paused&&(this.parent.x!==this.last.x||this.parent.y!==this.last.y||this.parent.scale.x!==this.last.scaleX||this.parent.scale.y!==this.last.scaleY)){var t={x:this.parent.x,y:this.parent.y},e=this.parent.plugins.decelerate||{};if(null!==this.options.left||null!==this.options.right){var n=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:0!==this.parent.x&&(this.parent.x=0,n=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,n=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,n=!0)}else null!==this.options.left&&this.parent.left<(!0===this.options.left?0:this.options.left)&&(this.parent.x=-(!0===this.options.left?0:this.options.left)*this.parent.scale.x,e.x=0,n=!0),null!==this.options.right&&this.parent.right>(!0===this.options.right?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(!0===this.options.right?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,e.x=0,n=!0);n&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-x"})}if(null!==this.options.top||null!==this.options.bottom){var r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:0!==this.parent.y&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else null!==this.options.top&&this.parent.top<(!0===this.options.top?0:this.options.top)&&(this.parent.y=-(!0===this.options.top?0:this.options.top)*this.parent.scale.y,e.y=0,r=!0),null!==this.options.bottom&&this.parent.bottom>(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,e.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}}},{key:"reset",value:function(){this.update()}}]),n}(d),S={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null},A=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l.a)(this,n),(r=e.call(this,t)).options=Object.assign({},S,i),r.clamp(),r}return Object(c.a)(n,[{key:"resize",value:function(){this.clamp()}},{key:"clamp",value:function(){if(!this.paused)if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){var t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight;if(null!==this.options.minWidth&&t<this.options.minWidth){var n=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/n,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.maxWidth&&t>this.options.maxWidth){var r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.minHeight&&e<this.options.minHeight){var i=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/i,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.maxHeight&&e>this.options.maxHeight){var o=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/o,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){var a={x:null,y:null},s={x:null,y:null};if("number"===typeof this.options.minScale)a.x=this.options.minScale,a.y=this.options.minScale;else if(null!==this.options.minScale){var u=this.options.minScale;a.x="undefined"===typeof u.x?null:u.x,a.y="undefined"===typeof u.y?null:u.y}if("number"===typeof this.options.maxScale)s.x=this.options.maxScale,s.y=this.options.maxScale;else if(null!==this.options.maxScale){var l=this.options.maxScale;s.x="undefined"===typeof l.x?null:l.x,s.y="undefined"===typeof l.y?null:l.y}var c=this.parent.scale.x,h=this.parent.scale.y;null!==a.x&&c<a.x&&(c=a.x),null!==s.x&&c>s.x&&(c=s.x),null!==a.y&&h<a.y&&(h=a.y),null!==s.y&&h>s.y&&(h=s.y),c===this.parent.scale.x&&h===this.parent.scale.y||(this.parent.scale.set(c,h),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}},{key:"reset",value:function(){this.clamp()}}]),n}(d),O={friction:.98,bounce:.8,minSpeed:.01},P=16,M=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l.a)(this,n),(r=e.call(this,t)).options=Object.assign({},O,i),r.saved=[],r.timeSinceRelease=0,r.reset(),r.parent.on("moved",(function(t){return r.moved(t)})),r}return Object(c.a)(n,[{key:"down",value:function(){return this.saved=[],this.x=this.y=null,!1}},{key:"isActive",value:function(){return!(!this.x&&!this.y)}},{key:"move",value:function(){if(this.paused)return!1;var t=this.parent.input.count();return(1===t||t>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}},{key:"moved",value:function(t){if(this.saved.length){var e=this.saved[this.saved.length-1];"clamp-x"===t.type?e.x===t.original.x&&(e.x=this.parent.x):"clamp-y"===t.type&&e.y===t.original.y&&(e.y=this.parent.y)}}},{key:"up",value:function(){if(0===this.parent.input.count()&&this.saved.length){var t,e=performance.now(),n=Object(o.a)(this.saved);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.time>=e-100){var i=e-r.time;this.x=(this.parent.x-r.x)/i,this.y=(this.parent.y-r.y)/i,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}}catch(a){n.e(a)}finally{n.f()}}return!1}},{key:"activate",value:function(t){"undefined"!==typeof(t=t||{}).x&&(this.x=t.x,this.percentChangeX=this.options.friction),"undefined"!==typeof t.y&&(this.y=t.y,this.percentChangeY=this.options.friction)}},{key:"update",value:function(t){if(!this.paused){var e=this.x||this.y,n=this.timeSinceRelease,r=this.timeSinceRelease+t;if(this.x){var i=this.percentChangeX,o=Math.log(i);this.parent.x+=this.x*P/o*(Math.pow(i,r/P)-Math.pow(i,n/P)),this.x*=Math.pow(this.percentChangeX,t/P)}if(this.y){var a=this.percentChangeY,s=Math.log(a);this.parent.y+=this.y*P/s*(Math.pow(a,r/P)-Math.pow(a,n/P)),this.y*=Math.pow(this.percentChangeY,t/P)}this.timeSinceRelease+=t,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),e&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}}},{key:"reset",value:function(){this.x=this.y=null}}]),n}(d),C={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20},R=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l.a)(this,n),(r=e.call(this,t)).options=Object.assign({},C,i),r.moved=!1,r.reverse=r.options.reverse?1:-1,r.xDirection=!r.options.direction||"all"===r.options.direction||"x"===r.options.direction,r.yDirection=!r.options.direction||"all"===r.options.direction||"y"===r.options.direction,r.keyIsPressed=!1,r.parseUnderflow(),r.mouseButtons(r.options.mouseButtons),r.options.keyToPress&&r.handleKeyPresses(r.options.keyToPress),r}return Object(c.a)(n,[{key:"handleKeyPresses",value:function(t){var e=this;window.addEventListener("keydown",(function(n){t.includes(n.code)&&(e.keyIsPressed=!0)})),window.addEventListener("keyup",(function(n){t.includes(n.code)&&(e.keyIsPressed=!1)}))}},{key:"mouseButtons",value:function(t){this.mouse=t&&"all"!==t?[-1!==t.indexOf("left"),-1!==t.indexOf("middle"),-1!==t.indexOf("right")]:[!0,!0,!0]}},{key:"parseUnderflow",value:function(){var t=this.options.underflow.toLowerCase();"center"===t?(this.underflowX=0,this.underflowY=0):(t.includes("left")?this.underflowX=-1:t.includes("right")?this.underflowX=1:this.underflowX=0,t.includes("top")?this.underflowY=-1:t.includes("bottom")?this.underflowY=1:this.underflowY=0)}},{key:"checkButtons",value:function(t){var e="mouse"===t.data.pointerType,n=this.parent.input.count();return!(!(1===n||n>1&&!this.parent.plugins.get("pinch",!0))||e&&!this.mouse[t.data.button])}},{key:"checkKeyPress",value:function(t){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&"touch"===t.data.pointerType}},{key:"down",value:function(t){return!(this.paused||!this.options.pressDrag)&&(this.checkButtons(t)&&this.checkKeyPress(t)?(this.last={x:t.data.global.x,y:t.data.global.y},this.current=t.data.pointerId,!0):(this.last=null,!1))}},{key:"active",get:function(){return this.moved}},{key:"move",value:function(t){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===t.data.pointerId){var e=t.data.global.x,n=t.data.global.y,r=this.parent.input.count();if(1===r||r>1&&!this.parent.plugins.get("pinch",!0)){var i=e-this.last.x,o=n-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(i)||this.yDirection&&this.parent.input.checkThreshold(o)){var a={x:e,y:n};return this.xDirection&&(this.parent.x+=(a.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(a.y-this.last.y)*this.options.factor),this.last=a,this.moved||this.parent.emit("drag-start",{event:t,screen:new h.g(this.last.x,this.last.y),world:this.parent.toWorld(new h.g(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}},{key:"up",value:function(t){if(this.paused)return!1;var e=this.parent.input.touches;if(1===e.length){var n=e[0];return n.last&&(this.last={x:n.last.x,y:n.last.y},this.current=n.id),this.moved=!1,!0}if(this.last&&this.moved){var r=new h.g(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:t,screen:r,world:this.parent.toWorld(r),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}},{key:"wheel",value:function(t){if(this.paused)return!1;if(this.options.wheel){var e=this.parent.plugins.get("wheel",!0);if(!e||!e.options.wheelZoom&&!t.ctrlKey){var n=t.deltaMode?this.options.lineHeight:1;return this.xDirection&&(this.parent.x+=t.deltaX*n*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=t.deltaY*n*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||t.preventDefault(),this.parent.options.stopPropagation&&t.stopPropagation(),!0}}return!1}},{key:"resume",value:function(){this.last=null,this.paused=!1}},{key:"clamp",value:function(){var t=this.parent.plugins.get("decelerate",!0)||{};if("y"!==this.options.clampWheel)if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,t.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,t.x=0);if("x"!==this.options.clampWheel)if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,t.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,t.y=0)}}]),n}(d),I={speed:0,acceleration:null,radius:null},N=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(l.a)(this,n),(i=e.call(this,t)).target=r,i.options=Object.assign({},I,o),i.velocity={x:0,y:0},i}return Object(c.a)(n,[{key:"update",value:function(t){if(!this.paused){var e=this.parent.center,n=this.target.x,r=this.target.y;if(this.options.radius){if(!(Math.sqrt(Math.pow(this.target.y-e.y,2)+Math.pow(this.target.x-e.x,2))>this.options.radius))return;var i=Math.atan2(this.target.y-e.y,this.target.x-e.x);n=this.target.x-Math.cos(i)*this.options.radius,r=this.target.y-Math.sin(i)*this.options.radius}var o=n-e.x,a=r-e.y;if(o||a)if(this.options.speed)if(this.options.acceleration){var s=Math.atan2(r-e.y,n-e.x),u=Math.sqrt(Math.pow(o,2)+Math.pow(a,2));if(u){var l=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);this.velocity=u>l?{x:Math.min(this.velocity.x+this.options.acceleration*t,this.options.speed),y:Math.min(this.velocity.y+this.options.acceleration*t,this.options.speed)}:{x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};var c=Math.cos(s)*this.velocity.x,h=Math.sin(s)*this.velocity.y,f=Math.abs(c)>Math.abs(o)?n:e.x+c,p=Math.abs(h)>Math.abs(a)?r:e.y+h;this.parent.moveCenter(f,p),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{var d=Math.atan2(r-e.y,n-e.x),v=Math.cos(d)*this.options.speed,m=Math.sin(d)*this.options.speed,g=Math.abs(v)>Math.abs(o)?n:e.x+v,y=Math.abs(m)>Math.abs(a)?r:e.y+m;this.parent.moveCenter(g,y),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(n,r),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}}]),n}(d),k={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1},D=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l.a)(this,n),(r=e.call(this,t)).options=Object.assign({},k,i),r.reverse=r.options.reverse?1:-1,r.radiusSquared="number"===typeof r.options.radius?Math.pow(r.options.radius,2):null,r.resize(),r}return Object(c.a)(n,[{key:"resize",value:function(){var t=this.options.distance;null!==t?(this.left=t,this.top=t,this.right=this.parent.worldScreenWidth-t,this.bottom=this.parent.worldScreenHeight-t):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=null===this.options.right?null:this.parent.worldScreenWidth-this.options.right,this.bottom=null===this.options.bottom?null:this.parent.worldScreenHeight-this.options.bottom)}},{key:"down",value:function(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}},{key:"move",value:function(t){if(this.paused)return!1;if("mouse"!==t.data.pointerType&&1!==t.data.identifier||!this.options.allowButtons&&0!==t.data.buttons)return!1;var e=t.data.global.x,n=t.data.global.y;if(this.radiusSquared){var r=this.parent.toScreen(this.parent.center);if(Math.pow(r.x-e,2)+Math.pow(r.y-n,2)>=this.radiusSquared){var i=Math.atan2(r.y-n,r.x-e);this.options.linear?(this.horizontal=Math.round(Math.cos(i))*this.options.speed*this.reverse*.06,this.vertical=Math.round(Math.sin(i))*this.options.speed*this.reverse*.06):(this.horizontal=Math.cos(i)*this.options.speed*this.reverse*.06,this.vertical=Math.sin(i)*this.options.speed*this.reverse*.06)}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else null!==this.left&&e<this.left?this.horizontal=Number(this.reverse)*this.options.speed*.06:null!==this.right&&e>this.right?this.horizontal=-1*this.reverse*this.options.speed*.06:(this.decelerateHorizontal(),this.horizontal=0),null!==this.top&&n<this.top?this.vertical=Number(this.reverse)*this.options.speed*.06:null!==this.bottom&&n>this.bottom?this.vertical=-1*this.reverse*this.options.speed*.06:(this.decelerateVertical(),this.vertical=0);return!1}},{key:"decelerateHorizontal",value:function(){var t=this.parent.plugins.get("decelerate",!0);this.horizontal&&t&&!this.options.noDecelerate&&t.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}},{key:"decelerateVertical",value:function(){var t=this.parent.plugins.get("decelerate",!0);this.vertical&&t&&!this.options.noDecelerate&&t.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}},{key:"up",value:function(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}},{key:"update",value:function(){if(!this.paused&&(this.horizontal||this.vertical)){var t=this.parent.center;this.horizontal&&(t.x+=this.horizontal*this.options.speed),this.vertical&&(t.y+=this.vertical*this.options.speed),this.parent.moveCenter(t),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}]),n}(d),L={noDrag:!1,percent:1,center:null,factor:1,axis:"all"},F=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l.a)(this,n),r=e.call(this,t),n.prototype.__init.call(Object(a.a)(r)),n.prototype.__init2.call(Object(a.a)(r)),n.prototype.__init3.call(Object(a.a)(r)),r.options=Object.assign({},L,i),r}return Object(c.a)(n,[{key:"__init",value:function(){this.active=!1}},{key:"__init2",value:function(){this.pinching=!1}},{key:"__init3",value:function(){this.moved=!1}},{key:"down",value:function(){return this.parent.input.count()>=2&&(this.active=!0,!0)}},{key:"isAxisX",value:function(){return["all","x"].includes(this.options.axis)}},{key:"isAxisY",value:function(){return["all","y"].includes(this.options.axis)}},{key:"move",value:function(t){if(this.paused||!this.active)return!1;var e=t.data.global.x,n=t.data.global.y,r=this.parent.input.touches;if(r.length>=2){var i=r[0],o=r[1],a=i.last&&o.last?Math.sqrt(Math.pow(o.last.x-i.last.x,2)+Math.pow(o.last.y-i.last.y,2)):null;if(i.id===t.data.pointerId?i.last={x:e,y:n,data:t.data}:o.id===t.data.pointerId&&(o.last={x:e,y:n,data:t.data}),a){var s,u={x:i.last.x+(o.last.x-i.last.x)/2,y:i.last.y+(o.last.y-i.last.y)/2};this.options.center||(s=this.parent.toLocal(u));var l=Math.sqrt(Math.pow(o.last.x-i.last.x,2)+Math.pow(o.last.y-i.last.y,2)),c=(1-a/(l=0===l?l=1e-10:l))*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=c),this.isAxisY()&&(this.parent.scale.y+=c),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:u});var h=this.parent.plugins.get("clamp-zoom",!0);if(h&&h.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{var f=this.parent.toGlobal(s);this.parent.x+=(u.x-f.x)*this.options.factor,this.parent.y+=(u.y-f.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(u.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(u.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=u,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}},{key:"up",value:function(){return!!(this.pinching&&this.parent.input.touches.length<=1)&&(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0)}}]),n}(d),U={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1},j=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Object(l.a)(this,n),(o=e.call(this,t)).options=Object.assign({},U,a),o.ease=g(a.ease,"easeInOutSine"),o.x=r,o.y=i,o.options.forceStart&&o.snapStart(),o}return Object(c.a)(n,[{key:"snapStart",value:function(){this.percent=0,this.snapping={time:0};var t=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-t.x,this.deltaY=this.y-t.y,this.startX=t.x,this.startY=t.y,this.parent.emit("snap-start",this.parent)}},{key:"wheel",value:function(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}},{key:"down",value:function(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}},{key:"up",value:function(){if(0===this.parent.input.count()){var t=this.parent.plugins.get("decelerate",!0);t&&(t.x||t.y)&&(t.percentChangeX=t.percentChangeY=this.options.friction)}return!1}},{key:"update",value:function(t){if(!this.paused&&(!this.options.interrupt||0===this.parent.input.count()))if(this.snapping){var e,n,r,i=this.snapping;i.time+=t;var o=this.startX,a=this.startY,s=this.deltaX,u=this.deltaY;if(i.time>this.options.time)e=!0,n=o+s,r=a+u;else{var l=this.ease(i.time,0,1,this.options.time);n=o+s*l,r=a+u*l}this.options.topLeft?this.parent.moveCorner(n,r):this.parent.moveCenter(n,r),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),e&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{var c=this.options.topLeft?this.parent.corner:this.parent.center;c.x===this.x&&c.y===this.y||this.snapStart()}}}]),n}(d),B={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1},G=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l.a)(this,n),(r=e.call(this,t)).options=Object.assign({},B,i),r.ease=g(r.options.ease),r.xIndependent=!1,r.yIndependent=!1,r.xScale=0,r.yScale=0,r.options.width>0&&(r.xScale=t.screenWidth/r.options.width,r.xIndependent=!0),r.options.height>0&&(r.yScale=t.screenHeight/r.options.height,r.yIndependent=!0),r.xScale=r.xIndependent?r.xScale:r.yScale,r.yScale=r.yIndependent?r.yScale:r.xScale,0===r.options.time?(t.container.scale.x=r.xScale,t.container.scale.y=r.yScale,r.options.removeOnComplete&&r.parent.plugins.remove("snap-zoom")):i.forceStart&&r.createSnapping(),r}return Object(c.a)(n,[{key:"createSnapping",value:function(){var t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,n=this.parent.screenWidth/this.xScale,r=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:t,startY:e,deltaX:n-t,deltaY:r-e},this.parent.emit("snap-zoom-start",this.parent)}},{key:"resize",value:function(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}},{key:"wheel",value:function(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}},{key:"down",value:function(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}},{key:"update",value:function(t){var e;if(!this.paused&&(!this.options.interrupt||0===this.parent.input.count()))if(this.options.center||this.options.noMove||(e=this.parent.center),this.snapping){if(this.snapping){var n=this.snapping;if(n.time+=t,n.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{var r=this.snapping,i=this.ease(r.time,r.startX,r.deltaX,this.options.time),o=this.ease(r.time,r.startY,r.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/i,this.parent.scale.y=this.parent.screenHeight/o}var a=this.parent.plugins.get("clamp-zoom",!0);a&&a.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(e))}}else this.parent.scale.x===this.xScale&&this.parent.scale.y===this.yScale||this.createSnapping()}},{key:"resume",value:function(){this.snapping=null,Object(r.a)(Object(i.a)(n.prototype),"resume",this).call(this)}}]),n}(d),z={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0},V=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l.a)(this,n),(r=e.call(this,t)).options=Object.assign({},z,i),r.keyIsPressed=!1,r.options.keyToPress&&r.handleKeyPresses(r.options.keyToPress),r}return Object(c.a)(n,[{key:"handleKeyPresses",value:function(t){var e=this;window.addEventListener("keydown",(function(n){t.includes(n.code)&&(e.keyIsPressed=!0)})),window.addEventListener("keyup",(function(n){t.includes(n.code)&&(e.keyIsPressed=!1)}))}},{key:"checkKeyPress",value:function(){return!this.options.keyToPress||this.keyIsPressed}},{key:"down",value:function(){return this.options.interrupt&&(this.smoothing=null),!1}},{key:"isAxisX",value:function(){return["all","x"].includes(this.options.axis)}},{key:"isAxisY",value:function(){return["all","y"].includes(this.options.axis)}},{key:"update",value:function(){if(this.smoothing){var t,e=this.smoothingCenter,n=this.smoothing;this.options.center||(t=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=n.x),this.isAxisY()&&(this.parent.scale.y+=n.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});var r=this.parent.plugins.get("clamp-zoom",!0);if(r&&r.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{var i=this.parent.toGlobal(t);this.parent.x+=e.x-i.x,this.parent.y+=e.y-i.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}},{key:"pinch",value:function(t){if(!this.paused){var e,n=this.parent.input.getPointerPosition(t),r=-t.deltaY*(t.deltaMode?this.options.lineHeight:1)/200,i=Math.pow(2,(1+this.options.percent)*r);this.options.center||(e=this.parent.toLocal(n)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});var o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{var a=this.parent.toGlobal(e);this.parent.x+=n.x-a.x,this.parent.y+=n.y-a.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel",{wheel:{dx:t.deltaX,dy:t.deltaY,dz:t.deltaZ},event:t,viewport:this.parent})}}},{key:"wheel",value:function(t){if(this.paused)return!1;if(!this.checkKeyPress())return!1;if(t.ctrlKey&&this.options.trackpadPinch)this.pinch(t);else if(this.options.wheelZoom){var e=this.parent.input.getPointerPosition(t),n=(this.options.reverse?-1:1)*-t.deltaY*(t.deltaMode?this.options.lineHeight:1)/500,r=Math.pow(2,(1+this.options.percent)*n);if(this.options.smooth){var i={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+i.x)*r-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+i.y)*r-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=e}else{var o;this.options.center||(o=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x*=r),this.isAxisY()&&(this.parent.scale.y*=r),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});var a=this.parent.plugins.get("clamp-zoom",!0);if(a&&a.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{var s=this.parent.toGlobal(o);this.parent.x+=e.x-s.x,this.parent.y+=e.y-s.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel",{wheel:{dx:t.deltaX,dy:t.deltaY,dz:t.deltaZ},event:t,viewport:this.parent})}return!this.parent.options.passiveWheel}}]),n}(d),X=function(){function t(e){Object(l.a)(this,t),this.viewport=e,this.touches=[],this.addListeners()}return Object(c.a)(t,[{key:"addListeners",value:function(){var t=this;this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new h.j(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.on("pointerout",this.up,this),this.wheelFunction=function(e){return t.handleWheel(e)},this.viewport.options.divWheel.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}},{key:"destroy",value:function(){this.viewport.options.divWheel.removeEventListener("wheel",this.wheelFunction)}},{key:"down",value:function(t){if(!this.viewport.pause&&this.viewport.worldVisible){if("mouse"===t.data.pointerType?this.isMouseDown=!0:this.get(t.data.pointerId)||this.touches.push({id:t.data.pointerId,last:null}),1===this.count()){this.last=t.data.global.clone();var e=this.viewport.plugins.get("decelerate",!0),n=this.viewport.plugins.get("bounce",!0);e&&e.isActive()||n&&n.isActive()?this.clickedAvailable=!1:this.clickedAvailable=!0}else this.clickedAvailable=!1;this.viewport.plugins.down(t)&&this.viewport.options.stopPropagation&&t.stopPropagation()}}},{key:"clear",value:function(){this.isMouseDown=!1,this.touches=[],this.last=null}},{key:"checkThreshold",value:function(t){return Math.abs(t)>=this.viewport.threshold}},{key:"move",value:function(t){if(!this.viewport.pause&&this.viewport.worldVisible){var e=this.viewport.plugins.move(t);if(this.clickedAvailable&&this.last){var n=t.data.global.x-this.last.x,r=t.data.global.y-this.last.y;(this.checkThreshold(n)||this.checkThreshold(r))&&(this.clickedAvailable=!1)}e&&this.viewport.options.stopPropagation&&t.stopPropagation()}}},{key:"up",value:function(t){if(!this.viewport.pause&&this.viewport.worldVisible){"mouse"===t.data.pointerType&&(this.isMouseDown=!1),"mouse"!==t.data.pointerType&&this.remove(t.data.pointerId);var e=this.viewport.plugins.up(t);this.clickedAvailable&&0===this.count()&&this.last&&(this.viewport.emit("clicked",{event:t,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this}),this.clickedAvailable=!1),e&&this.viewport.options.stopPropagation&&t.stopPropagation()}}},{key:"getPointerPosition",value:function(t){var e=new h.g;return this.viewport.options.interaction?this.viewport.options.interaction.mapPositionToPoint(e,t.clientX,t.clientY):(e.x=t.clientX,e.y=t.clientY),e}},{key:"handleWheel",value:function(t){if(!this.viewport.pause&&this.viewport.worldVisible&&(!this.viewport.options.interaction||this.viewport.options.interaction.interactionDOMElement===t.target)){var e=this.viewport.toLocal(this.getPointerPosition(t));if(this.viewport.left<=e.x&&e.x<=this.viewport.right&&this.viewport.top<=e.y&&e.y<=this.viewport.bottom)this.viewport.plugins.wheel(t)&&!this.viewport.options.passiveWheel&&t.preventDefault()}}},{key:"pause",value:function(){this.touches=[],this.isMouseDown=!1}},{key:"get",value:function(t){var e,n=Object(o.a)(this.touches);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.id===t)return r}}catch(i){n.e(i)}finally{n.f()}return null}},{key:"remove",value:function(t){for(var e=0;e<this.touches.length;e++)if(this.touches[e].id===t)return void this.touches.splice(e,1)}},{key:"count",value:function(){return(this.isMouseDown?1:0)+this.touches.length}}]),t}();function H(t){for(var e=void 0,n=t[0],r=1;r<t.length;){var i=t[r],o=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o((function(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=n).call.apply(t,[e].concat(i))})),e=void 0)}return n}var Y=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"],W=function(){function t(e){Object(l.a)(this,t),this.viewport=e,this.list=[],this.plugins={}}return Object(c.a)(t,[{key:"add",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y.length;this.plugins[t]=e;var r=Y.indexOf(t);-1!==r&&Y.splice(r,1),Y.splice(n,0,t),this.sort()}},{key:"get",value:function(t,e){return e&&H([this,"access",function(t){return t.plugins},"access",function(e){return e[t]},"optionalAccess",function(t){return t.paused}])?null:this.plugins[t]}},{key:"update",value:function(t){var e,n=Object(o.a)(this.list);try{for(n.s();!(e=n.n()).done;){e.value.update(t)}}catch(r){n.e(r)}finally{n.f()}}},{key:"resize",value:function(){var t,e=Object(o.a)(this.list);try{for(e.s();!(t=e.n()).done;){t.value.resize()}}catch(n){e.e(n)}finally{e.f()}}},{key:"reset",value:function(){var t,e=Object(o.a)(this.list);try{for(e.s();!(t=e.n()).done;){t.value.reset()}}catch(n){e.e(n)}finally{e.f()}}},{key:"removeAll",value:function(){this.plugins={},this.sort()}},{key:"remove",value:function(t){this.plugins[t]&&(delete this.plugins[t],this.viewport.emit("".concat(t,"-remove")),this.sort())}},{key:"pause",value:function(t){H([this,"access",function(t){return t.plugins},"access",function(e){return e[t]},"optionalAccess",function(t){return t.pause},"call",function(t){return t()}])}},{key:"resume",value:function(t){H([this,"access",function(t){return t.plugins},"access",function(e){return e[t]},"optionalAccess",function(t){return t.resume},"call",function(t){return t()}])}},{key:"sort",value:function(){this.list=[];var t,e=Object(o.a)(Y);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.plugins[n]&&this.list.push(this.plugins[n])}}catch(r){e.e(r)}finally{e.f()}}},{key:"down",value:function(t){var e,n=!1,r=Object(o.a)(this.list);try{for(r.s();!(e=r.n()).done;){e.value.down(t)&&(n=!0)}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"move",value:function(t){var e,n=!1,r=Object(o.a)(this.viewport.plugins.list);try{for(r.s();!(e=r.n()).done;){e.value.move(t)&&(n=!0)}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"up",value:function(t){var e,n=!1,r=Object(o.a)(this.list);try{for(r.s();!(e=r.n()).done;){e.value.up(t)&&(n=!0)}}catch(i){r.e(i)}finally{r.f()}return n}},{key:"wheel",value:function(t){var e,n=!1,r=Object(o.a)(this.list);try{for(r.s();!(e=r.n()).done;){e.value.wheel(t)&&(n=!0)}}catch(i){r.e(i)}finally{r.f()}return n}}]),t}(),q={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,interaction:null,disableOnContextMenu:!1,ticker:p.a.shared},K=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(l.a)(this,n),t=e.call(this),n.prototype.__init.call(Object(a.a)(t)),t.options=Object.assign({},{divWheel:document.body},q,r),t.screenWidth=t.options.screenWidth,t.screenHeight=t.options.screenHeight,t._worldWidth=t.options.worldWidth,t._worldHeight=t.options.worldHeight,t.forceHitArea=t.options.forceHitArea,t.threshold=t.options.threshold,t.options.divWheel=t.options.divWheel||document.body,t.options.disableOnContextMenu&&t.options.divWheel.addEventListener("contextmenu",t._disableOnContextMenu),t.options.noTicker||(t.tickerFunction=function(){return t.update(t.options.ticker.elapsedMS)},t.options.ticker.add(t.tickerFunction)),t.input=new X(Object(a.a)(t)),t.plugins=new W(Object(a.a)(t)),t}return Object(c.a)(n,[{key:"__init",value:function(){this._disableOnContextMenu=function(t){return t.preventDefault()}}},{key:"destroy",value:function(t){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.divWheel.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),Object(r.a)(Object(i.a)(n.prototype),"destroy",this).call(this,t)}},{key:"update",value:function(t){this.pause||(this.plugins.update(t),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new h.j(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}},{key:"resize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerHeight,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.screenWidth=t,this.screenHeight=e,"undefined"!==typeof n&&(this._worldWidth=n),"undefined"!==typeof r&&(this._worldHeight=r),this.plugins.resize(),this.dirty=!0}},{key:"worldWidth",get:function(){return this._worldWidth?this._worldWidth:this.width/this.scale.x},set:function(t){this._worldWidth=t,this.plugins.resize()}},{key:"worldHeight",get:function(){return this._worldHeight?this._worldHeight:this.height/this.scale.y},set:function(t){this._worldHeight=t,this.plugins.resize()}},{key:"getVisibleBounds",value:function(){return new h.j(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}},{key:"toWorld",value:function(t,e){return 2===arguments.length?this.toLocal(new h.g(t,e)):this.toLocal(t)}},{key:"toScreen",value:function(t,e){return 2===arguments.length?this.toGlobal(new h.g(t,e)):this.toGlobal(t)}},{key:"worldScreenWidth",get:function(){return this.screenWidth/this.scale.x}},{key:"worldScreenHeight",get:function(){return this.screenHeight/this.scale.y}},{key:"screenWorldWidth",get:function(){return this.worldWidth*this.scale.x}},{key:"screenWorldHeight",get:function(){return this.worldHeight*this.scale.y}},{key:"center",get:function(){return new h.g(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)},set:function(t){this.moveCenter(t)}},{key:"moveCenter",value:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];"number"===typeof r[0]?(t=r[0],e=r[1]):(t=r[0].x,e=r[0].y);var o=(this.worldScreenWidth/2-t)*this.scale.x,a=(this.worldScreenHeight/2-e)*this.scale.y;return this.x===o&&this.y===a||(this.position.set(o,a),this.plugins.reset(),this.dirty=!0),this}},{key:"corner",get:function(){return new h.g(-this.x/this.scale.x,-this.y/this.scale.y)},set:function(t){this.moveCorner(t)}},{key:"moveCorner",value:function(){for(var t,e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return 1===r.length?(t=-r[0].x*this.scale.x,e=-r[0].y*this.scale.y):(t=-r[0]*this.scale.x,e=-r[1]*this.scale.y),t===this.x&&e===this.y||(this.position.set(t,e),this.plugins.reset(),this.dirty=!0),this}},{key:"screenWidthInWorldPixels",get:function(){return this.screenWidth/this.scale.x}},{key:"screenHeightInWorldPixels",get:function(){return this.screenHeight/this.scale.y}},{key:"findFitWidth",value:function(t){return this.screenWidth/t}},{key:"findFitHeight",value:function(t){return this.screenHeight/t}},{key:"findFit",value:function(t,e){var n=this.screenWidth/t,r=this.screenHeight/e;return Math.min(n,r)}},{key:"findCover",value:function(t,e){var n=this.screenWidth/t,r=this.screenHeight/e;return Math.max(n,r)}},{key:"fitWidth",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.worldWidth,n=arguments.length>1?arguments[1]:void 0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;n&&(t=this.center),this.scale.x=this.screenWidth/e,r&&(this.scale.y=this.scale.x);var o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&t&&this.moveCenter(t),this}},{key:"fitHeight",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.worldHeight,n=arguments.length>1?arguments[1]:void 0,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;n&&(t=this.center),this.scale.y=this.screenHeight/e,r&&(this.scale.x=this.scale.y);var o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),n&&t&&this.moveCenter(t),this}},{key:"fitWorld",value:function(t){var e;t&&(e=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;var n=this.plugins.get("clamp-zoom",!0);return n&&n.clamp(),t&&e&&this.moveCenter(e),this}},{key:"fit",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.worldWidth,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.worldHeight;t&&(e=this.center),this.scale.x=this.screenWidth/n,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;var i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),t&&e&&this.moveCenter(e),this}},{key:"setZoom",value:function(t,e){var n;e&&(n=this.center),this.scale.set(t);var r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),e&&n&&this.moveCenter(n),this}},{key:"zoomPercent",value:function(t,e){return this.setZoom(this.scale.x+this.scale.x*t,e)}},{key:"zoom",value:function(t,e){return this.fitWidth(t+this.worldScreenWidth,e),this}},{key:"scaled",get:function(){return this.scale.x},set:function(t){this.setZoom(t,!0)}},{key:"snapZoom",value:function(t){return this.plugins.add("snap-zoom",new G(this,t)),this}},{key:"OOB",value:function(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new h.g(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}},{key:"right",get:function(){return-this.x/this.scale.x+this.worldScreenWidth},set:function(t){this.x=-t*this.scale.x+this.screenWidth,this.plugins.reset()}},{key:"left",get:function(){return-this.x/this.scale.x},set:function(t){this.x=-t*this.scale.x,this.plugins.reset()}},{key:"top",get:function(){return-this.y/this.scale.y},set:function(t){this.y=-t*this.scale.y,this.plugins.reset()}},{key:"bottom",get:function(){return-this.y/this.scale.y+this.worldScreenHeight},set:function(t){this.y=-t*this.scale.y+this.screenHeight,this.plugins.reset()}},{key:"dirty",get:function(){return!!this._dirty},set:function(t){this._dirty=t}},{key:"forceHitArea",get:function(){return this._forceHitArea},set:function(t){t?(this._forceHitArea=t,this.hitArea=t):(this._forceHitArea=null,this.hitArea=new h.j(0,0,this.worldWidth,this.worldHeight))}},{key:"drag",value:function(t){return this.plugins.add("drag",new R(this,t)),this}},{key:"clamp",value:function(t){return this.plugins.add("clamp",new T(this,t)),this}},{key:"decelerate",value:function(t){return this.plugins.add("decelerate",new M(this,t)),this}},{key:"bounce",value:function(t){return this.plugins.add("bounce",new w(this,t)),this}},{key:"pinch",value:function(t){return this.plugins.add("pinch",new F(this,t)),this}},{key:"snap",value:function(t,e,n){return this.plugins.add("snap",new j(this,t,e,n)),this}},{key:"follow",value:function(t,e){return this.plugins.add("follow",new N(this,t,e)),this}},{key:"wheel",value:function(t){return this.plugins.add("wheel",new V(this,t)),this}},{key:"animate",value:function(t){return this.plugins.add("animate",new _(this,t)),this}},{key:"clampZoom",value:function(t){return this.plugins.add("clamp-zoom",new A(this,t)),this}},{key:"mouseEdges",value:function(t){return this.plugins.add("mouse-edges",new D(this,t)),this}},{key:"pause",get:function(){return!!this._pause},set:function(t){this._pause=t,this.lastViewport=null,this.moving=!1,this.zooming=!1,t&&this.input.pause()}},{key:"ensureVisible",value:function(t,e,n,r,i){i&&(n>this.worldScreenWidth||r>this.worldScreenHeight)&&(this.fit(!0,n,r),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));var o=!1;t<this.left?(this.left=t,o=!0):t+n>this.right&&(this.right=t+n,o=!0),e<this.top?(this.top=e,o=!0):e+r>this.bottom&&(this.bottom=e+r,o=!0),o&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}]),n}(f.b)}).call(this,n(53))},function(t,e,n){"use strict";var r={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},i={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},o=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],a={CSS:{},springs:{}};function s(t,e,n){return Math.min(Math.max(t,e),n)}function u(t,e){return t.indexOf(e)>-1}function l(t,e){return t.apply(null,e)}var c={arr:function(t){return Array.isArray(t)},obj:function(t){return u(Object.prototype.toString.call(t),"Object")},pth:function(t){return c.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||c.svg(t)},str:function(t){return"string"===typeof t},fnc:function(t){return"function"===typeof t},und:function(t){return"undefined"===typeof t},nil:function(t){return c.und(t)||null===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return c.hex(t)||c.rgb(t)||c.hsl(t)},key:function(t){return!r.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}};function h(t){var e=/\(([^)]+)\)/.exec(t);return e?e[1].split(",").map((function(t){return parseFloat(t)})):[]}function f(t,e){var n=h(t),r=s(c.und(n[0])?1:n[0],.1,100),i=s(c.und(n[1])?100:n[1],.1,100),o=s(c.und(n[2])?10:n[2],.1,100),u=s(c.und(n[3])?0:n[3],.1,100),l=Math.sqrt(i/r),f=o/(2*Math.sqrt(i*r)),p=f<1?l*Math.sqrt(1-f*f):0,d=f<1?(f*l-u)/p:-u+l;function v(t){var n=e?e*t/1e3:t;return n=f<1?Math.exp(-n*f*l)*(1*Math.cos(p*n)+d*Math.sin(p*n)):(1+d*n)*Math.exp(-n*l),0===t||1===t?t:1-n}return e?v:function(){var e=a.springs[t];if(e)return e;for(var n=1/6,r=0,i=0;;)if(1===v(r+=n)){if(++i>=16)break}else i=0;var o=r*n*1e3;return a.springs[t]=o,o}}function p(t){return void 0===t&&(t=10),function(e){return Math.ceil(s(e,1e-6,1)*t)*(1/t)}}var d=function(){var t=.1;function e(t,e){return 1-3*e+3*t}function n(t,e){return 3*e-6*t}function r(t){return 3*t}function i(t,i,o){return((e(i,o)*t+n(i,o))*t+r(i))*t}function o(t,i,o){return 3*e(i,o)*t*t+2*n(i,o)*t+r(i)}return function(e,n,r,a){if(0<=e&&e<=1&&0<=r&&r<=1){var s=new Float32Array(11);if(e!==n||r!==a)for(var u=0;u<11;++u)s[u]=i(u*t,e,r);return function(t){return e===n&&r===a||0===t||1===t?t:i(l(t),n,a)}}function l(n){for(var a=0,u=1;10!==u&&s[u]<=n;++u)a+=t;--u;var l=a+(n-s[u])/(s[u+1]-s[u])*t,c=o(l,e,r);return c>=.001?function(t,e,n,r){for(var a=0;a<4;++a){var s=o(e,n,r);if(0===s)return e;e-=(i(e,n,r)-t)/s}return e}(n,l,e,r):0===c?l:function(t,e,n,r,o){var a,s,u=0;do{(a=i(s=e+(n-e)/2,r,o)-t)>0?n=s:e=s}while(Math.abs(a)>1e-7&&++u<10);return s}(n,a,a+t,e,r)}}}(),v=function(){var t={linear:function(){return function(t){return t}}},e={Sine:function(){return function(t){return 1-Math.cos(t*Math.PI/2)}},Circ:function(){return function(t){return 1-Math.sqrt(1-t*t)}},Back:function(){return function(t){return t*t*(3*t-2)}},Bounce:function(){return function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}},Elastic:function(t,e){void 0===t&&(t=1),void 0===e&&(e=.5);var n=s(t,1,10),r=s(e,.1,2);return function(t){return 0===t||1===t?t:-n*Math.pow(2,10*(t-1))*Math.sin((t-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}};return["Quad","Cubic","Quart","Quint","Expo"].forEach((function(t,n){e[t]=function(){return function(t){return Math.pow(t,n+2)}}})),Object.keys(e).forEach((function(n){var r=e[n];t["easeIn"+n]=r,t["easeOut"+n]=function(t,e){return function(n){return 1-r(t,e)(1-n)}},t["easeInOut"+n]=function(t,e){return function(n){return n<.5?r(t,e)(2*n)/2:1-r(t,e)(-2*n+2)/2}},t["easeOutIn"+n]=function(t,e){return function(n){return n<.5?(1-r(t,e)(1-2*n))/2:(r(t,e)(2*n-1)+1)/2}}})),t}();function m(t,e){if(c.fnc(t))return t;var n=t.split("(")[0],r=v[n],i=h(t);switch(n){case"spring":return f(t,e);case"cubicBezier":return l(d,i);case"steps":return l(p,i);default:return l(r,i)}}function g(t){try{return document.querySelectorAll(t)}catch(e){return}}function y(t,e){for(var n=t.length,r=arguments.length>=2?arguments[1]:void 0,i=[],o=0;o<n;o++)if(o in t){var a=t[o];e.call(r,a,o,t)&&i.push(a)}return i}function _(t){return t.reduce((function(t,e){return t.concat(c.arr(e)?_(e):e)}),[])}function b(t){return c.arr(t)?t:(c.str(t)&&(t=g(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function x(t,e){return t.some((function(t){return t===e}))}function w(t){var e={};for(var n in t)e[n]=t[n];return e}function E(t,e){var n=w(t);for(var r in t)n[r]=e.hasOwnProperty(r)?e[r]:t[r];return n}function T(t,e){var n=w(t);for(var r in e)n[r]=c.und(t[r])?e[r]:t[r];return n}function S(t){return c.rgb(t)?function(t){var e=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t);return e?"rgba("+e[1]+",1)":t}(t):c.hex(t)?function(t){var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,r){return e+e+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(t):c.hsl(t)?function(t){var e,n,r,i=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),o=parseInt(i[1],10)/360,a=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100,u=i[4]||1;function l(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(0==a)e=n=r=s;else{var c=s<.5?s*(1+a):s+a-s*a,h=2*s-c;e=l(h,c,o+1/3),n=l(h,c,o),r=l(h,c,o-1/3)}return"rgba("+255*e+","+255*n+","+255*r+","+u+")"}(t):void 0}function A(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function O(t,e){return c.fnc(t)?t(e.target,e.id,e.total):t}function P(t,e){return t.getAttribute(e)}function M(t,e,n){if(x([n,"deg","rad","turn"],A(e)))return e;var r=a.CSS[e+n];if(!c.und(r))return r;var i=document.createElement(t.tagName),o=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;o.appendChild(i),i.style.position="absolute",i.style.width=100+n;var s=100/i.offsetWidth;o.removeChild(i);var u=s*parseFloat(e);return a.CSS[e+n]=u,u}function C(t,e,n){if(e in t.style){var r=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=t.style[e]||getComputedStyle(t).getPropertyValue(r)||"0";return n?M(t,i,n):i}}function R(t,e){return c.dom(t)&&!c.inp(t)&&(!c.nil(P(t,e))||c.svg(t)&&t[e])?"attribute":c.dom(t)&&x(o,e)?"transform":c.dom(t)&&"transform"!==e&&C(t,e)?"css":null!=t[e]?"object":void 0}function I(t){if(c.dom(t)){for(var e,n=t.style.transform||"",r=/(\w+)\(([^)]*)\)/g,i=new Map;e=r.exec(n);)i.set(e[1],e[2]);return i}}function N(t,e,n,r){var i=u(e,"scale")?1:0+function(t){return u(t,"translate")||"perspective"===t?"px":u(t,"rotate")||u(t,"skew")?"deg":void 0}(e),o=I(t).get(e)||i;return n&&(n.transforms.list.set(e,o),n.transforms.last=e),r?M(t,o,r):o}function k(t,e,n,r){switch(R(t,e)){case"transform":return N(t,e,r,n);case"css":return C(t,e,n);case"attribute":return P(t,e);default:return t[e]||0}}function D(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var r=A(t)||0,i=parseFloat(e),o=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return i+o+r;case"-":return i-o+r;case"*":return i*o+r}}function L(t,e){if(c.col(t))return S(t);if(/\s/g.test(t))return t;var n=A(t),r=n?t.substr(0,t.length-n.length):t;return e?r+e:r}function F(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function U(t){for(var e,n=t.points,r=0,i=0;i<n.numberOfItems;i++){var o=n.getItem(i);i>0&&(r+=F(e,o)),e=o}return r}function j(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return function(t){return 2*Math.PI*P(t,"r")}(t);case"rect":return function(t){return 2*P(t,"width")+2*P(t,"height")}(t);case"line":return function(t){return F({x:P(t,"x1"),y:P(t,"y1")},{x:P(t,"x2"),y:P(t,"y2")})}(t);case"polyline":return U(t);case"polygon":return function(t){var e=t.points;return U(t)+F(e.getItem(e.numberOfItems-1),e.getItem(0))}(t)}}function B(t,e){var n=e||{},r=n.el||function(t){for(var e=t.parentNode;c.svg(e)&&c.svg(e.parentNode);)e=e.parentNode;return e}(t),i=r.getBoundingClientRect(),o=P(r,"viewBox"),a=i.width,s=i.height,u=n.viewBox||(o?o.split(" "):[0,0,a,s]);return{el:r,viewBox:u,x:u[0]/1,y:u[1]/1,w:a,h:s,vW:u[2],vH:u[3]}}function G(t,e,n){function r(n){void 0===n&&(n=0);var r=e+n>=1?e+n:0;return t.el.getPointAtLength(r)}var i=B(t.el,t.svg),o=r(),a=r(-1),s=r(1),u=n?1:i.w/i.vW,l=n?1:i.h/i.vH;switch(t.property){case"x":return(o.x-i.x)*u;case"y":return(o.y-i.y)*l;case"angle":return 180*Math.atan2(s.y-a.y,s.x-a.x)/Math.PI}}function z(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=L(c.pth(t)?t.totalLength:t,e)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:c.str(t)||e?r.split(n):[]}}function V(t){return y(t?_(c.arr(t)?t.map(b):b(t)):[],(function(t,e,n){return n.indexOf(t)===e}))}function X(t){var e=V(t);return e.map((function(t,n){return{target:t,id:n,total:e.length,transforms:{list:I(t)}}}))}function H(t,e){var n=w(e);if(/^spring/.test(n.easing)&&(n.duration=f(n.easing)),c.arr(t)){var r=t.length;2===r&&!c.obj(t[0])?t={value:t}:c.fnc(e.duration)||(n.duration=e.duration/r)}var i=c.arr(t)?t:[t];return i.map((function(t,n){var r=c.obj(t)&&!c.pth(t)?t:{value:t};return c.und(r.delay)&&(r.delay=n?0:e.delay),c.und(r.endDelay)&&(r.endDelay=n===i.length-1?e.endDelay:0),r})).map((function(t){return T(t,n)}))}function Y(t,e){var n=[],r=e.keyframes;for(var i in r&&(e=T(function(t){for(var e=y(_(t.map((function(t){return Object.keys(t)}))),(function(t){return c.key(t)})).reduce((function(t,e){return t.indexOf(e)<0&&t.push(e),t}),[]),n={},r=function(r){var i=e[r];n[i]=t.map((function(t){var e={};for(var n in t)c.key(n)?n==i&&(e.value=t[n]):e[n]=t[n];return e}))},i=0;i<e.length;i++)r(i);return n}(r),e)),e)c.key(i)&&n.push({name:i,tweens:H(e[i],t)});return n}function W(t,e){var n;return t.tweens.map((function(r){var i=function(t,e){var n={};for(var r in t){var i=O(t[r],e);c.arr(i)&&1===(i=i.map((function(t){return O(t,e)}))).length&&(i=i[0]),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,e),o=i.value,a=c.arr(o)?o[1]:o,s=A(a),u=k(e.target,t.name,s,e),l=n?n.to.original:u,h=c.arr(o)?o[0]:l,f=A(h)||A(u),p=s||f;return c.und(a)&&(a=l),i.from=z(h,p),i.to=z(D(a,h),p),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=m(i.easing,i.duration),i.isPath=c.pth(o),i.isPathTargetInsideSVG=i.isPath&&c.svg(e.target),i.isColor=c.col(i.from.original),i.isColor&&(i.round=1),n=i,i}))}var q={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,r,i){if(r.list.set(e,n),e===r.last||i){var o="";r.list.forEach((function(t,e){o+=e+"("+t+") "})),t.style.transform=o}}};function K(t,e){X(t).forEach((function(t){for(var n in e){var r=O(e[n],t),i=t.target,o=A(r),a=k(i,n,o,t),s=D(L(r,o||A(a)),a),u=R(i,n);q[u](i,n,s,t.transforms,!0)}}))}function Z(t,e){return y(_(t.map((function(t){return e.map((function(e){return function(t,e){var n=R(t.target,e.name);if(n){var r=W(e,t),i=r[r.length-1];return{type:n,property:e.name,animatable:t,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}(t,e)}))}))),(function(t){return!c.und(t)}))}function $(t,e){var n=t.length,r=function(t){return t.timelineOffset?t.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,t.map((function(t){return r(t)+t.duration}))):e.duration,i.delay=n?Math.min.apply(Math,t.map((function(t){return r(t)+t.delay}))):e.delay,i.endDelay=n?i.duration-Math.max.apply(Math,t.map((function(t){return r(t)+t.duration-t.endDelay}))):e.endDelay,i}var Q=0;var J=[],tt=function(){var t;function e(n){for(var r=J.length,i=0;i<r;){var o=J[i];o.paused?(J.splice(i,1),r--):(o.tick(n),i++)}t=i>0?requestAnimationFrame(e):void 0}return"undefined"!==typeof document&&document.addEventListener("visibilitychange",(function(){nt.suspendWhenDocumentHidden&&(et()?t=cancelAnimationFrame(t):(J.forEach((function(t){return t._onDocumentVisibility()})),tt()))})),function(){t||et()&&nt.suspendWhenDocumentHidden||!(J.length>0)||(t=requestAnimationFrame(e))}}();function et(){return!!document&&document.hidden}function nt(t){void 0===t&&(t={});var e,n=0,o=0,a=0,u=0,l=null;function c(t){var e=window.Promise&&new Promise((function(t){return l=t}));return t.finished=e,e}var h=function(t){var e=E(r,t),n=E(i,t),o=Y(n,t),a=X(t.targets),s=Z(a,o),u=$(s,n),l=Q;return Q++,T(e,{id:l,children:[],animatables:a,animations:s,duration:u.duration,delay:u.delay,endDelay:u.endDelay})}(t);c(h);function f(){var t=h.direction;"alternate"!==t&&(h.direction="normal"!==t?"normal":"reverse"),h.reversed=!h.reversed,e.forEach((function(t){return t.reversed=h.reversed}))}function p(t){return h.reversed?h.duration-t:t}function d(){n=0,o=p(h.currentTime)*(1/nt.speed)}function v(t,e){e&&e.seek(t-e.timelineOffset)}function m(t){for(var e=0,n=h.animations,r=n.length;e<r;){var i=n[e],o=i.animatable,a=i.tweens,u=a.length-1,l=a[u];u&&(l=y(a,(function(e){return t<e.end}))[0]||l);for(var c=s(t-l.start-l.delay,0,l.duration)/l.duration,f=isNaN(c)?1:l.easing(c),p=l.to.strings,d=l.round,v=[],m=l.to.numbers.length,g=void 0,_=0;_<m;_++){var b=void 0,x=l.to.numbers[_],w=l.from.numbers[_]||0;b=l.isPath?G(l.value,f*x,l.isPathTargetInsideSVG):w+f*(x-w),d&&(l.isColor&&_>2||(b=Math.round(b*d)/d)),v.push(b)}var E=p.length;if(E){g=p[0];for(var T=0;T<E;T++){p[T];var S=p[T+1],A=v[T];isNaN(A)||(g+=S?A+S:A+" ")}}else g=v[0];q[i.type](o.target,i.property,g,o.transforms),i.currentValue=g,e++}}function g(t){h[t]&&!h.passThrough&&h[t](h)}function _(t){var r=h.duration,i=h.delay,d=r-h.endDelay,y=p(t);h.progress=s(y/r*100,0,100),h.reversePlayback=y<h.currentTime,e&&function(t){if(h.reversePlayback)for(var n=u;n--;)v(t,e[n]);else for(var r=0;r<u;r++)v(t,e[r])}(y),!h.began&&h.currentTime>0&&(h.began=!0,g("begin")),!h.loopBegan&&h.currentTime>0&&(h.loopBegan=!0,g("loopBegin")),y<=i&&0!==h.currentTime&&m(0),(y>=d&&h.currentTime!==r||!r)&&m(r),y>i&&y<d?(h.changeBegan||(h.changeBegan=!0,h.changeCompleted=!1,g("changeBegin")),g("change"),m(y)):h.changeBegan&&(h.changeCompleted=!0,h.changeBegan=!1,g("changeComplete")),h.currentTime=s(y,0,r),h.began&&g("update"),t>=r&&(o=0,h.remaining&&!0!==h.remaining&&h.remaining--,h.remaining?(n=a,g("loopComplete"),h.loopBegan=!1,"alternate"===h.direction&&f()):(h.paused=!0,h.completed||(h.completed=!0,g("loopComplete"),g("complete"),!h.passThrough&&"Promise"in window&&(l(),c(h)))))}return h.reset=function(){var t=h.direction;h.passThrough=!1,h.currentTime=0,h.progress=0,h.paused=!0,h.began=!1,h.loopBegan=!1,h.changeBegan=!1,h.completed=!1,h.changeCompleted=!1,h.reversePlayback=!1,h.reversed="reverse"===t,h.remaining=h.loop,e=h.children;for(var n=u=e.length;n--;)h.children[n].reset();(h.reversed&&!0!==h.loop||"alternate"===t&&1===h.loop)&&h.remaining++,m(h.reversed?h.duration:0)},h._onDocumentVisibility=d,h.set=function(t,e){return K(t,e),h},h.tick=function(t){a=t,n||(n=a),_((a+(o-n))*nt.speed)},h.seek=function(t){_(p(t))},h.pause=function(){h.paused=!0,d()},h.play=function(){h.paused&&(h.completed&&h.reset(),h.paused=!1,J.push(h),d(),tt())},h.reverse=function(){f(),h.completed=!h.reversed,d()},h.restart=function(){h.reset(),h.play()},h.remove=function(t){it(V(t),h)},h.reset(),h.autoplay&&h.play(),h}function rt(t,e){for(var n=e.length;n--;)x(t,e[n].animatable.target)&&e.splice(n,1)}function it(t,e){var n=e.animations,r=e.children;rt(t,n);for(var i=r.length;i--;){var o=r[i],a=o.animations;rt(t,a),a.length||o.children.length||r.splice(i,1)}n.length||r.length||e.pause()}nt.version="3.2.1",nt.speed=1,nt.suspendWhenDocumentHidden=!0,nt.running=J,nt.remove=function(t){for(var e=V(t),n=J.length;n--;){it(e,J[n])}},nt.get=k,nt.set=K,nt.convertPx=M,nt.path=function(t,e){var n=c.str(t)?g(t)[0]:t,r=e||100;return function(t){return{property:t,el:n,svg:B(n),totalLength:j(n)*(r/100)}}},nt.setDashoffset=function(t){var e=j(t);return t.setAttribute("stroke-dasharray",e),e},nt.stagger=function(t,e){void 0===e&&(e={});var n=e.direction||"normal",r=e.easing?m(e.easing):null,i=e.grid,o=e.axis,a=e.from||0,s="first"===a,u="center"===a,l="last"===a,h=c.arr(t),f=h?parseFloat(t[0]):parseFloat(t),p=h?parseFloat(t[1]):0,d=A(h?t[1]:t)||0,v=e.start||0+(h?f:0),g=[],y=0;return function(t,e,c){if(s&&(a=0),u&&(a=(c-1)/2),l&&(a=c-1),!g.length){for(var m=0;m<c;m++){if(i){var _=u?(i[0]-1)/2:a%i[0],b=u?(i[1]-1)/2:Math.floor(a/i[0]),x=_-m%i[0],w=b-Math.floor(m/i[0]),E=Math.sqrt(x*x+w*w);"x"===o&&(E=-x),"y"===o&&(E=-w),g.push(E)}else g.push(Math.abs(a-m));y=Math.max.apply(Math,g)}r&&(g=g.map((function(t){return r(t/y)*y}))),"reverse"===n&&(g=g.map((function(t){return o?t<0?-1*t:-t:Math.abs(y-t)})))}return v+(h?(p-f)/y:f)*(Math.round(100*g[e])/100)+d}},nt.timeline=function(t){void 0===t&&(t={});var e=nt(t);return e.duration=0,e.add=function(n,r){var o=J.indexOf(e),a=e.children;function s(t){t.passThrough=!0}o>-1&&J.splice(o,1);for(var u=0;u<a.length;u++)s(a[u]);var l=T(n,E(i,t));l.targets=l.targets||t.targets;var h=e.duration;l.autoplay=!1,l.direction=e.direction,l.timelineOffset=c.und(r)?h:D(r,h),s(e),e.seek(l.timelineOffset);var f=nt(l);s(f),a.push(f);var p=$(a,t);return e.delay=p.delay,e.endDelay=p.endDelay,e.duration=p.duration,e.seek(0),e.reset(),e.autoplay&&e.play(),e},e},nt.easing=m,nt.penner=v,nt.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},e.a=nt},,,,,,,function(t,e,n){"use strict";var r=n(77),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,u=60112;e.Suspense=60113;var l=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),e.Fragment=h("react.fragment"),e.StrictMode=h("react.strict_mode"),e.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),e.Suspense=h("react.suspense"),l=h("react.memo"),c=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function p(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||d}function g(){}function y(t,e,n){this.props=t,this.context=e,this.refs=v,this.updater=n||d}m.prototype.isReactComponent={},m.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(p(85));this.updater.enqueueSetState(this,t,e,"setState")},m.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},g.prototype=m.prototype;var _=y.prototype=new g;_.constructor=y,r(_,m.prototype),_.isPureReactComponent=!0;var b={current:null},x=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)x.call(e,r)&&!w.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:b.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var S=/\/+/g;function A(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function O(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=t),t=""===r?"."+A(u,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(S,"$&/")+"/"),O(a,e,n,"",(function(t){return t}))):null!=a&&(T(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+t)),e.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=r+A(s=t[l],l);u+=O(s,e,n,c,a)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=O(s=s.value,e,n,c=r+A(s,l++),a);else if("object"===s)throw e=""+t,Error(p(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return u}function P(t,e,n){if(null==t)return t;var r=[],i=0;return O(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function M(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var C={current:null};function R(){var t=C.current;if(null===t)throw Error(p(321));return t}var I={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:P,forEach:function(t,e,n){P(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return P(t,(function(){e++})),e},toArray:function(t){return P(t,(function(t){return t}))||[]},only:function(t){if(!T(t))throw Error(p(143));return t}},e.Component=m,e.PureComponent=y,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(p(267,t));var o=r({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,u=b.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)x.call(e,c)&&!w.hasOwnProperty(c)&&(o[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];o.children=l}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:c,_payload:{_status:-1,_result:t},_init:M}},e.memo=function(t,e){return{$$typeof:l,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return R().useCallback(t,e)},e.useContext=function(t,e){return R().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return R().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return R().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return R().useLayoutEffect(t,e)},e.useMemo=function(t,e){return R().useMemo(t,e)},e.useReducer=function(t,e,n){return R().useReducer(t,e,n)},e.useRef=function(t){return R().useRef(t)},e.useState=function(t){return R().useState(t)},e.version="17.0.2"},function(t,e,n){"use strict";var r=n(44),i=n(77),o=n(248);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(u[t]=e,t=0;t<e.length;t++)s.add(e[t])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,d={},v={};function m(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){g[t]=new m(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];g[e]=new m(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){g[t]=new m(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){g[t]=new m(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){g[t]=new m(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){g[t]=new m(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){g[t]=new m(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){g[t]=new m(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){g[t]=new m(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function _(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=g.hasOwnProperty(e)?g[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!p.call(v,t)||!p.call(d,t)&&(f.test(t)?v[t]=!0:(d[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,_);g[e]=new m(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,_);g[e]=new m(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,_);g[e]=new m(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){g[t]=new m(t,1,!1,t.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=60103,E=60106,T=60107,S=60108,A=60114,O=60109,P=60110,M=60112,C=60113,R=60120,I=60115,N=60116,k=60121,D=60128,L=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;w=j("react.element"),E=j("react.portal"),T=j("react.fragment"),S=j("react.strict_mode"),A=j("react.profiler"),O=j("react.provider"),P=j("react.context"),M=j("react.forward_ref"),C=j("react.suspense"),R=j("react.suspense_list"),I=j("react.memo"),N=j("react.lazy"),k=j("react.block"),j("react.scope"),D=j("react.opaque.id"),L=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var B,G="function"===typeof Symbol&&Symbol.iterator;function z(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=G&&t[G]||t["@@iterator"])?t:null}function V(t){if(void 0===B)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);B=e&&e[1]||""}return"\n"+B+t}var X=!1;function H(t,e){if(!t||X)return"";X=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{X=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?V(t):""}function Y(t){switch(t.tag){case 5:return V(t.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return t=H(t.type,!1);case 11:return t=H(t.type.render,!1);case 22:return t=H(t.type._render,!1);case 1:return t=H(t.type,!0);default:return""}}function W(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case T:return"Fragment";case E:return"Portal";case A:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case R:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case P:return(t.displayName||"Context")+".Consumer";case O:return(t._context.displayName||"Context")+".Provider";case M:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case I:return W(t.type);case k:return W(t._render);case N:e=t._payload,t=t._init;try{return W(t(e))}catch(n){}}return null}function q(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function K(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Z(t){t._valueTracker||(t._valueTracker=function(t){var e=K(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function $(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=K(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Q(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function J(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=q(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=q(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,q(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&Q(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+q(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ut(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:q(n)}}function lt(t,e){var n=q(e.value),r=q(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ct(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ht="http://www.w3.org/1999/xhtml",ft="http://www.w3.org/2000/svg";function pt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?pt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var vt,mt,gt=(mt=function(t,e){if(t.namespaceURI!==ft||"innerHTML"in t)t.innerHTML=e;else{for((vt=vt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return mt(t,e)}))}:mt);function yt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var _t={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bt=["Webkit","ms","Moz","O"];function xt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||_t.hasOwnProperty(t)&&_t[t]?(""+e).trim():e+"px"}function wt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=xt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(_t).forEach((function(t){bt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_t[e]=_t[t]}))}));var Et=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tt(t,e){if(e){if(Et[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function St(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function At(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Ot=null,Pt=null,Mt=null;function Ct(t){if(t=ri(t)){if("function"!==typeof Ot)throw Error(a(280));var e=t.stateNode;e&&(e=oi(e),Ot(t.stateNode,t.type,e))}}function Rt(t){Pt?Mt?Mt.push(t):Mt=[t]:Pt=t}function It(){if(Pt){var t=Pt,e=Mt;if(Mt=Pt=null,Ct(t),e)for(t=0;t<e.length;t++)Ct(e[t])}}function Nt(t,e){return t(e)}function kt(t,e,n,r,i){return t(e,n,r,i)}function Dt(){}var Lt=Nt,Ft=!1,Ut=!1;function jt(){null===Pt&&null===Mt||(Dt(),It())}function Bt(t,e){var n=t.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var Gt=!1;if(h)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Gt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(mt){Gt=!1}function Vt(t,e,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Xt=!1,Ht=null,Yt=!1,Wt=null,qt={onError:function(t){Xt=!0,Ht=t}};function Kt(t,e,n,r,i,o,a,s,u){Xt=!1,Ht=null,Vt.apply(qt,arguments)}function Zt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function $t(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Qt(t){if(Zt(t)!==t)throw Error(a(188))}function Jt(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=Zt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qt(i),t;if(o===r)return Qt(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function te(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var ee,ne,re,ie,oe=!1,ae=[],se=null,ue=null,le=null,ce=new Map,he=new Map,fe=[],pe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function de(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ve(t,e){switch(t){case"focusin":case"focusout":se=null;break;case"dragenter":case"dragleave":ue=null;break;case"mouseover":case"mouseout":le=null;break;case"pointerover":case"pointerout":ce.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":he.delete(e.pointerId)}}function me(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=de(e,n,r,i,o),null!==e&&(null!==(e=ri(e))&&ne(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ge(t){var e=ni(t.target);if(null!==e){var n=Zt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=$t(n)))return t.blockedOn=e,void ie(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){re(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ye(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ri(n))&&ne(e),t.blockedOn=n,!1;e.shift()}return!0}function _e(t,e,n){ye(t)&&n.delete(e)}function be(){for(oe=!1;0<ae.length;){var t=ae[0];if(null!==t.blockedOn){null!==(t=ri(t.blockedOn))&&ee(t);break}for(var e=t.targetContainers;0<e.length;){var n=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&ae.shift()}null!==se&&ye(se)&&(se=null),null!==ue&&ye(ue)&&(ue=null),null!==le&&ye(le)&&(le=null),ce.forEach(_e),he.forEach(_e)}function xe(t,e){t.blockedOn===e&&(t.blockedOn=null,oe||(oe=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,be)))}function we(t){function e(e){return xe(e,t)}if(0<ae.length){xe(ae[0],t);for(var n=1;n<ae.length;n++){var r=ae[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==se&&xe(se,t),null!==ue&&xe(ue,t),null!==le&&xe(le,t),ce.forEach(e),he.forEach(e),n=0;n<fe.length;n++)(r=fe[n]).blockedOn===t&&(r.blockedOn=null);for(;0<fe.length&&null===(n=fe[0]).blockedOn;)ge(n),null===n.blockedOn&&fe.shift()}function Ee(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Te={animationend:Ee("Animation","AnimationEnd"),animationiteration:Ee("Animation","AnimationIteration"),animationstart:Ee("Animation","AnimationStart"),transitionend:Ee("Transition","TransitionEnd")},Se={},Ae={};function Oe(t){if(Se[t])return Se[t];if(!Te[t])return t;var e,n=Te[t];for(e in n)if(n.hasOwnProperty(e)&&e in Ae)return Se[t]=n[e];return t}h&&(Ae=document.createElement("div").style,"AnimationEvent"in window||(delete Te.animationend.animation,delete Te.animationiteration.animation,delete Te.animationstart.animation),"TransitionEvent"in window||delete Te.transitionend.transition);var Pe=Oe("animationend"),Me=Oe("animationiteration"),Ce=Oe("animationstart"),Re=Oe("transitionend"),Ie=new Map,Ne=new Map,ke=["abort","abort",Pe,"animationEnd",Me,"animationIteration",Ce,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Re,"transitionEnd","waiting","waiting"];function De(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ne.set(r,e),Ie.set(r,i),l(i,[r])}}(0,o.unstable_now)();var Le=8;function Fe(t){if(0!==(1&t))return Le=15,1;if(0!==(2&t))return Le=14,2;if(0!==(4&t))return Le=13,4;var e=24&t;return 0!==e?(Le=12,e):0!==(32&t)?(Le=11,32):0!==(e=192&t)?(Le=10,e):0!==(256&t)?(Le=9,256):0!==(e=3584&t)?(Le=8,e):0!==(4096&t)?(Le=7,4096):0!==(e=4186112&t)?(Le=6,e):0!==(e=62914560&t)?(Le=5,e):67108864&t?(Le=4,67108864):0!==(134217728&t)?(Le=3,134217728):0!==(e=805306368&t)?(Le=2,e):0!==(1073741824&t)?(Le=1,1073741824):(Le=8,t)}function Ue(t,e){var n=t.pendingLanes;if(0===n)return Le=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=Le=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Fe(u),i=Le):0!==(s&=o)&&(r=Fe(s),i=Le)}else 0!==(o=n&~a)?(r=Fe(o),i=Le):0!==s&&(r=Fe(s),i=Le);if(0===r)return 0;if(r=n&((0>(r=31-Xe(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0===(e&a)){if(Fe(e),i<=Le)return e;Le=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-Xe(e)),r|=t[n],e&=~i;return r}function je(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Be(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Ge(24&~e))?Be(10,e):t;case 10:return 0===(t=Ge(192&~e))?Be(8,e):t;case 8:return 0===(t=Ge(3584&~e))&&(0===(t=Ge(4186112&~e))&&(t=512)),t;case 2:return 0===(e=Ge(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function Ge(t){return t&-t}function ze(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ve(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-Xe(e)]=n}var Xe=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(He(t)/Ye|0)|0},He=Math.log,Ye=Math.LN2;var We=o.unstable_UserBlockingPriority,qe=o.unstable_runWithPriority,Ke=!0;function Ze(t,e,n,r){Ft||Dt();var i=Qe,o=Ft;Ft=!0;try{kt(i,t,e,n,r)}finally{(Ft=o)||jt()}}function $e(t,e,n,r){qe(We,Qe.bind(null,t,e,n,r))}function Qe(t,e,n,r){var i;if(Ke)if((i=0===(4&e))&&0<ae.length&&-1<pe.indexOf(t))t=de(null,t,e,n,r),ae.push(t);else{var o=Je(t,e,n,r);if(null===o)i&&ve(t,r);else{if(i){if(-1<pe.indexOf(t))return t=de(o,t,e,n,r),void ae.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return se=me(se,t,e,n,r,i),!0;case"dragenter":return ue=me(ue,t,e,n,r,i),!0;case"mouseover":return le=me(le,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ce.set(o,me(ce.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,he.set(o,me(he.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;ve(t,r)}Dr(t,e,r,null,n)}}}function Je(t,e,n,r){var i=At(r);if(null!==(i=ni(i))){var o=Zt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=$t(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(t,e,r,i,n),null}var tn=null,en=null,nn=null;function rn(){if(nn)return nn;var t,e,n=en,r=n.length,i="value"in tn?tn.value:tn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return nn=i.slice(t,1<e?1-e:void 0)}function on(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function an(){return!0}function sn(){return!1}function un(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),e}var ln,cn,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=un(fn),dn=i({},fn,{view:0,detail:0}),vn=un(dn),mn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hn&&(hn&&"mousemove"===t.type?(ln=t.screenX-hn.screenX,cn=t.screenY-hn.screenY):cn=ln=0,hn=t),ln)},movementY:function(t){return"movementY"in t?t.movementY:cn}}),gn=un(mn),yn=un(i({},mn,{dataTransfer:0})),_n=un(i({},dn,{relatedTarget:0})),bn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=i({},fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wn=un(xn),En=un(i({},fn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function On(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=An[t])&&!!e[t]}function Pn(){return On}var Mn=i({},dn,{key:function(t){if(t.key){var e=Tn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=on(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Sn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pn,charCode:function(t){return"keypress"===t.type?on(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?on(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Cn=un(Mn),Rn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=un(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pn})),Nn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=i({},mn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=un(kn),Ln=[9,13,27,32],Fn=h&&"CompositionEvent"in window,Un=null;h&&"documentMode"in document&&(Un=document.documentMode);var jn=h&&"TextEvent"in window&&!Un,Bn=h&&(!Fn||Un&&8<Un&&11>=Un),Gn=String.fromCharCode(32),zn=!1;function Vn(t,e){switch(t){case"keyup":return-1!==Ln.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Hn=!1;var Yn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Yn[t.type]:"textarea"===e}function qn(t,e,n,r){Rt(r),0<(e=Fr(e,"onChange")).length&&(n=new pn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kn=null,Zn=null;function $n(t){Mr(t,0)}function Qn(t){if($(ii(t)))return t}function Jn(t,e){if("change"===t)return e}var tr=!1;if(h){var er;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}er=nr}else er=!1;tr=er&&(!document.documentMode||9<document.documentMode)}function ir(){Kn&&(Kn.detachEvent("onpropertychange",or),Zn=Kn=null)}function or(t){if("value"===t.propertyName&&Qn(Zn)){var e=[];if(qn(e,Zn,t,At(t)),t=$n,Ft)t(e);else{Ft=!0;try{Nt(t,e)}finally{Ft=!1,jt()}}}}function ar(t,e,n){"focusin"===t?(ir(),Zn=n,(Kn=e).attachEvent("onpropertychange",or)):"focusout"===t&&ir()}function sr(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Qn(Zn)}function ur(t,e){if("click"===t)return Qn(e)}function lr(t,e){if("input"===t||"change"===t)return Qn(e)}var cr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},hr=Object.prototype.hasOwnProperty;function fr(t,e){if(cr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(e,n[r])||!cr(t[n[r]],e[n[r]]))return!1;return!0}function pr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dr(t,e){var n,r=pr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=pr(r)}}function vr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?vr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function mr(){for(var t=window,e=Q();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=Q((t=e.contentWindow).document)}return e}function gr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var yr=h&&"documentMode"in document&&11>=document.documentMode,_r=null,br=null,xr=null,wr=!1;function Er(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==_r||_r!==Q(r)||("selectionStart"in(r=_r)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&fr(xr,r)||(xr=r,0<(r=Fr(br,"onSelect")).length&&(e=new pn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_r)))}De("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),De("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),De(ke,2);for(var Tr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Tr.length;Sr++)Ne.set(Tr[Sr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Pr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,s,u,l){if(Kt.apply(this,arguments),Xt){if(!Xt)throw Error(a(198));var c=Ht;Xt=!1,Ht=null,Yt||(Yt=!0,Wt=c)}}(r,e,void 0,t),t.currentTarget=null}function Mr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break t;Pr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break t;Pr(i,s,l),o=u}}}if(Yt)throw t=Wt,Yt=!1,Wt=null,t}function Cr(t,e){var n=ai(e),r=t+"__bubble";n.has(r)||(kr(e,t,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Ir(t){t[Rr]||(t[Rr]=!0,s.forEach((function(e){Or.has(e)||Nr(e,!1,t,null),Nr(e,!0,t,null)})))}function Nr(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&Or.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=ai(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),kr(o,t,i,e),a.add(s))}function kr(t,e,n,r){var i=Ne.get(e);switch(void 0===i?2:i){case 0:i=Ze;break;case 1:i=$e;break;default:i=Qe}n=i.bind(null,e,n,t),i=void 0,!Gt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dr(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue t}s=s.parentNode}}r=r.return}!function(t,e,n){if(Ut)return t(e,n);Ut=!0;try{Lt(t,e,n)}finally{Ut=!1,jt()}}((function(){var r=o,i=At(n),a=[];t:{var s=Ie.get(t);if(void 0!==s){var u=pn,l=t;switch(t){case"keypress":if(0===on(n))break t;case"keydown":case"keyup":u=Cn;break;case"focusin":l="focus",u=_n;break;case"focusout":l="blur",u=_n;break;case"beforeblur":case"afterblur":u=_n;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=In;break;case Pe:case Me:case Ce:u=bn;break;case Re:u=Nn;break;case"scroll":u=vn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rn}var c=0!==(4&e),h=!c&&"scroll"===t,f=c?null!==s?s+"Capture":null:s;c=[];for(var p,d=r;null!==d;){var v=(p=d).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==f&&(null!=(v=Bt(d,f))&&c.push(Lr(d,v,p)))),h)break;d=d.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(l=n.relatedTarget||n.fromElement)||!ni(l)&&!l[ti])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?ni(l):null)&&(l!==(h=Zt(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=gn,v="onMouseLeave",f="onMouseEnter",d="mouse","pointerout"!==t&&"pointerover"!==t||(c=Rn,v="onPointerLeave",f="onPointerEnter",d="pointer"),h=null==u?s:ii(u),p=null==l?s:ii(l),(s=new c(v,d+"leave",u,n,i)).target=h,s.relatedTarget=p,v=null,ni(i)===r&&((c=new c(f,d+"enter",l,n,i)).target=p,c.relatedTarget=h,v=c),h=v,u&&l)t:{for(f=l,d=0,p=c=u;p;p=Ur(p))d++;for(p=0,v=f;v;v=Ur(v))p++;for(;0<d-p;)c=Ur(c),d--;for(;0<p-d;)f=Ur(f),p--;for(;d--;){if(c===f||null!==f&&c===f.alternate)break t;c=Ur(c),f=Ur(f)}c=null}else c=null;null!==u&&jr(a,s,u,c,!1),null!==l&&null!==h&&jr(a,h,l,c,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Jn;else if(Wn(s))if(tr)m=lr;else{m=sr;var g=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(t,r))?qn(a,m,n,i):(g&&g(t,s,r),"focusout"===t&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&it(s,"number",s.value)),g=r?ii(r):window,t){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(_r=g,br=r,xr=null);break;case"focusout":xr=br=_r=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,Er(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Er(a,n,i)}var y;if(Fn)t:{switch(t){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else Hn?Vn(t,n)&&(_="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(_="onCompositionStart");_&&(Bn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Hn&&(y=rn()):(en="value"in(tn=i)?tn.value:tn.textContent,Hn=!0)),0<(g=Fr(r,_)).length&&(_=new En(_,t,null,n,i),a.push({event:_,listeners:g}),y?_.data=y:null!==(y=Xn(n))&&(_.data=y))),(y=jn?function(t,e){switch(t){case"compositionend":return Xn(e);case"keypress":return 32!==e.which?null:(zn=!0,Gn);case"textInput":return(t=e.data)===Gn&&zn?null:t;default:return null}}(t,n):function(t,e){if(Hn)return"compositionend"===t||!Fn&&Vn(t,e)?(t=rn(),nn=en=tn=null,Hn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Mr(a,e)}))}function Lr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Bt(t,n))&&r.unshift(Lr(t,o,i)),null!=(o=Bt(t,e))&&r.push(Lr(t,o,i))),t=t.return}return r}function Ur(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function jr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Bt(n,o))&&a.unshift(Lr(n,u,s)):i||null!=(u=Bt(n,o))&&a.push(Lr(n,u,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function Br(){}var Gr=null,zr=null;function Vr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Xr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Yr="function"===typeof clearTimeout?clearTimeout:void 0;function Wr(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function qr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Kr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Zr=0;var $r=Math.random().toString(36).slice(2),Qr="__reactFiber$"+$r,Jr="__reactProps$"+$r,ti="__reactContainer$"+$r,ei="__reactEvents$"+$r;function ni(t){var e=t[Qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ti]||n[Qr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Kr(t);null!==t;){if(n=t[Qr])return n;t=Kr(t)}return e}n=(t=n).parentNode}return null}function ri(t){return!(t=t[Qr]||t[ti])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ii(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function oi(t){return t[Jr]||null}function ai(t){var e=t[ei];return void 0===e&&(e=t[ei]=new Set),e}var si=[],ui=-1;function li(t){return{current:t}}function ci(t){0>ui||(t.current=si[ui],si[ui]=null,ui--)}function hi(t,e){ui++,si[ui]=t.current,t.current=e}var fi={},pi=li(fi),di=li(!1),vi=fi;function mi(t,e){var n=t.type.contextTypes;if(!n)return fi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function gi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function yi(){ci(di),ci(pi)}function _i(t,e,n){if(pi.current!==fi)throw Error(a(168));hi(pi,e),hi(di,n)}function bi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,W(e)||"Unknown",o));return i({},n,r)}function xi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fi,vi=pi.current,hi(pi,t),hi(di,di.current),!0}function wi(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=bi(t,e,vi),r.__reactInternalMemoizedMergedChildContext=t,ci(di),ci(pi),hi(pi,t)):ci(di),hi(di,n)}var Ei=null,Ti=null,Si=o.unstable_runWithPriority,Ai=o.unstable_scheduleCallback,Oi=o.unstable_cancelCallback,Pi=o.unstable_shouldYield,Mi=o.unstable_requestPaint,Ci=o.unstable_now,Ri=o.unstable_getCurrentPriorityLevel,Ii=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,ki=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Fi={},Ui=void 0!==Mi?Mi:function(){},ji=null,Bi=null,Gi=!1,zi=Ci(),Vi=1e4>zi?Ci:function(){return Ci()-zi};function Xi(){switch(Ri()){case Ii:return 99;case Ni:return 98;case ki:return 97;case Di:return 96;case Li:return 95;default:throw Error(a(332))}}function Hi(t){switch(t){case 99:return Ii;case 98:return Ni;case 97:return ki;case 96:return Di;case 95:return Li;default:throw Error(a(332))}}function Yi(t,e){return t=Hi(t),Si(t,e)}function Wi(t,e,n){return t=Hi(t),Ai(t,e,n)}function qi(){if(null!==Bi){var t=Bi;Bi=null,Oi(t)}Ki()}function Ki(){if(!Gi&&null!==ji){Gi=!0;var t=0;try{var e=ji;Yi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(t+1)),Ai(Ii,qi),n}finally{Gi=!1}}}var Zi=x.ReactCurrentBatchConfig;function $i(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Qi=li(null),Ji=null,to=null,eo=null;function no(){eo=to=Ji=null}function ro(t){var e=Qi.current;ci(Qi),t.type._context._currentValue=e}function io(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function oo(t,e){Ji=t,eo=to=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Fa=!0),t.firstContext=null)}function ao(t,e){if(eo!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(eo=t,e=1073741823),e={context:t,observedBits:e,next:null},null===to){if(null===Ji)throw Error(a(308));to=e,Ji.dependencies={lanes:0,firstContext:e,responders:null}}else to=to.next=e;return t._currentValue}var so=!1;function uo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function co(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ho(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function fo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function po(t,e,n,r){var o=t.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var l=u,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var h=t.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=c:f.next=c,h.lastBaseUpdate=l)}}if(null!==a){for(f=o.baseState,s=0,h=c=l=null;;){u=a.lane;var p=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var d=t,v=a;switch(u=e,p=n,v.tag){case 1:if("function"===typeof(d=v.payload)){f=d.call(p,f,u);break t}f=d;break t;case 3:d.flags=-4097&d.flags|64;case 0:if(null===(u="function"===typeof(d=v.payload)?d.call(p,f,u):d)||void 0===u)break t;f=i({},f,u);break t;case 2:so=!0}}null!==a.callback&&(t.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=p,l=f):h=h.next=p,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(l=f),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=h,Gs|=s,t.lanes=s,t.memoizedState=f}}function vo(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var mo=(new r.Component).refs;function go(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var yo={isMounted:function(t){return!!(t=t._reactInternals)&&Zt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fu(),i=pu(t),o=co(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),ho(t,o),du(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fu(),i=pu(t),o=co(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),ho(t,o),du(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fu(),r=pu(t),i=co(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),ho(t,i),du(t,r,n)}};function _o(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function bo(t,e,n){var r=!1,i=fi,o=e.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=gi(e)?vi:pi.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?mi(t,i):fi),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=yo,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function xo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yo.enqueueReplaceState(e,e.state,null)}function wo(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=mo,uo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=gi(e)?vi:pi.current,i.context=mi(t,o)),po(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(go(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&yo.enqueueReplaceState(i,i.state,null),po(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4)}var Eo=Array.isArray;function To(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=r.refs;e===mo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function So(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Ao(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Yu(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Zu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=To(t,e,n),r.return=t,r):((r=Wu(n.type,n.key,n.props,null,t.mode,r)).ref=To(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=$u(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,o){return null===e||7!==e.tag?((e=qu(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Zu(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case w:return(n=Wu(e.type,e.key,e.props,null,t.mode,n)).ref=To(t,null,e),n.return=t,n;case E:return(e=$u(e,t.mode,n)).return=t,e}if(Eo(e)||z(e))return(e=qu(e,t.mode,n,null)).return=t,e;So(t,e)}return null}function p(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?n.type===T?h(t,e,n.props.children,r,i):l(t,e,n,r):null;case E:return n.key===i?c(t,e,n,r):null}if(Eo(n)||z(n))return null!==i?null:h(t,e,n,r,null);So(t,n)}return null}function d(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return t=t.get(null===r.key?n:r.key)||null,r.type===T?h(e,t,r.props.children,i,r.key):l(e,t,r,i);case E:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(Eo(r)||z(r))return h(e,t=t.get(n)||null,r,i,null);So(e,r)}return null}function v(i,a,s,u){for(var l=null,c=null,h=a,v=a=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=p(i,h,s[v],u);if(null===g){null===h&&(h=m);break}t&&h&&null===g.alternate&&e(i,h),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,h=m}if(v===s.length)return n(i,h),l;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);v<s.length;v++)null!==(m=d(h,i,v,s[v],u))&&(t&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return t&&h.forEach((function(t){return e(i,t)})),l}function m(i,s,u,l){var c=z(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var h=c=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var _=p(i,v,y.value,l);if(null===_){null===v&&(v=g);break}t&&v&&null===_.alternate&&e(i,v),s=o(_,s,m),null===h?c=_:h.sibling=_,h=_,v=g}if(y.done)return n(i,v),c;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,l))&&(s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return c}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=d(v,i,m,y.value,l))&&(t&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===h?c=y:h.sibling=y,h=y);return t&&v.forEach((function(t){return e(i,t)})),c}return function(t,r,o,u){var l="object"===typeof o&&null!==o&&o.type===T&&null===o.key;l&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case w:t:{for(c=o.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(o.type===T){n(t,l.sibling),(r=i(l,o.props.children)).return=t,t=r;break t}}else if(l.elementType===o.type){n(t,l.sibling),(r=i(l,o.props)).ref=To(t,l,o),r.return=t,t=r;break t}n(t,l);break}e(t,l),l=l.sibling}o.type===T?((r=qu(o.props.children,t.mode,u,o.key)).return=t,t=r):((u=Wu(o.type,o.key,o.props,null,t.mode,u)).ref=To(t,r,o),u.return=t,t=u)}return s(t);case E:t:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=$u(o,t.mode,u)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Zu(o,t.mode,u)).return=t,t=r),s(t);if(Eo(o))return v(t,r,o,u);if(z(o))return m(t,r,o,u);if(c&&So(t,o),"undefined"===typeof o&&!l)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,W(t.type)||"Component"))}return n(t,r)}}var Oo=Ao(!0),Po=Ao(!1),Mo={},Co=li(Mo),Ro=li(Mo),Io=li(Mo);function No(t){if(t===Mo)throw Error(a(174));return t}function ko(t,e){switch(hi(Io,e),hi(Ro,t),hi(Co,Mo),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dt(null,"");break;default:e=dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ci(Co),hi(Co,e)}function Do(){ci(Co),ci(Ro),ci(Io)}function Lo(t){No(Io.current);var e=No(Co.current),n=dt(e,t.type);e!==n&&(hi(Ro,t),hi(Co,n))}function Fo(t){Ro.current===t&&(ci(Co),ci(Ro))}var Uo=li(0);function jo(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bo=null,Go=null,zo=!1;function Vo(t,e){var n=Xu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Xo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Ho(t){if(zo){var e=Go;if(e){var n=e;if(!Xo(t,e)){if(!(e=qr(n.nextSibling))||!Xo(t,e))return t.flags=-1025&t.flags|2,zo=!1,void(Bo=t);Vo(Bo,n)}Bo=t,Go=qr(e.firstChild)}else t.flags=-1025&t.flags|2,zo=!1,Bo=t}}function Yo(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Bo=t}function Wo(t){if(t!==Bo)return!1;if(!zo)return Yo(t),zo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Xr(e,t.memoizedProps))for(e=Go;e;)Vo(t,e),e=qr(e.nextSibling);if(Yo(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Go=qr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Go=null}}else Go=Bo?qr(t.stateNode.nextSibling):null;return!0}function qo(){Go=Bo=null,zo=!1}var Ko=[];function Zo(){for(var t=0;t<Ko.length;t++)Ko[t]._workInProgressVersionPrimary=null;Ko.length=0}var $o=x.ReactCurrentDispatcher,Qo=x.ReactCurrentBatchConfig,Jo=0,ta=null,ea=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cr(t[n],e[n]))return!1;return!0}function sa(t,e,n,r,i,o){if(Jo=o,ta=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,$o.current=null===t||null===t.memoizedState?Na:ka,t=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ea=null,e.updateQueue=null,$o.current=Da,t=n(r,i)}while(ia)}if($o.current=Ia,e=null!==ea&&null!==ea.next,Jo=0,na=ea=ta=null,ra=!1,e)throw Error(a(300));return t}function ua(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ta.memoizedState=na=t:na=na.next=t,na}function la(){if(null===ea){var t=ta.alternate;t=null!==t?t.memoizedState:null}else t=ea.next;var e=null===na?ta.memoizedState:na.next;if(null!==e)na=e,ea=t;else{if(null===t)throw Error(a(310));t={memoizedState:(ea=t).memoizedState,baseState:ea.baseState,baseQueue:ea.baseQueue,queue:ea.queue,next:null},null===na?ta.memoizedState=na=t:na=na.next=t}return na}function ca(t,e){return"function"===typeof e?e(t):e}function ha(t){var e=la(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=ea,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,l=i;do{var c=l.lane;if((Jo&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,ta.lanes|=c,Gs|=c}l=l.next}while(null!==l&&l!==i);null===u?o=r:u.next=s,cr(r,e.memoizedState)||(Fa=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function fa(t){var e=la(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);cr(o,e.memoizedState)||(Fa=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function pa(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Jo&t)===t)&&(e._workInProgressVersionPrimary=r,Ko.push(e))),t)return n(e._source);throw Ko.push(e),Error(a(350))}function da(t,e,n,r){var i=Ns;if(null===i)throw Error(a(349));var o=e._getVersion,s=o(e._source),u=$o.current,l=u.useState((function(){return pa(i,e,n)})),c=l[1],h=l[0];l=na;var f=t.memoizedState,p=f.refs,d=p.getSnapshot,v=f.source;f=f.subscribe;var m=ta;return t.memoizedState={refs:p,source:e,subscribe:r},u.useEffect((function(){p.getSnapshot=n,p.setSnapshot=c;var t=o(e._source);if(!cr(s,t)){t=n(e._source),cr(h,t)||(c(t),t=pu(m),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var u=31-Xe(a),l=1<<u;r[u]|=t,a&=~l}}}),[n,e,r]),u.useEffect((function(){return r(e._source,(function(){var t=p.getSnapshot,n=p.setSnapshot;try{n(t(e._source));var r=pu(m);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[e,r]),cr(d,n)&&cr(v,e)&&cr(f,r)||((t={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:h}).dispatch=c=Ra.bind(null,ta,t),l.queue=t,l.baseQueue=null,h=pa(i,e,n),l.memoizedState=l.baseState=h),h}function va(t,e,n){return da(la(),t,e,n)}function ma(t){var e=ua();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:t}).dispatch=Ra.bind(null,ta,t),[e.memoizedState,t]}function ga(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=ta.updateQueue)?(e={lastEffect:null},ta.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ya(t){return t={current:t},ua().memoizedState=t}function _a(){return la().memoizedState}function ba(t,e,n,r){var i=ua();ta.flags|=t,i.memoizedState=ga(1|e,n,void 0,void 0===r?null:r)}function xa(t,e,n,r){var i=la();r=void 0===r?null:r;var o=void 0;if(null!==ea){var a=ea.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ga(e,n,o,r)}ta.flags|=t,i.memoizedState=ga(1|e,n,o,r)}function wa(t,e){return ba(516,4,t,e)}function Ea(t,e){return xa(516,4,t,e)}function Ta(t,e){return xa(4,2,t,e)}function Sa(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Aa(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,xa(4,2,Sa.bind(null,e,t),n)}function Oa(){}function Pa(t,e){var n=la();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&aa(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ma(t,e){var n=la();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&aa(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ca(t,e){var n=Xi();Yi(98>n?98:n,(function(){t(!0)})),Yi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{t(!1),e()}finally{Qo.transition=n}}))}function Ra(t,e,n){var r=fu(),i=pu(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===ta||null!==a&&a===ta)ia=ra=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,cr(u,s))return}catch(l){}du(t,i,r)}}var Ia={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Na={readContext:ao,useCallback:function(t,e){return ua().memoizedState=[t,void 0===e?null:e],t},useContext:ao,useEffect:wa,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ba(4,2,Sa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ba(4,2,t,e)},useMemo:function(t,e){var n=ua();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ua();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Ra.bind(null,ta,t),[r.memoizedState,t]},useRef:ya,useState:ma,useDebugValue:Oa,useDeferredValue:function(t){var e=ma(t),n=e[0],r=e[1];return wa((function(){var e=Qo.transition;Qo.transition=1;try{r(t)}finally{Qo.transition=e}}),[t]),n},useTransition:function(){var t=ma(!1),e=t[0];return ya(t=Ca.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=ua();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},da(r,t,e,n)},useOpaqueIdentifier:function(){if(zo){var t=!1,e=function(t){return{$$typeof:D,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Zr++).toString(36))),Error(a(355))})),n=ma(e)[1];return 0===(2&ta.mode)&&(ta.flags|=516,ga(5,(function(){n("r:"+(Zr++).toString(36))}),void 0,null)),e}return ma(e="r:"+(Zr++).toString(36)),e},unstable_isNewReconciler:!1},ka={readContext:ao,useCallback:Pa,useContext:ao,useEffect:Ea,useImperativeHandle:Aa,useLayoutEffect:Ta,useMemo:Ma,useReducer:ha,useRef:_a,useState:function(){return ha(ca)},useDebugValue:Oa,useDeferredValue:function(t){var e=ha(ca),n=e[0],r=e[1];return Ea((function(){var e=Qo.transition;Qo.transition=1;try{r(t)}finally{Qo.transition=e}}),[t]),n},useTransition:function(){var t=ha(ca)[0];return[_a().current,t]},useMutableSource:va,useOpaqueIdentifier:function(){return ha(ca)[0]},unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:Pa,useContext:ao,useEffect:Ea,useImperativeHandle:Aa,useLayoutEffect:Ta,useMemo:Ma,useReducer:fa,useRef:_a,useState:function(){return fa(ca)},useDebugValue:Oa,useDeferredValue:function(t){var e=fa(ca),n=e[0],r=e[1];return Ea((function(){var e=Qo.transition;Qo.transition=1;try{r(t)}finally{Qo.transition=e}}),[t]),n},useTransition:function(){var t=fa(ca)[0];return[_a().current,t]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(ca)[0]},unstable_isNewReconciler:!1},La=x.ReactCurrentOwner,Fa=!1;function Ua(t,e,n,r){e.child=null===t?Po(e,null,n,r):Oo(e,t.child,n,r)}function ja(t,e,n,r,i){n=n.render;var o=e.ref;return oo(e,i),r=sa(t,e,n,r,o,i),null===t||Fa?(e.flags|=1,Ua(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,os(t,e,i))}function Ba(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||Hu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Wu(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ga(t,e,a,r,i,o))}return a=t.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&t.ref===e.ref)?os(t,e,o):(e.flags|=1,(t=Yu(a,r)).ref=e.ref,t.return=e,e.child=t)}function Ga(t,e,n,r,i,o){if(null!==t&&fr(t.memoizedProps,r)&&t.ref===e.ref){if(Fa=!1,0===(o&i))return e.lanes=t.lanes,os(t,e,o);0!==(16384&t.flags)&&(Fa=!0)}return Xa(t,e,n,r,o)}function za(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},wu(e,n);else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},wu(e,t),null;e.memoizedState={baseLanes:0},wu(e,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,wu(e,r);return Ua(t,e,i,n),e.child}function Va(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Xa(t,e,n,r,i){var o=gi(n)?vi:pi.current;return o=mi(e,o),oo(e,i),n=sa(t,e,n,r,o,i),null===t||Fa?(e.flags|=1,Ua(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,os(t,e,i))}function Ha(t,e,n,r,i){if(gi(n)){var o=!0;xi(e)}else o=!1;if(oo(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),bo(e,n,r),wo(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ao(l):l=mi(e,l=gi(n)?vi:pi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&xo(e,a,r,l),so=!1;var f=e.memoizedState;a.state=f,po(e,r,a,i),u=e.memoizedState,s!==r||f!==u||di.current||so?("function"===typeof c&&(go(e,n,c,r),u=e.memoizedState),(s=so||_o(e,n,s,r,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4)):("function"===typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,lo(t,e),s=e.memoizedProps,l=e.type===e.elementType?s:$i(e.type,s),a.props=l,h=e.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=mi(e,u=gi(n)?vi:pi.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&xo(e,a,r,u),so=!1,f=e.memoizedState,a.state=f,po(e,r,a,i);var d=e.memoizedState;s!==h||f!==d||di.current||so?("function"===typeof p&&(go(e,n,p,r),d=e.memoizedState),(l=so||_o(e,n,l,r,f,d,u))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,u)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),r=!1)}return Ya(t,e,n,r,o,i)}function Ya(t,e,n,r,i,o){Va(t,e);var a=0!==(64&e.flags);if(!r&&!a)return i&&wi(e,n,!1),os(t,e,o);r=e.stateNode,La.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=Oo(e,t.child,null,o),e.child=Oo(e,null,s,o)):Ua(t,e,s,o),e.memoizedState=r.state,i&&wi(e,n,!0),e.child}function Wa(t){var e=t.stateNode;e.pendingContext?_i(0,e.pendingContext,e.pendingContext!==e.context):e.context&&_i(0,e.context,!1),ko(t,e.containerInfo)}var qa,Ka,Za,$a={dehydrated:null,retryLane:0};function Qa(t,e,n){var r,i=e.pendingProps,o=Uo.current,a=!1;return(r=0!==(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),hi(Uo,1&o),null===t?(void 0!==i.fallback&&Ho(e),t=i.children,o=i.fallback,a?(t=Ja(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=$a,t):"number"===typeof i.unstable_expectedLoadTime?(t=Ja(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=$a,e.lanes=33554432,t):((n=Ku({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=es(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=$a,i):(n=ts(t,e,i.children,n),e.memoizedState=null,n))}function Ja(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Ku(e,i,0,null),n=qu(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function ts(t,e,n,r){var i=t.child;return t=i.sibling,n=Yu(i,{mode:"visible",children:n}),0===(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function es(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Yu(a,s),null!==t?r=Yu(t,r):(r=qu(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}function ns(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),io(t.return,e)}function rs(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ua(t,e,r.children,n),0!==(2&(r=Uo.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&ns(t,n);else if(19===t.tag)ns(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(hi(Uo,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===jo(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rs(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===jo(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rs(e,!0,n,null,o,e.lastEffect);break;case"together":rs(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function os(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Gs|=e.lanes,0!==(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Yu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Yu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function as(t,e){if(!zo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ss(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(e.type)&&yi(),null;case 3:return Do(),ci(di),ci(pi),Zo(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Wo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Fo(e);var o=No(Io.current);if(n=e.type,null!==t&&null!=e.stateNode)Ka(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=No(Co.current),Wo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Qr]=e,r[Jr]=s,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(t=0;t<Ar.length;t++)Cr(Ar[t],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":tt(r,s),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Cr("invalid",r);break;case"textarea":ut(r,s),Cr("invalid",r)}for(var l in Tt(n,s),t=null,s)s.hasOwnProperty(l)&&(o=s[l],"children"===l?"string"===typeof o?r.textContent!==o&&(t=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(t=["children",""+o]):u.hasOwnProperty(l)&&null!=o&&"onScroll"===l&&Cr("scroll",r));switch(n){case"input":Z(r),rt(r,s,!0);break;case"textarea":Z(r),ct(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Br)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(l=9===o.nodeType?o:o.ownerDocument,t===ht&&(t=pt(n)),t===ht?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Qr]=e,t[Jr]=r,qa(t,e),e.stateNode=t,l=St(n,r),n){case"dialog":Cr("cancel",t),Cr("close",t),o=r;break;case"iframe":case"object":case"embed":Cr("load",t),o=r;break;case"video":case"audio":for(o=0;o<Ar.length;o++)Cr(Ar[o],t);o=r;break;case"source":Cr("error",t),o=r;break;case"img":case"image":case"link":Cr("error",t),Cr("load",t),o=r;break;case"details":Cr("toggle",t),o=r;break;case"input":tt(t,r),o=J(t,r),Cr("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Cr("invalid",t);break;case"textarea":ut(t,r),o=st(t,r),Cr("invalid",t);break;default:o=r}Tt(n,o);var c=o;for(s in c)if(c.hasOwnProperty(s)){var h=c[s];"style"===s?wt(t,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&gt(t,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&yt(t,h):"number"===typeof h&&yt(t,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Cr("scroll",t):null!=h&&b(t,s,h,l))}switch(n){case"input":Z(t),rt(t,r,!1);break;case"textarea":Z(t),ct(t);break;case"option":null!=r.value&&t.setAttribute("value",""+q(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?at(t,!!r.multiple,s,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=Br)}Vr(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Za(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=No(Io.current),No(Co.current),Wo(e)?(r=e.stateNode,n=e.memoizedProps,r[Qr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=e,e.stateNode=r)}return null;case 13:return ci(Uo),r=e.memoizedState,0!==(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Wo(e):n=null!==t.memoizedState,r&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&Uo.current)?0===Us&&(Us=3):(0!==Us&&3!==Us||(Us=4),null===Ns||0===(134217727&Gs)&&0===(134217727&zs)||yu(Ns,Ds))),(r||n)&&(e.flags|=4),null);case 4:return Do(),null===t&&Ir(e.stateNode.containerInfo),null;case 10:return ro(e),null;case 19:if(ci(Uo),null===(r=e.memoizedState))return null;if(s=0!==(64&e.flags),null===(l=r.rendering))if(s)as(r,!1);else{if(0!==Us||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(l=jo(t))){for(e.flags|=64,as(r,!1),null!==(s=l.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(l=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return hi(Uo,1&Uo.current|2),e.child}t=t.sibling}null!==r.tail&&Vi()>Ys&&(e.flags|=64,s=!0,as(r,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=jo(l))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!zo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>Ys&&1073741824!==n&&(e.flags|=64,s=!0,as(r,!1),e.lanes=33554432);r.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=r.last)?n.sibling=l:e.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,e=Uo.current,hi(Uo,s?1&e|2:1&e),n):null;case 23:case 24:return Eu(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function us(t){switch(t.tag){case 1:gi(t.type)&&yi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Do(),ci(di),ci(pi),Zo(),0!==(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return Fo(t),null;case 13:return ci(Uo),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return ci(Uo),null;case 4:return Do(),null;case 10:return ro(t),null;case 23:case 24:return Eu(),null;default:return null}}function ls(t,e){try{var n="",r=e;do{n+=Y(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i}}function cs(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}qa=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ka=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,No(Co.current);var a,s=null;switch(n){case"input":o=J(t,o),r=J(t,r),s=[];break;case"option":o=ot(t,o),r=ot(t,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=st(t,o),r=st(t,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(t.onclick=Br)}for(h in Tt(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var l=o[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Cr("scroll",t),s||l===c||(s=[])):"object"===typeof c&&null!==c&&c.$$typeof===D?c.toString():(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}},Za=function(t,e,n,r){n!==r&&(e.flags|=4)};var hs="function"===typeof WeakMap?WeakMap:Map;function fs(t,e,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zs||(Zs=!0,$s=r),cs(0,e)},n}function ps(t,e,n){(n=co(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return cs(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Qs?Qs=new Set([this]):Qs.add(this),cs(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var ds="function"===typeof WeakSet?WeakSet:Set;function vs(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Bu(t,n)}else e.current=null}function ms(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:$i(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Wr(e.stateNode.containerInfo))}throw Error(a(163))}function gs(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fu(n,t),Lu(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:$i(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&vo(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}vo(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Vr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&we(n)))))}throw Error(a(163))}function ys(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=xt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function _s(t,e){if(Ti&&"function"===typeof Ti.onCommitFiberUnmount)try{Ti.onCommitFiberUnmount(Ei,e)}catch(o){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fu(e,n);else{r=e;try{i()}catch(o){Bu(r,o)}}n=n.next}while(n!==t)}break;case 1:if(vs(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){Bu(e,o)}break;case 5:vs(e);break;case 4:Ss(t,e)}}function bs(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function xs(t){return 5===t.tag||3===t.tag||4===t.tag}function ws(t){t:{for(var e=t.return;null!==e;){if(xs(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(yt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||xs(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?Es(t,n,e):Ts(t,n,e)}function Es(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Br));else if(4!==r&&null!==(t=t.child))for(Es(t,e,n),t=t.sibling;null!==t;)Es(t,e,n),t=t.sibling}function Ts(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(Ts(t,e,n),t=t.sibling;null!==t;)Ts(t,e,n),t=t.sibling}function Ss(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var s=t,u=i,l=u;;)if(_s(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break t;for(;null===l.sibling;){if(null===l.return||l.return===u)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(_s(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function As(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Jr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),St(t,i),e=St(t,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?wt(n,u):"dangerouslySetInnerHTML"===s?gt(n,u):"children"===s?yt(n,u):b(n,s,u,e)}switch(t){case"input":nt(n,r);break;case"textarea":lt(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,we(n.containerInfo)));case 13:return null!==e.memoizedState&&(Hs=Vi(),ys(e.child,!0)),void Os(e);case 19:return void Os(e);case 23:case 24:return void ys(e,null!==e.memoizedState)}throw Error(a(163))}function Os(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new ds),e.forEach((function(e){var r=zu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Ps(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Ms=Math.ceil,Cs=x.ReactCurrentDispatcher,Rs=x.ReactCurrentOwner,Is=0,Ns=null,ks=null,Ds=0,Ls=0,Fs=li(0),Us=0,js=null,Bs=0,Gs=0,zs=0,Vs=0,Xs=null,Hs=0,Ys=1/0;function Ws(){Ys=Vi()+500}var qs,Ks=null,Zs=!1,$s=null,Qs=null,Js=!1,tu=null,eu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,lu=0,cu=null,hu=!1;function fu(){return 0!==(48&Is)?Vi():-1!==su?su:su=Vi()}function pu(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===Xi()?1:2;if(0===uu&&(uu=Bs),0!==Zi.transition){0!==lu&&(lu=null!==Xs?Xs.pendingLanes:0),t=uu;var e=4186112&~lu;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=Xi(),0!==(4&Is)&&98===t?t=Be(12,uu):t=Be(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),uu),t}function du(t,e,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(t=vu(t,e)))return null;Ve(t,e,n),t===Ns&&(zs|=e,4===Us&&yu(t,Ds));var r=Xi();1===e?0!==(8&Is)&&0===(48&Is)?_u(t):(mu(t,n),0===Is&&(Ws(),qi())):(0===(4&Is)||98!==r&&99!==r||(null===iu?iu=new Set([t]):iu.add(t)),mu(t,n)),Xs=t}function vu(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function mu(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var u=31-Xe(s),l=1<<u,c=o[u];if(-1===c){if(0===(l&r)||0!==(l&i)){c=e,Fe(l);var h=Le;o[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=e&&(t.expiredLanes|=l);s&=~l}if(r=Ue(t,t===Ns?Ds:0),e=Le,0===r)null!==n&&(n!==Fi&&Oi(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Fi&&Oi(n)}15===e?(n=_u.bind(null,t),null===ji?(ji=[n],Bi=Ai(Ii,Ki)):ji.push(n),n=Fi):14===e?n=Wi(99,_u.bind(null,t)):(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),n=Wi(n,gu.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function gu(t){if(su=-1,lu=uu=0,0!==(48&Is))throw Error(a(327));var e=t.callbackNode;if(Du()&&t.callbackNode!==e)return null;var n=Ue(t,t===Ns?Ds:0);if(0===n)return null;var r=n,i=Is;Is|=16;var o=Au();for(Ns===t&&Ds===r||(Ws(),Tu(t,r));;)try{Mu();break}catch(u){Su(t,u)}if(no(),Cs.current=o,Is=i,null!==ks?r=0:(Ns=null,Ds=0,r=Us),0!==(Bs&zs))Tu(t,0);else if(0!==r){if(2===r&&(Is|=64,t.hydrate&&(t.hydrate=!1,Wr(t.containerInfo)),0!==(n=je(t))&&(r=Ou(t,n))),1===r)throw e=js,Tu(t,0),yu(t,n),mu(t,Vi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Iu(t);break;case 3:if(yu(t,n),(62914560&n)===n&&10<(r=Hs+500-Vi())){if(0!==Ue(t,0))break;if(((i=t.suspendedLanes)&n)!==n){fu(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hr(Iu.bind(null,t),r);break}Iu(t);break;case 4:if(yu(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var s=31-Xe(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ms(n/1960))-n)){t.timeoutHandle=Hr(Iu.bind(null,t),n);break}Iu(t);break;default:throw Error(a(329))}}return mu(t,Vi()),t.callbackNode===e?gu.bind(null,t):null}function yu(t,e){for(e&=~Vs,e&=~zs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xe(e),r=1<<n;t[n]=-1,e&=~r}}function _u(t){if(0!==(48&Is))throw Error(a(327));if(Du(),t===Ns&&0!==(t.expiredLanes&Ds)){var e=Ds,n=Ou(t,e);0!==(Bs&zs)&&(n=Ou(t,e=Ue(t,e)))}else n=Ou(t,e=Ue(t,0));if(0!==t.tag&&2===n&&(Is|=64,t.hydrate&&(t.hydrate=!1,Wr(t.containerInfo)),0!==(e=je(t))&&(n=Ou(t,e))),1===n)throw n=js,Tu(t,0),yu(t,e),mu(t,Vi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Iu(t),mu(t,Vi()),null}function bu(t,e){var n=Is;Is|=1;try{return t(e)}finally{0===(Is=n)&&(Ws(),qi())}}function xu(t,e){var n=Is;Is&=-2,Is|=8;try{return t(e)}finally{0===(Is=n)&&(Ws(),qi())}}function wu(t,e){hi(Fs,Ls),Ls|=e,Bs|=e}function Eu(){Ls=Fs.current,ci(Fs)}function Tu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Yr(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Do(),ci(di),ci(pi),Zo();break;case 5:Fo(r);break;case 4:Do();break;case 13:case 19:ci(Uo);break;case 10:ro(r);break;case 23:case 24:Eu()}n=n.return}Ns=t,ks=Yu(t.current,null),Ds=Ls=Bs=e,Us=0,js=null,Vs=zs=Gs=0}function Su(t,e){for(;;){var n=ks;try{if(no(),$o.current=Ia,ra){for(var r=ta.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Jo=0,na=ea=ta=null,ia=!1,Rs.current=null,null===n||null===n.return){Us=1,js=e,ks=null;break}t:{var o=t,a=n.return,s=n,u=e;if(e=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.lanes=c.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Uo.current),f=a;do{var p;if(p=13===f.tag){var d=f.memoizedState;if(null!==d)p=null!==d.dehydrated;else{var v=f.memoizedProps;p=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(p){var m=f.updateQueue;if(null===m){var g=new Set;g.add(l),f.updateQueue=g}else m.add(l);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=co(-1,1);y.tag=2,ho(s,y)}s.lanes|=1;break t}u=void 0,s=e;var _=o.pingCache;if(null===_?(_=o.pingCache=new hs,u=new Set,_.set(l,u)):void 0===(u=_.get(l))&&(u=new Set,_.set(l,u)),!u.has(s)){u.add(s);var b=Gu.bind(null,o,l,s);l.then(b,b)}f.flags|=4096,f.lanes=e;break t}f=f.return}while(null!==f);u=Error((W(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Us&&(Us=2),u=ls(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,e&=-e,f.lanes|=e,fo(f,fs(0,o,e));break t;case 1:o=u;var x=f.type,w=f.stateNode;if(0===(64&f.flags)&&("function"===typeof x.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Qs||!Qs.has(w)))){f.flags|=4096,e&=-e,f.lanes|=e,fo(f,ps(f,o,e));break t}}f=f.return}while(null!==f)}Ru(n)}catch(E){e=E,ks===n&&null!==n&&(ks=n=n.return);continue}break}}function Au(){var t=Cs.current;return Cs.current=Ia,null===t?Ia:t}function Ou(t,e){var n=Is;Is|=16;var r=Au();for(Ns===t&&Ds===e||Tu(t,e);;)try{Pu();break}catch(i){Su(t,i)}if(no(),Is=n,Cs.current=r,null!==ks)throw Error(a(261));return Ns=null,Ds=0,Us}function Pu(){for(;null!==ks;)Cu(ks)}function Mu(){for(;null!==ks&&!Pi();)Cu(ks)}function Cu(t){var e=qs(t.alternate,t,Ls);t.memoizedProps=t.pendingProps,null===e?Ru(t):ks=e,Rs.current=null}function Ru(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(n=ss(n,e,Ls)))return void(ks=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=us(e)))return n.flags&=2047,void(ks=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(ks=e);ks=e=t}while(null!==e);0===Us&&(Us=5)}function Iu(t){var e=Xi();return Yi(99,Nu.bind(null,t,e)),null}function Nu(t,e){do{Du()}while(null!==tu);if(0!==(48&Is))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,u=t.expirationTimes;0<o;){var l=31-Xe(o),c=1<<l;i[l]=0,s[l]=-1,u[l]=-1,o&=~c}if(null!==iu&&0===(24&r)&&iu.has(t)&&iu.delete(t),t===Ns&&(ks=Ns=null,Ds=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Is,Is|=32,Rs.current=null,Gr=Ke,gr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else t:if(u=(u=s.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(A){u=null;break t}var h=0,f=-1,p=-1,d=0,v=0,m=s,g=null;e:for(;;){for(var y;m!==u||0!==o&&3!==m.nodeType||(f=h+o),m!==l||0!==c&&3!==m.nodeType||(p=h+c),3===m.nodeType&&(h+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break e;if(g===u&&++d===o&&(f=h),g===l&&++v===c&&(p=h),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===f||-1===p?null:{start:f,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},Ke=!1,cu=null,hu=!1,Ks=r;do{try{ku()}catch(A){if(null===Ks)throw Error(a(330));Bu(Ks,A),Ks=Ks.nextEffect}}while(null!==Ks);cu=null,Ks=r;do{try{for(s=t;null!==Ks;){var _=Ks.flags;if(16&_&&yt(Ks.stateNode,""),128&_){var b=Ks.alternate;if(null!==b){var x=b.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&_){case 2:ws(Ks),Ks.flags&=-3;break;case 6:ws(Ks),Ks.flags&=-3,As(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,As(Ks.alternate,Ks);break;case 4:As(Ks.alternate,Ks);break;case 8:Ss(s,u=Ks);var w=u.alternate;bs(u),null!==w&&bs(w)}Ks=Ks.nextEffect}}catch(A){if(null===Ks)throw Error(a(330));Bu(Ks,A),Ks=Ks.nextEffect}}while(null!==Ks);if(x=zr,b=mr(),_=x.focusedElem,s=x.selectionRange,b!==_&&_&&_.ownerDocument&&vr(_.ownerDocument.documentElement,_)){null!==s&&gr(_)&&(b=s.start,void 0===(x=s.end)&&(x=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(x,_.value.length)):(x=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(x=x.getSelection(),u=_.textContent.length,w=Math.min(s.start,u),s=void 0===s.end?w:Math.min(s.end,u),!x.extend&&w>s&&(u=s,s=w,w=u),u=dr(_,w),o=dr(_,s),u&&o&&(1!==x.rangeCount||x.anchorNode!==u.node||x.anchorOffset!==u.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((b=b.createRange()).setStart(u.node,u.offset),x.removeAllRanges(),w>s?(x.addRange(b),x.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),x.addRange(b))))),b=[];for(x=_;x=x.parentNode;)1===x.nodeType&&b.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<b.length;_++)(x=b[_]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Ke=!!Gr,zr=Gr=null,t.current=n,Ks=r;do{try{for(_=t;null!==Ks;){var E=Ks.flags;if(36&E&&gs(_,Ks.alternate,Ks),128&E){b=void 0;var T=Ks.ref;if(null!==T){var S=Ks.stateNode;Ks.tag,b=S,"function"===typeof T?T(b):T.current=b}}Ks=Ks.nextEffect}}catch(A){if(null===Ks)throw Error(a(330));Bu(Ks,A),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,Ui(),Is=i}else t.current=n;if(Js)Js=!1,tu=t,eu=e;else for(Ks=r;null!==Ks;)e=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((E=Ks).sibling=null,E.stateNode=null),Ks=e;if(0===(r=t.pendingLanes)&&(Qs=null),1===r?t===au?ou++:(ou=0,au=t):ou=0,n=n.stateNode,Ti&&"function"===typeof Ti.onCommitFiberRoot)try{Ti.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(A){}if(mu(t,Vi()),Zs)throw Zs=!1,t=$s,$s=null,t;return 0!==(8&Is)||qi(),null}function ku(){for(;null!==Ks;){var t=Ks.alternate;hu||null===cu||(0!==(8&Ks.flags)?te(Ks,cu)&&(hu=!0):13===Ks.tag&&Ps(t,Ks)&&te(Ks,cu)&&(hu=!0));var e=Ks.flags;0!==(256&e)&&ms(t,Ks),0===(512&e)||Js||(Js=!0,Wi(97,(function(){return Du(),null}))),Ks=Ks.nextEffect}}function Du(){if(90!==eu){var t=97<eu?97:eu;return eu=90,Yi(t,Uu)}return!1}function Lu(t,e){nu.push(e,t),Js||(Js=!0,Wi(97,(function(){return Du(),null})))}function Fu(t,e){ru.push(e,t),Js||(Js=!0,Wi(97,(function(){return Du(),null})))}function Uu(){if(null===tu)return!1;var t=tu;if(tu=null,0!==(48&Is))throw Error(a(331));var e=Is;Is|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(l){if(null===o)throw Error(a(330));Bu(o,l)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(null===o)throw Error(a(330));Bu(o,l)}}for(u=t.current.firstEffect;null!==u;)t=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=t;return Is=e,qi(),!0}function ju(t,e,n){ho(t,e=fs(0,e=ls(n,e),1)),e=fu(),null!==(t=vu(t,1))&&(Ve(t,1,e),mu(t,e))}function Bu(t,e){if(3===t.tag)ju(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){ju(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r))){var i=ps(n,t=ls(e,t),1);if(ho(n,i),i=fu(),null!==(n=vu(n,1)))Ve(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r)))try{r.componentDidCatch(e,t)}catch(o){}break}}n=n.return}}function Gu(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=fu(),t.pingedLanes|=t.suspendedLanes&n,Ns===t&&(Ds&n)===n&&(4===Us||3===Us&&(62914560&Ds)===Ds&&500>Vi()-Hs?Tu(t,0):Vs|=n),mu(t,e)}function zu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===Xi()?1:2:(0===uu&&(uu=Bs),0===(e=Ge(62914560&~uu))&&(e=4194304))),n=fu(),null!==(t=vu(t,e))&&(Ve(t,e,n),mu(t,n))}function Vu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Xu(t,e,n,r){return new Vu(t,e,n,r)}function Hu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Yu(t,e){var n=t.alternate;return null===n?((n=Xu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wu(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)Hu(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case T:return qu(n.children,i,o,e);case L:s=8,i|=16;break;case S:s=8,i|=1;break;case A:return(t=Xu(12,n,e,8|i)).elementType=A,t.type=A,t.lanes=o,t;case C:return(t=Xu(13,n,e,i)).type=C,t.elementType=C,t.lanes=o,t;case R:return(t=Xu(19,n,e,i)).elementType=R,t.lanes=o,t;case F:return Ku(n,i,o,e);case U:return(t=Xu(24,n,e,i)).elementType=U,t.lanes=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case O:s=10;break t;case P:s=9;break t;case M:s=11;break t;case I:s=14;break t;case N:s=16,r=null;break t;case k:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Xu(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function qu(t,e,n,r){return(t=Xu(7,t,r,e)).lanes=n,t}function Ku(t,e,n,r){return(t=Xu(23,t,r,e)).elementType=F,t.lanes=n,t}function Zu(t,e,n){return(t=Xu(6,t,null,e)).lanes=n,t}function $u(t,e,n){return(e=Xu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Qu(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ze(0),this.expirationTimes=ze(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.mutableSourceEagerHydrationData=null}function Ju(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function tl(t,e,n,r){var i=e.current,o=fu(),s=pu(i);t:if(n){e:{if(Zt(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var l=n.type;if(gi(l)){n=bi(n,l,u);break t}}n=u}else n=fi;return null===e.context?e.context=n:e.pendingContext=n,(e=co(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),ho(i,e),du(i,s,o),s}function el(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function nl(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function rl(t,e){nl(t,e),(t=t.alternate)&&nl(t,e)}function il(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Qu(t,e,null!=n&&!0===n.hydrate),e=Xu(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,uo(e),t[ti]=n.current,Ir(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function ol(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function al(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=el(a);s.call(t)}}tl(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new il(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var t=el(a);u.call(t)}}xu((function(){tl(e,a,t,i)}))}return el(a)}function sl(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ol(e))throw Error(a(200));return Ju(t,e,null,n)}qs=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||di.current)Fa=!0;else{if(0===(n&r)){switch(Fa=!1,e.tag){case 3:Wa(e),qo();break;case 5:Lo(e);break;case 1:gi(e.type)&&xi(e);break;case 4:ko(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;hi(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(n&e.child.childLanes)?Qa(t,e,n):(hi(Uo,1&Uo.current),null!==(e=os(t,e,n))?e.sibling:null);hi(Uo,1&Uo.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(64&t.flags)){if(r)return is(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(Uo,Uo.current),r)break;return null;case 23:case 24:return e.lanes=0,za(t,e,n)}return os(t,e,n)}Fa=0!==(16384&t.flags)}else Fa=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=mi(e,pi.current),oo(e,n),i=sa(null,e,r,t,i,n),e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,gi(r)){var o=!0;xi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&go(e,r,s,t),i.updater=yo,e.stateNode=i,i._reactInternals=e,wo(e,r,t,n),e=Ya(null,e,r,!0,o,n)}else e.tag=0,Ua(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"===typeof t)return Hu(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===M)return 11;if(t===I)return 14}return 2}(i),t=$i(i,t),o){case 0:e=Xa(null,e,i,t,n);break t;case 1:e=Ha(null,e,i,t,n);break t;case 11:e=ja(null,e,i,t,n);break t;case 14:e=Ba(null,e,i,$i(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Xa(t,e,r,i=e.elementType===r?i:$i(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ha(t,e,r,i=e.elementType===r?i:$i(r,i),n);case 3:if(Wa(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,lo(t,e),po(e,r,null,n),(r=e.memoizedState.element)===i)qo(),e=os(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(Go=qr(e.stateNode.containerInfo.firstChild),Bo=e,o=zo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Ko.push(o);for(n=Po(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ua(t,e,r,n),qo();e=e.child}return e;case 5:return Lo(e),null===t&&Ho(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Xr(r,i)?s=null:null!==o&&Xr(r,o)&&(e.flags|=16),Va(t,e),Ua(t,e,s,n),e.child;case 6:return null===t&&Ho(e),null;case 13:return Qa(t,e,n);case 4:return ko(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Oo(e,null,r,n):Ua(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,ja(t,e,r,i=e.elementType===r?i:$i(r,i),n);case 7:return Ua(t,e,e.pendingProps,n),e.child;case 8:case 12:return Ua(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var u=e.type._context;if(hi(Qi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=cr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!di.current){e=os(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===u.tag&&((c=co(-1,n&-n)).tag=2,ho(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),io(u.return,n),l.lanes|=n;break}c=c.next}}else s=10===u.tag&&u.type===e.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===e){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Ua(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,oo(e,n),r=r(i=ao(i,o.unstable_observedBits)),e.flags|=1,Ua(t,e,r,n),e.child;case 14:return o=$i(i=e.type,e.pendingProps),Ba(t,e,i,o=$i(i.type,o),r,n);case 15:return Ga(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$i(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,gi(r)?(t=!0,xi(e)):t=!1,oo(e,n),bo(e,r,i),wo(e,r,i,n),Ya(null,e,r,!0,t,n);case 19:return is(t,e,n);case 23:case 24:return za(t,e,n)}throw Error(a(156,e.tag))},il.prototype.render=function(t){tl(t,this._internalRoot,null,null)},il.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;tl(null,t,null,(function(){e[ti]=null}))},ee=function(t){13===t.tag&&(du(t,4,fu()),rl(t,4))},ne=function(t){13===t.tag&&(du(t,67108864,fu()),rl(t,67108864))},re=function(t){if(13===t.tag){var e=fu(),n=pu(t);du(t,n,e),rl(t,n)}},ie=function(t,e){return e()},Ot=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=oi(r);if(!i)throw Error(a(90));$(r),nt(r,i)}}}break;case"textarea":lt(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},Nt=bu,kt=function(t,e,n,r,i){var o=Is;Is|=4;try{return Yi(98,t.bind(null,e,n,r,i))}finally{0===(Is=o)&&(Ws(),qi())}},Dt=function(){0===(49&Is)&&(function(){if(null!==iu){var t=iu;iu=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,mu(t,Vi())}))}qi()}(),Du())},Lt=function(t,e){var n=Is;Is|=2;try{return t(e)}finally{0===(Is=n)&&(Ws(),qi())}};var ul={Events:[ri,ii,oi,Rt,It,Du,{current:!1}]},ll={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cl={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Jt(t))?null:t.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{Ei=hl.inject(cl),Ti=hl}catch(mt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ul,e.createPortal=sl,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=Jt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Is;if(0!==(48&n))return t(e);Is|=1;try{if(t)return Yi(99,t.bind(null,e))}finally{Is=n,qi()}},e.hydrate=function(t,e,n){if(!ol(e))throw Error(a(200));return al(null,t,e,!0,n)},e.render=function(t,e,n){if(!ol(e))throw Error(a(200));return al(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!ol(t))throw Error(a(40));return!!t._reactRootContainer&&(xu((function(){al(null,null,t,!1,(function(){t._reactRootContainer=null,t[ti]=null}))})),!0)},e.unstable_batchedUpdates=bu,e.unstable_createPortal=function(t,e){return sl(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ol(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return al(t,e,n,!1,r)},e.version="17.0.2"},function(t,e,n){"use strict";t.exports=n(249)},function(t,e,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,l=u.now();e.unstable_now=function(){return u.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,h=null,f=function t(){if(null!==c)try{var n=e.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(t,0),r}};r=function(t){null!==c?setTimeout(r,0,t):(c=t,setTimeout(f,0))},i=function(t,e){h=setTimeout(t,e)},o=function(){clearTimeout(h)},e.unstable_shouldYield=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,_=5,b=0;e.unstable_shouldYield=function(){return e.unstable_now()>=b},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<t?Math.floor(1e3/t):5};var x=new MessageChannel,w=x.port2;x.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();b=t+_;try{g(!0,t)?w.postMessage(null):(m=!1,g=null)}catch(n){throw w.postMessage(null),n}}else m=!1},r=function(t){g=t,m||(m=!0,w.postMessage(null))},i=function(t,n){y=p((function(){t(e.unstable_now())}),n)},o=function(){d(y),y=-1}}function E(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<A(i,e)))break t;t[r]=e,t[n]=i,n=r}}function T(t){return void 0===(t=t[0])?null:t}function S(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,u=t[s];if(void 0!==a&&0>A(a,n))void 0!==u&&0>A(u,a)?(t[r]=u,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==u&&0>A(u,n)))break t;t[r]=u,t[s]=n,r=s}}}return e}return null}function A(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var O=[],P=[],M=1,C=null,R=3,I=!1,N=!1,k=!1;function D(t){for(var e=T(P);null!==e;){if(null===e.callback)S(P);else{if(!(e.startTime<=t))break;S(P),e.sortIndex=e.expirationTime,E(O,e)}e=T(P)}}function L(t){if(k=!1,D(t),!N)if(null!==T(O))N=!0,r(F);else{var e=T(P);null!==e&&i(L,e.startTime-t)}}function F(t,n){N=!1,k&&(k=!1,o()),I=!0;var r=R;try{for(D(n),C=T(O);null!==C&&(!(C.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=C.callback;if("function"===typeof a){C.callback=null,R=C.priorityLevel;var s=a(C.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?C.callback=s:C===T(O)&&S(O),D(n)}else S(O);C=T(O)}if(null!==C)var u=!0;else{var l=T(P);null!==l&&i(L,l.startTime-n),u=!1}return u}finally{C=null,R=r,I=!1}}var U=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){N||I||(N=!0,r(F))},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return T(O)},e.unstable_next=function(t){switch(R){case 1:case 2:case 3:var e=3;break;default:e=R}var n=R;R=e;try{return t()}finally{R=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=U,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=R;R=t;try{return e()}finally{R=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:M++,callback:n,priorityLevel:t,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(t.sortIndex=a,E(P,t),null===T(O)&&t===T(P)&&(k?o():k=!0,i(L,a-s))):(t.sortIndex=u,E(O,t),N||I||(N=!0,r(F))),t},e.unstable_wrapCallback=function(t){var e=R;return function(){var n=R;R=e;try{return t.apply(this,arguments)}finally{R=n}}}},,,function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(R){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,o=Object.create(i.prototype),a=new P(r||[]);return o._invoke=function(t,e,n){var r=h;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return C()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=c(t,e,n);if("normal"===u.type){if(r=n.done?d:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(R){return{type:"throw",arg:R}}}t.wrap=l;var h="suspendedStart",f="suspendedYield",p="executing",d="completed",v={};function m(){}function g(){}function y(){}var _={};u(_,o,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(M([])));x&&x!==n&&r.call(x,o)&&(_=x);var w=y.prototype=m.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function n(i,o,a,s){var u=c(t[i],t,o);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"===typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}}function S(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function M(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:C}}function C(){return{value:e,done:!0}}return g.prototype=y,u(w,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(T.prototype),u(T.prototype,a,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new T(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),u(w,s,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=M,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e){t.exports=function(t){return Object.assign({},t)}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}},function(t,e,n){var r=n(107);t.exports=function(t){var e=r();return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],p=e[11],d=e[12],v=e[13],m=e[14],g=e[15],y=n*s-r*a,_=n*u-i*a,b=n*l-o*a,x=r*u-i*s,w=r*l-o*s,E=i*l-o*u,T=c*v-h*d,S=c*m-f*d,A=c*g-p*d,O=h*m-f*v,P=h*g-p*v,M=f*g-p*m,C=y*M-_*P+b*O+x*A-w*S+E*T;return C?(C=1/C,t[0]=(s*M-u*P+l*O)*C,t[1]=(i*P-r*M-o*O)*C,t[2]=(v*E-m*w+g*x)*C,t[3]=(f*w-h*E-p*x)*C,t[4]=(u*A-a*M-l*S)*C,t[5]=(n*M-i*A+o*S)*C,t[6]=(m*b-d*E-g*_)*C,t[7]=(c*E-f*b+p*_)*C,t[8]=(a*P-s*A+l*T)*C,t[9]=(r*A-n*P-o*T)*C,t[10]=(d*w-v*b+g*y)*C,t[11]=(h*b-c*w-p*y)*C,t[12]=(s*S-a*O-u*T)*C,t[13]=(n*O-r*S+i*T)*C,t[14]=(v*_-d*x-m*y)*C,t[15]=(c*x-h*_+f*y)*C,t):null}},function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports={EPSILON:1e-6}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e,n,r){var i=Math.sin(e),o=Math.cos(e),a=Math.sin(n),s=Math.cos(n),u=Math.sin(r),l=Math.cos(r);return t[0]=s*o,t[1]=s*i,t[2]=-a,t[3]=0,t[4]=u*a*o-l*i,t[5]=l*o+u*a*i,t[6]=u*s,t[7]=0,t[8]=u*i+l*a*o,t[9]=l*a*i-u*o,t[10]=l*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}},function(t,e,n){var r=n(107);t.exports=function(t,e,n,i,o,a,s,u,l,c,h,f,p,d,v,m){var g=r();return g[0]=t,g[1]=e,g[2]=n,g[3]=i,g[4]=o,g[5]=a,g[6]=s,g[7]=u,g[8]=l,g[9]=c,g[10]=h,g[11]=f,g[12]=p,g[13]=d,g[14]=v,g[15]=m,g}},function(t,e,n){var r=n(11),i=n(145);t.exports=function(t,e,n){var o=r.normalize(r.create(),e),a=r.normalize(r.create(),n),s=r.cross(r.create(),a,o),u=r.dot(a,o);if(-1===u)return i(t,Math.PI,r.orthogonal(s,o));var l=1/(1+u);return t[0]=s[0]*s[0]*l+u,t[1]=s[1]*s[0]*l-s[2],t[2]=s[2]*s[0]*l+s[1],t[3]=0,t[4]=s[0]*s[1]*l+s[2],t[5]=s[1]*s[1]*l+u,t[6]=s[2]*s[1]*l-s[0],t[7]=0,t[8]=s[0]*s[2]*l-s[1],t[9]=s[1]*s[2]*l+s[0],t[10]=s[2]*s[2]*l+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e,n){var r=n(66);t.exports=function(t,e){var n=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2],l=Math.hypot(n,i,o)*Math.hypot(a,s,u),c=l&&r(t,e)/l;return Math.acos(Math.min(Math.max(c,-1),1))}},function(t,e,n){var r=n(82);t.exports=function(t){var e=r();return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}},function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}},function(t,e){t.exports=function(t,e){return t[0]=e,t[1]=e,t[2]=e,t}},function(t,e){t.exports=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t[0]=e[0],t[1]=e[1],t[2]=n,t}},function(t,e){t.exports=function(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t[2]=e[2]+r*(n[2]-e[2]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}},function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}},function(t,e,n){var r=n(148),i=n(82),o=n(59);t.exports=function(t,e){var n=r(i(),e),a=0+(n[0]<n[1]&&n[0]<n[2]),s=0+(n[1]<=n[0]&&n[1]<n[2]),u=0+(n[2]<=n[0]&&n[2]<=n[1]);return o(t,e,[a,s,u])}},function(t,e){t.exports=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}},function(t,e){t.exports=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}},function(t,e){t.exports=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=e[2],t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.round(e[0]/n)*n+0,t[1]=Math.round(e[1]/n)*n+0,t[2]=Math.round(e[2]/n)*n+0,t}},function(t,e){t.exports=function(t){return"[".concat(t[0].toFixed(7),", ").concat(t[1].toFixed(7),", ").concat(t[2].toFixed(7),"]")}},function(t,e){t.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t}},function(t,e){t.exports=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&0===t[12]&&0===t[13]&&0===t[14]&&1===t[15]}},function(t,e){var n=function(t){return Math.abs(t)<Number.EPSILON};t.exports=function(t){return n(t[1])&&n(t[2])&&n(t[3])&&n(t[4])&&n(t[6])&&n(t[7])&&n(t[8])&&n(t[9])&&n(t[11])&&1===t[15]}},function(t,e,n){var r=n(59),i=n(66),o=n(152);t.exports=function(t){var e=o(t[0],t[4],t[8]),n=o(t[1],t[5],t[9]),a=o(t[2],t[6],t[10]);return i(r(e,e,n),a)<0}},function(t,e,n){var r=n(45).default;t.exports=function(t,e){var n=r(e,4),i=n[0],o=n[1],a=n[2],s=n[3];return t[0]=1-2*i*i,t[1]=-2*o*i,t[2]=-2*a*i,t[3]=0,t[4]=-2*i*o,t[5]=1-2*o*o,t[6]=-2*a*o,t[7]=0,t[8]=-2*i*a,t[9]=-2*o*a,t[10]=1-2*a*a,t[11]=0,t[12]=2*i*s,t[13]=2*o*s,t[14]=2*a*s,t[15]=1,t}},function(t,e){t.exports=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],p=e[10],d=e[11],v=e[12],m=e[13],g=e[14],y=e[15],_=n[0],b=n[1],x=n[2],w=n[3];return t[0]=_*r+b*s+x*h+w*v,t[1]=_*i+b*u+x*f+w*m,t[2]=_*o+b*l+x*p+w*g,t[3]=_*a+b*c+x*d+w*y,_=n[4],b=n[5],x=n[6],w=n[7],t[4]=_*r+b*s+x*h+w*v,t[5]=_*i+b*u+x*f+w*m,t[6]=_*o+b*l+x*p+w*g,t[7]=_*a+b*c+x*d+w*y,_=n[8],b=n[9],x=n[10],w=n[11],t[8]=_*r+b*s+x*h+w*v,t[9]=_*i+b*u+x*f+w*m,t[10]=_*o+b*l+x*p+w*g,t[11]=_*a+b*c+x*d+w*y,_=n[12],b=n[13],x=n[14],w=n[15],t[12]=_*r+b*s+x*h+w*v,t[13]=_*i+b*u+x*f+w*m,t[14]=_*o+b*l+x*p+w*g,t[15]=_*a+b*c+x*d+w*y,t}},function(t,e,n){var r=n(45).default,i=n(144);t.exports=function(t,e,n,o){var a=r(o,3),s=a[0],u=a[1],l=a[2],c=Math.hypot(s,u,l);if(Math.abs(c)<1e-6)return i(t,e);s*=c=1/c,u*=c,l*=c;var h=Math.sin(n),f=Math.cos(n),p=1-f,d=e[0],v=e[1],m=e[2],g=e[3],y=e[4],_=e[5],b=e[6],x=e[7],w=e[8],E=e[9],T=e[10],S=e[11],A=s*s*p+f,O=u*s*p+l*h,P=l*s*p-u*h,M=s*u*p-l*h,C=u*u*p+f,R=l*u*p+s*h,I=s*l*p+u*h,N=u*l*p-s*h,k=l*l*p+f;return t[0]=d*A+y*O+w*P,t[1]=v*A+_*O+E*P,t[2]=m*A+b*O+T*P,t[3]=g*A+x*O+S*P,t[4]=d*M+y*C+w*R,t[5]=v*M+_*C+E*R,t[6]=m*M+b*C+T*R,t[7]=g*M+x*C+S*R,t[8]=d*I+y*N+w*k,t[9]=v*I+_*N+E*k,t[10]=m*I+b*N+T*k,t[11]=g*I+x*N+S*k,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t}},function(t,e){t.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+l*r,t[5]=a*i+c*r,t[6]=s*i+h*r,t[7]=u*i+f*r,t[8]=l*i-o*r,t[9]=c*i-a*r,t[10]=h*i-s*r,t[11]=f*i-u*r,t}},function(t,e){t.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-l*r,t[1]=a*i-c*r,t[2]=s*i-h*r,t[3]=u*i-f*r,t[8]=o*r+l*i,t[9]=a*r+c*i,t[10]=s*r+h*i,t[11]=u*r+f*i,t}},function(t,e){t.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],h=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+l*r,t[1]=a*i+c*r,t[2]=s*i+h*r,t[3]=u*i+f*r,t[4]=l*i-o*r,t[5]=c*i-a*r,t[6]=h*i-s*r,t[7]=f*i-u*r,t}},function(t,e){t.exports=function(t,e,n){var r=n[0],i=n[1],o=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}},function(t,e){t.exports=function(t){return t.map((function(t){return t.toFixed(7)})).toString()}},function(t,e){t.exports=function(t,e,n){var r,i,o,a,s,u,l,c,h,f,p,d,v=n[0],m=n[1],g=n[2];return e===t?(t[12]=e[0]*v+e[4]*m+e[8]*g+e[12],t[13]=e[1]*v+e[5]*m+e[9]*g+e[13],t[14]=e[2]*v+e[6]*m+e[10]*g+e[14],t[15]=e[3]*v+e[7]*m+e[11]*g+e[15]):(r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],p=e[10],d=e[11],t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=f,t[10]=p,t[11]=d,t[12]=r*v+s*m+h*g+e[12],t[13]=i*v+u*m+f*g+e[13],t[14]=o*v+l*m+p*g+e[14],t[15]=a*v+c*m+d*g+e[15]),t}},function(t,e,n){var r=n(18),i=n(81);t.exports=function(t){if(!Array.isArray(t))throw new Error("the given points must be an array");var e=t.length;if(e<3)throw new Error("the given points must define a closed geometry with three or more points");r.equals(t[0],t[e-1])&&--e;for(var n=[],o=t[e-1],a=0;a<e;a++){var s=t[a];n.push([r.clone(o),r.clone(s)]),o=s}return i(n)}},function(t,e){t.exports=function(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}},function(t,e,n){t.exports=n(110)},function(t,e,n){var r=n(110);t.exports=function(t){return 57.29577951308232*r(t)}},function(t,e,n){var r=n(84);t.exports=function(t){var e=r();return e[0]=t[0],e[1]=t[1],e}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t}},function(t,e){t.exports=function(t,e,n){return t[0]=0,t[1]=0,t[2]=e[0]*n[1]-e[1]*n[0],t}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.hypot(n,r)}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]}},function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]}},function(t,e,n){var r=n(159);t.exports=function(t,e){return r(t,Math.PI*e/180)}},function(t,e){t.exports=function(t,e){return t[0]=e,t[1]=e,t}},function(t,e,n){var r=n(84);t.exports=function(t,e){var n=r();return n[0]=t,n[1]=e,n}},function(t,e){t.exports=function(t){return Math.hypot(t[0],t[1])}},function(t,e){t.exports=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}},function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t}},function(t,e,n){var r=n(84),i=n(160);t.exports=function(t,e){return i(t,e,r(),Math.PI/2)}},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i)),t[0]=n*i,t[1]=r*i,t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.round(e[0]/n)*n+0,t[1]=Math.round(e[1]/n)*n+0,t}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}},function(t,e){t.exports=function(t){var e=t[0],n=t[1];return e*e+n*n}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}},function(t,e){t.exports=function(t){return"[".concat(t[0].toFixed(7),", ").concat(t[1].toFixed(7),"]")}},function(t,e){t.exports=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t}},function(t,e,n){var r=n(26),i=n(18),o=n(81);t.exports=function(t){if(0!==t[0])throw new Error("invalid compact binary data");var e=o();e.transforms=r.clone(t.slice(1,17));for(var n=21;n<t.length;n+=4){var a=i.fromValues(t[n+0],t[n+1]),s=i.fromValues(t[n+2],t[n+3]);e.sides.push([a,s])}return t[17]>=0&&(e.color=[t[17],t[18],t[19],t[20]]),e}},function(t,e){t.exports=function(t){return!!(t&&"object"===typeof t&&"sides"in t&&"transforms"in t&&Array.isArray(t.sides)&&"length"in t.transforms)}},function(t,e,n){var r=n(81),i=n(67);t.exports=function(t){var e=i(t).map((function(t){return[t[1],t[0]]}));return e.reverse(),r(e)}},function(t,e,n){var r=n(26),i=n(18);t.exports=function(t){return r.isIdentity(t.transforms)||(t.sides=t.sides.map((function(e){return[i.transform(i.create(),e[0],t.transforms),i.transform(i.create(),e[1],t.transforms)]})),t.transforms=r.create()),t}},function(t,e,n){var r=n(45).default,i=n(111).default,o=n(18),a=n(67);t.exports=function(t){var e=new Map,n=function(t){var e={},n=function(t){var n=t.toString();return e[n]||(e[n]=t),e[n]};return t.map((function(t){return t.map(n)}))}(a(t));n.forEach((function(t){e.has(t[0])||e.set(t[0],[]),e.get(t[0]).push(t)}));for(var s=[];;){var u,l=void 0,c=i(e);try{for(c.s();!(u=c.n()).done;){var h=r(u.value,2),f=h[0];if(l=h[1].shift())break;e.delete(f)}}catch(S){c.e(S)}finally{c.f()}if(void 0===l)break;for(var p=[],d=l[0],v=o.create();;){p.push(l[0]);var m=l[1];if(m===d)break;var g=e.get(m);if(!g)throw new Error("the given geometry is not closed. verify proper construction");var y=-1;if(1===g.length)y=0;else for(var _=void 0,b=o.angleDegrees(o.subtract(v,l[1],l[0])),x=0;x<g.length;x++){var w=g[x],E=o.angleDegrees(o.subtract(v,w[1],w[0]))-b;E<-180&&(E+=360),E>=180&&(E-=360),(y<0||E>_)&&(y=x,_=E)}var T=g[y];g.splice(y,1),0===g.length&&e.delete(m),l=T}p.length>0&&p.push(p.shift()),s.push(p)}return e.clear(),s}},function(t,e,n){var r=n(67);t.exports=function(t){var e=r(t).map((function(t){return t[0]}));return e.length>0&&e.push(e.shift()),e}},function(t,e,n){var r=n(18),i=n(67);t.exports=function(t){var e=i(t),n="geom2 ("+e.length+" sides):\n[\n";return e.forEach((function(t){n+="  ["+r.toString(t[0])+", "+r.toString(t[1])+"]\n"})),n+="]\n"}},function(t,e){t.exports=function(t){var e=t.sides,n=t.transforms,r=[-1,-1,-1,-1];t.color&&(r=t.color);var i=new Float32Array(21+4*e.length);i[0]=0,i[1]=n[0],i[2]=n[1],i[3]=n[2],i[4]=n[3],i[5]=n[4],i[6]=n[5],i[7]=n[6],i[8]=n[7],i[9]=n[8],i[10]=n[9],i[11]=n[10],i[12]=n[11],i[13]=n[12],i[14]=n[13],i[15]=n[14],i[16]=n[15],i[17]=r[0],i[18]=r[1],i[19]=r[2],i[20]=r[3];for(var o=0;o<e.length;o++){var a=4*o+21,s=e[o][0],u=e[o][1];i[a+0]=s[0],i[a+1]=s[1],i[a+2]=u[0],i[a+3]=u[1]}return i}},function(t,e,n){var r=n(26);t.exports=function(t,e){var n=r.multiply(r.create(),t,e.transforms);return Object.assign({},e,{transforms:n})}},function(t,e){t.exports=function(t){return Object.assign({},t)}},function(t,e,n){var r=n(19),i=n(85);t.exports=function(t){if(!Array.isArray(t))throw new Error("the given points must be an array");var e=t.map((function(t,e){return r.fromPoints(t)}));return i(e)}},function(t,e,n){var r=n(60),i=n(11);t.exports=function(){var t,e;return 1===arguments.length?(t=r(),e=arguments.length<=0?void 0:arguments[0]):(t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1]),t.vertices=e.vertices.map((function(t){return i.clone(t)})),t}},function(t,e,n){var r=n(11),i=n(60);t.exports=function(t){var e=t.map((function(t){return r.clone(t)}));return i(e)}},function(t,e,n){var r=n(60);t.exports=function(t,e){var n=r(t);return n.plane=e,n}},function(t,e,n){var r=n(41),i=n(60);t.exports=function(t){var e=t.vertices.slice().reverse(),n=i(e);return t.plane&&(n.plane=r.flip(r.create(),t.plane)),n}},function(t,e,n){var r=n(11);t.exports=function(t,e,n){var i=r.normalize(r.create(),e),o=r.dot(n,i);return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=o,t}},function(t,e,n){var r=n(29).EPS,i=n(11);t.exports=function(t,e,n,o){var a=i.subtract(i.create(),n,e),s=i.subtract(i.create(),o,e);i.length(a)<r&&(a=i.orthogonal(a,s)),i.length(s)<r&&(s=i.orthogonal(s,a));var u=i.cross(i.create(),a,s);i.length(u)<r&&(s=i.orthogonal(s,a),u=i.cross(u,a,s)),u=i.normalize(u,u);var l=i.dot(u,e);return t[0]=u[0],t[1]=u[1],t[2]=u[2],t[3]=l,t}},function(t,e,n){var r=n(11);t.exports=function(t,e){var n=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]-t[3],i=e[0]-n*t[0],o=e[1]-n*t[1],a=e[2]-n*t[2];return r.fromValues(i,o,a)}},function(t,e,n){var r=n(11);t.exports=function(t,e){return r.dot(t,e)-t[3]}},function(t,e,n){var r=n(26),i=n(11),o=n(166),a=n(164);t.exports=function(t,e,n){var s=r.isMirroring(n),u=i.orthogonal(i.create(),e),l=i.cross(u,e,u),c=i.cross(i.create(),e,l),h=i.fromScalar(i.create(),e[3]);i.multiply(h,h,e);var f=i.add(i.create(),h,l),p=i.add(i.create(),h,c);return h=i.transform(h,h,n),f=i.transform(f,f,n),p=i.transform(p,p,n),o(t,h,f,p),s&&a(t,t),t}},function(t,e){t.exports=function(t){return!!(t&&"object"===typeof t&&"vertices"in t&&Array.isArray(t.vertices))}},function(t,e,n){var r=n(68).default,i=n(41),o=n(11),a=function(t){var e=t.length;if(e>2)for(var n=i.fromPoints.apply(i,[i.create()].concat(r(t))),o=t[e-2],a=t[e-1],u=0;u<e;u++){var l=t[u];if(!s(o,a,l,n))return!1;o=a,a=l}return!0},s=function(t,e,n,r){var i=o.cross(o.create(),o.subtract(o.create(),e,t),o.subtract(o.create(),n,e));return o.dot(i,r)>=0};t.exports=function(t){return a(t.vertices)}},function(t,e,n){var r=n(146);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(168);t.exports=function(t){var e=t.vertices.length;if(e<3)return 0;var n=t.vertices,i=r(t),o=Math.abs(i[0]),a=Math.abs(i[1]),s=Math.abs(i[2]);if(o+a+s===0)return 0;var u=3;o>a&&o>s?u=1:a>s&&(u=2);var l=0,c=0,h=1,f=2;switch(u){case 1:for(h=1;h<e;h++)c=h-1,f=(h+1)%e,l+=n[h][1]*(n[f][2]-n[c][2]);l+=n[0][1]*(n[1][2]-n[e-1][2]),l/=2*i[0];break;case 2:for(h=1;h<e;h++)c=h-1,f=(h+1)%e,l+=n[h][2]*(n[f][0]-n[c][0]);l+=n[0][2]*(n[1][0]-n[e-1][0]),l/=2*i[1];break;default:for(h=1;h<e;h++)c=h-1,f=(h+1)%e,l+=n[h][0]*(n[f][1]-n[c][1]);l+=n[0][0]*(n[1][1]-n[e-1][1]),l/=2*i[2]}return l}},function(t,e,n){var r=n(11),i=n(169);t.exports=function(t){var e=i(t),n=e[0];return r.add(n,e[0],e[1]),r.scale(n,n,.5),[n,r.distance(n,e[1])]}},function(t,e,n){var r=n(11);t.exports=function(t){for(var e=0,n=t.vertices,i=r.create(),o=0;o<n.length-2;o++)r.cross(i,n[o+1],n[o+2]),e+=r.dot(n[0],i);return e/=6}},function(t,e){t.exports=function(t){return t.vertices}},function(t,e,n){var r=n(11);t.exports=function(t){var e="poly3: vertices: [";return t.vertices.forEach((function(t){e+="".concat(r.toString(t),", ")})),e+="]"}},function(t,e,n){var r=n(26),i=n(11),o=n(60);t.exports=function(t,e){var n=e.vertices.map((function(e){return i.transform(i.create(),e,t)}));return r.isMirroring(t)&&n.reverse(),o(n)}},function(t,e,n){var r=n(11),i=n(26),o=n(19),a=n(85);t.exports=function(t){if(1!==t[0])throw new Error("invalid compact binary data");var e=a();e.transforms=i.clone(t.slice(1,17));for(var n=t[21],s=22,u=t.length-3*n;u<t.length;){var l=t[s];s++;for(var c=[],h=0;h<l;h++)c.push(r.fromValues(t[u],t[u+1],t[u+2])),u+=3;e.polygons.push(o.create(c))}return t[17]>=0&&(e.color=[t[17],t[18],t[19],t[20]]),e}},function(t,e,n){var r=n(19),i=n(85),o=n(87);t.exports=function(t){var e=o(t).map((function(t){return r.invert(t)}));return i(e)}},function(t,e,n){var r=n(26),i=n(19);t.exports=function(t){return r.isIdentity(t.transforms)||(t.polygons=t.polygons.map((function(e){return i.transform(t.transforms,e)})),t.transforms=r.create()),t}},function(t,e){t.exports=function(t){return!!(t&&"object"===typeof t&&"polygons"in t&&"transforms"in t&&Array.isArray(t.polygons)&&"length"in t.transforms)}},function(t,e,n){var r=n(19),i=n(87);t.exports=function(t){return i(t).map((function(t){return r.toPoints(t)}))}},function(t,e,n){var r=n(19),i=n(87);t.exports=function(t){var e=i(t),n="geom3 ("+e.length+" polygons):\n";return e.forEach((function(t){n+="  "+r.toString(t)+"\n"})),n}},function(t,e,n){var r=n(19);t.exports=function(t){var e=t.polygons,n=t.transforms,i=e.length,o=e.reduce((function(t,e){return t+e.vertices.length}),0),a=[-1,-1,-1,-1];t.color&&(a=t.color);var s=new Float32Array(22+i+3*o);s[0]=1,s[1]=n[0],s[2]=n[1],s[3]=n[2],s[4]=n[3],s[5]=n[4],s[6]=n[5],s[7]=n[6],s[8]=n[7],s[9]=n[8],s[10]=n[9],s[11]=n[10],s[12]=n[11],s[13]=n[12],s[14]=n[13],s[15]=n[14],s[16]=n[15],s[17]=a[0],s[18]=a[1],s[19]=a[2],s[20]=a[3],s[21]=o;var u=22,l=u+i;return e.forEach((function(t){var e=r.toPoints(t);s[u]=e.length,u++;for(var n=0;n<e.length;n++){var i=e[n];s[l+0]=i[0],s[l+1]=i[1],s[l+2]=i[2],l+=3}})),s}},function(t,e,n){var r=n(26);t.exports=function(t,e){var n=r.multiply(r.create(),t,e.transforms);return Object.assign({},e,{transforms:n})}},function(t,e,n){var r=n(18),i=n(88),o=n(46);t.exports=function(t,e){var n=Object.assign({},{radius:[0,0],xaxisrotation:0,clockwise:!1,large:!1,segments:16},t),a=n.endpoint,s=n.radius,u=n.xaxisrotation,l=n.clockwise,c=n.large,h=n.segments;if(!Array.isArray(a))throw new Error("endpoint must be an array of X and Y values");if(a.length<2)throw new Error("endpoint must contain X and Y values");if(a=r.clone(a),!Array.isArray(s))throw new Error("radius must be an array of X and Y values");if(s.length<2)throw new Error("radius must contain X and Y values");if(h<4)throw new Error("segments must be four or more");var f=1e5;if(e.isClosed)throw new Error("the given path cannot be closed");var p=o(e);if(p.length<1)throw new Error("the given path must contain one or more points (as the starting point for the arc)");var d=s[0],v=s[1],m=p[p.length-1];d=Math.round(d*f)/f,v=Math.round(v*f)/f,a=r.fromValues(Math.round(a[0]*f)/f,Math.round(a[1]*f)/f);var g=!l,y=[];if(0===d||0===v)y.push(a);else{d=Math.abs(d),v=Math.abs(v);var _=u,b=Math.cos(_),x=Math.sin(_),w=r.subtract(r.create(),m,a);r.scale(w,w,.5);var E=Math.round((b*w[0]+x*w[1])*f)/f,T=Math.round((-x*w[0]+b*w[1])*f)/f,S=r.fromValues(E,T),A=S[0]*S[0]/(d*d)+S[1]*S[1]/(v*v);if(A>1){var O=Math.sqrt(A);d*=O,v*=O,d=Math.round(d*f)/f,v=Math.round(v*f)/f}var P=Math.sqrt((d*d*v*v-d*d*S[1]*S[1]-v*v*S[0]*S[0])/(d*d*S[1]*S[1]+v*v*S[0]*S[0]));g===c&&(P=-P);var M=r.fromValues(d*S[1]/v,-v*S[0]/d);r.scale(M,M,P);var C=r.fromValues(b*M[0]-x*M[1],x*M[0]+b*M[1]);C=r.add(C,C,r.scale(r.create(),r.add(r.create(),m,a),.5));var R=r.fromValues((S[0]-M[0])/d,(S[1]-M[1])/v),I=r.fromValues((-S[0]-M[0])/d,(-S[1]-M[1])/v),N=r.angleRadians(R),k=r.angleRadians(I)-N;k%=2*Math.PI,!g&&k>0?k-=2*Math.PI:g&&k<0&&(k+=2*Math.PI);var D=Math.ceil(Math.abs(k)/(2*Math.PI)*h)+1;D<1&&(D=1);for(var L=1;L<D;L++){var F=N+L/D*k,U=Math.cos(F),j=Math.sin(F),B=r.fromValues(b*d*U-x*v*j,x*d*U+b*v*j);r.add(B,B,C),y.push(B)}D&&y.push(t.endpoint)}return y=p.concat(y),i({},y)}},function(t,e,n){var r=n(26),i=n(18);t.exports=function(t){return r.isIdentity(t.transforms)||(t.points=t.points.map((function(e){return i.transform(i.create(),e,t.transforms)})),t.transforms=r.create()),t}},function(t,e,n){var r=n(18),i=n(18),o=n(171),a=n(46);t.exports=function(t,e){var n=Object.assign({},{segments:16},t),s=n.controlPoints,u=n.segments;if(!Array.isArray(s))throw new Error("controlPoints must be an array of one or more points");if(s.length<1)throw new Error("controlPoints must be an array of one or more points");if(u<4)throw new Error("segments must be four or more");if(e.isClosed)throw new Error("the given geometry cannot be closed");var l=a(e);if(l.length<1)throw new Error("the given path must contain one or more points (as the starting point for the bezier curve)");if(null===(s=s.slice())[0]){if(s.length<2)throw new Error("a null control point must be passed with one more control points");var c=l[l.length-2];if("lastBezierControlPoint"in e&&(c=e.lastBezierControlPoint),!Array.isArray(c))throw new Error("the given path must contain TWO or more points if given a null control point");var h=r.scale(r.create(),l[l.length-1],2);r.subtract(h,h,c),s[0]=h}s.unshift(l[l.length-1]);for(var f=s.length-1,p=[],d=1,v=0;v<=f;++v)v>0&&(d*=v),p.push(d);for(var m=[],g=0;g<=f;++g){var y=p[f]/(p[g]*p[f-g]);m.push(y)}for(var _=r.create(),b=r.create(),x=i.create(),w=function(t){for(var e=1,n=Math.pow(1-t,f),i=1!==t?1/(1-t):1,o=r.create(),a=0;a<=f;++a){a===f&&(n=1);var u=m[a]*e*n,l=r.scale(_,s[a],u);r.add(o,o,l),e*=t,n*=i}return o},E=[],T=[],S=f+1,A=0;A<S;++A){var O=A/(S-1),P=w(O);E.push(P),T.push(O)}for(var M=1,C=2*Math.PI/u,R=Math.sin(C);M<E.length-1;){var I=r.subtract(_,E[M],E[M-1]);r.normalize(I,I);var N=r.subtract(b,E[M+1],E[M]);r.normalize(N,N);var k=r.cross(x,I,N);if(Math.abs(k[2])>R){var D=T[M-1],L=T[M+1],F=D+1*(L-D)/3,U=D+2*(L-D)/3,j=w(F),B=w(U);E.splice(M,1,j,B),T.splice(M,1,F,U),--M<1&&(M=1)}else++M}E.shift();var G=o(E,e);return G.lastBezierControlPoint=s[s.length-2],G}},function(t,e,n){var r=n(88),i=n(46),o=n(18).equals;t.exports=function(){for(var t=!1,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];for(var s=0,u=n;s<u.length;s++){var l=u[s];if(t)throw new Error("Cannot concatenate to a closed path");t=l.isClosed}var c=[];return n.forEach((function(t){var e=i(t);c.length>0&&e.length>0&&o(e[0],c[c.length-1])&&e.shift(),c=c.concat(e)})),r({closed:t},c)}},function(t,e,n){var r=n(46);t.exports=function(t,e,n){r(n).forEach(e)}},function(t,e,n){var r=n(18),i=n(46);t.exports=function(t,e){if(t.isClosed!==e.isClosed)return!1;if(t.points.length!==e.points.length)return!1;var n=i(t),o=i(e),a=n.length,s=0;do{for(var u=!1,l=0;l<a;l++)if(!r.equals(n[l],o[(l+s)%a])){u=!0;break}if(!1===u)return!0;if(!t.isClosed)return!1}while(++s<a);return!1}},function(t,e,n){var r=n(26),i=n(18),o=n(113);t.exports=function(t){if(2!==t[0])throw new Error("invalid compact binary data");var e=o();e.transforms=r.clone(t.slice(1,17)),e.isClosed=!!t[17];for(var n=22;n<t.length;n+=2){var a=i.fromValues(t[n],t[n+1]);e.points.push(a)}return t[18]>=0&&(e.color=[t[18],t[19],t[20],t[21]]),e}},function(t,e){t.exports=function(t){return!!(t&&"object"===typeof t&&"points"in t&&"transforms"in t&&"isClosed"in t&&Array.isArray(t.points)&&"length"in t.transforms)}},function(t,e,n){var r=n(112);t.exports=function(t){var e=r(t);return e.points=t.points.slice().reverse(),e}},function(t,e,n){var r=n(18),i=n(46);t.exports=function(t){var e=i(t),n="path ("+e.length+" points, "+t.isClosed+"):\n[\n";return e.forEach((function(t){n+="  "+r.toString(t)+",\n"})),n+="]\n"}},function(t,e){t.exports=function(t){var e=t.points,n=t.transforms,r=[-1,-1,-1,-1];t.color&&(r=t.color);var i=new Float32Array(22+2*e.length);i[0]=2,i[1]=n[0],i[2]=n[1],i[3]=n[2],i[4]=n[3],i[5]=n[4],i[6]=n[5],i[7]=n[6],i[8]=n[7],i[9]=n[8],i[10]=n[9],i[11]=n[10],i[12]=n[11],i[13]=n[12],i[14]=n[13],i[15]=n[14],i[16]=n[15],i[17]=t.isClosed?1:0,i[18]=r[0],i[19]=r[1],i[20]=r[2],i[21]=r[3];for(var o=0;o<e.length;o++){var a=2*o+22,s=e[o];i[a]=s[0],i[a+1]=s[1]}return i}},function(t,e,n){var r=n(26);t.exports=function(t,e){var n=r.multiply(r.create(),t,e.transforms);return Object.assign({},e,{transforms:n})}},function(t,e,n){var r=n(12),i=n(89);t.exports=function(t,e){var n=Object.assign({},{delta:1,corners:"edge",segments:16},t),o=n.delta,a=n.corners,s=n.segments;if("edge"!==a&&"chamfer"!==a&&"round"!==a)throw new Error('corners must be "edge", "chamfer", or "round"');var u=r.toOutlines(e).map((function(e){return i(t={delta:o,corners:a,closed:!0,segments:s},e)})).reduce((function(t,e){return t.concat(r.toSides(r.fromPoints(e)))}),[]);return r.create(u)}},function(t,e,n){var r=n(115);t.exports=function(t){var e=r();return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},function(t,e,n){var r=n(18),i=n(116),o=n(90);t.exports=function(t,e){var n=o(t),a=i(t),s=(a[1]-n[1])/(a[0]-n[0]),u=n[1]-s*n[0],l=-1/s,c=(e[1]-l*e[0]-u)/(s-l),h=s*c+u;return r.fromValues(c,h)}},function(t,e,n){var r=n(18);t.exports=function(t,e){var n=r.dot(e,t);return n=Math.abs(n-t[2])}},function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}},function(t,e,n){var r=n(18),i=n(69).solve2Linear;t.exports=function(t,e){var n=i(t[0],t[1],e[0],e[1],t[2],e[2]);return r.clone(n)}},function(t,e){t.exports=function(t,e,n,r,i,o){var a=1/(t*r-e*n),s=i*r-e*o,u=-i*n+t*o;return[s*=a,u*=a]}},function(t,e,n){var r=n(18),i=n(173),o=n(175);t.exports=function(t,e){var n=r.negate(r.create(),e),a=-e[2];return i(t,o(n[0],n[1],a))}},function(t,e){t.exports=function(t){return"line2: (".concat(t[0].toFixed(7),", ").concat(t[1].toFixed(7),", ").concat(t[2].toFixed(7),")")}},function(t,e,n){var r=n(18),i=n(174),o=n(90),a=n(116);t.exports=function(t,e,n){var s=o(e),u=a(e);return r.transform(s,s,n),r.transform(u,u,n),i(t,s,u)}},function(t,e,n){var r=n(90);t.exports=function(t,e){var n=(t[2]-t[1]*e)/t[0];Number.isNaN(n)&&(n=r(t)[0]);return n}},function(t,e,n){var r=n(16),i=n(117),o=n(404);t.exports=function(t,e){var n=Object.assign({},{delta:1,corners:"round",segments:12},t),a=n.delta,s=n.corners,u=n.segments;if("round"!==s)throw new Error('corners must be "round" for 3D geometries');if(0===r.toPolygons(e).length)throw new Error("the given geometry cannot be empty");var l=o(t={delta:a,corners:s,segments:u},e);return i(e,l)}},function(t,e,n){var r=n(179),i=n(180),o=function(t,e){for(var n=e.length,r=t[0],i=t[1],o=e[n-1],a=e[0],s=o[1]>i,u=0,l=0,c=n+1;--c;){var h=a[1]>i;if(s!==h){var f=o[0]>r,p=a[0]>r;(f&&p||a[0]-(a[1]-i)*(o[0]-a[0])/(o[1]-a[1])>=r)&&(u=!u)}s=h,o=a,a=e[++l]}return u};t.exports=function(t,e){if(0===t.length)return 0;var n=e.vertices;return n.length<3?0:(r(e)<0&&(e=i(e)),t.reduce((function(t,e){return t+o(e,n)}),0)===t.length?1:0)}},function(t,e,n){var r=n(29).EPS,i=n(114),o=n(18),a=n(394),s=n(177),u=n(183),l=u.insertSorted,c=u.fnNumberSort,h=n(19);t.exports=function(t){if(t.length<2)return t;for(var e=[],n=t.length,u=h.plane(t[0]),f=new a(u),p=[],d=[],v={},m={},g={},y=1/r*10,_=0;_<n;_++){var b=t[_],x=[],w=b.vertices.length,E=-1;if(w>0){for(var T=void 0,S=void 0,A=0;A<w;A++){var O=f.to2D(b.vertices[A]),P=Math.floor(O[1]*y),M=void 0;P in g?M=g[P]:P+1 in g?M=g[P+1]:P-1 in g?M=g[P-1]:(M=O[1],g[P]=O[1]),O=o.fromValues(O[0],M),x.push(O);var C=O[1];(0===A||C<T)&&(T=C,E=A),(0===A||C>S)&&(S=C),C in m||(m[C]={}),m[C][_]=!0}T>=S?(x=[],w=0,E=-1):(T in v||(v[T]=[]),v[T].push(_))}x.reverse(),E=w-E-1,p.push(x),d.push(E)}var R=[];for(var I in m)R.push(I);R.sort(c);for(var N=[],k=[],D=0;D<R.length;D++){for(var L=[],F=R[D],U=Number(F),j=m[F],B=0;B<N.length;++B){var G=N[B],z=G.polygonindex;if(j[z]){for(var V=p[z],X=V.length,H=G.leftvertexindex,Y=G.rightvertexindex;;){var W=H+1;if(W>=X&&(W=0),V[W][1]!==U)break;H=W}var q=Y-1;if(q<0&&(q=X-1),V[q][1]===U&&(Y=q),H!==G.leftvertexindex&&H===Y)N.splice(B,1),--B;else{G.leftvertexindex=H,G.rightvertexindex=Y,G.topleft=V[H],G.topright=V[Y];var K=H+1;K>=X&&(K=0),G.bottomleft=V[K];var Z=Y-1;Z<0&&(Z=X-1),G.bottomright=V[Z]}}}var $=void 0;for(var Q in D>=R.length-1?(N=[],$=null):function(){$=Number(R[D+1]);var t=.5*(U+$),e=v[F];for(var n in e){for(var r=e[n],i=p[r],o=i.length,a=d[r],u=a;;){var c=u+1;if(c>=o&&(c=0),i[c][1]!==U)break;if(c===a)break;u=c}for(var h=a;;){var f=h-1;if(f<0&&(f=o-1),i[f][1]!==U)break;if(f===u)break;h=f}var m=u+1;m>=o&&(m=0);var g=h-1;g<0&&(g=o-1);var y={polygonindex:r,leftvertexindex:u,rightvertexindex:h,topleft:i[u],topright:i[h],bottomleft:i[m],bottomright:i[g]};l(N,y,(function(e,n){var r=s(e.topleft,e.bottomleft,t),i=s(n.topleft,n.bottomleft,t);return r>i?1:r<i?-1:0}))}}(),N){var J=N[Q],tt=s(J.topleft,J.bottomleft,U),et=o.fromValues(tt,U);tt=s(J.topright,J.bottomright,U);var nt=o.fromValues(tt,U);tt=s(J.topleft,J.bottomleft,$);var rt=o.fromValues(tt,$);tt=s(J.topright,J.bottomright,$);var it=o.fromValues(tt,$),ot={topleft:et,topright:nt,bottomleft:rt,bottomright:it,leftline:i.fromPoints(i.create(),et,rt),rightline:i.fromPoints(i.create(),it,nt)};if(L.length>0){var at=L[L.length-1],st=o.distance(ot.topleft,at.topright),ut=o.distance(ot.bottomleft,at.bottomright);st<r&&ut<r&&(ot.topleft=at.topleft,ot.leftline=at.leftline,ot.bottomleft=at.bottomleft,L.splice(L.length-1,1))}L.push(ot)}if(D>0){for(var lt={},ct={},ht=0;ht<L.length;ht++)for(var ft=L[ht],pt=0;pt<k.length;pt++)if(!ct[pt]){var dt=k[pt];if(o.distance(dt.bottomleft,ft.topleft)<r&&o.distance(dt.bottomright,ft.topright)<r){ct[pt]=!0;var vt=i.direction(ft.leftline),mt=i.direction(dt.leftline),gt=vt[0]-mt[0],yt=i.direction(ft.rightline),_t=i.direction(dt.rightline),bt=yt[0]-_t[0],xt=Math.abs(gt)<r,wt=Math.abs(bt)<r;(xt||gt>=0)&&(wt||bt>=0)&&(ft.outpolygon=dt.outpolygon,ft.leftlinecontinues=xt,ft.rightlinecontinues=wt,lt[pt]=!0);break}}for(var Et=0;Et<k.length;Et++)if(!lt[Et]){var Tt=k[Et];Tt.outpolygon.rightpoints.push(Tt.bottomright),o.distance(Tt.bottomright,Tt.bottomleft)>r&&Tt.outpolygon.leftpoints.push(Tt.bottomleft),Tt.outpolygon.leftpoints.reverse();var St=Tt.outpolygon.rightpoints.concat(Tt.outpolygon.leftpoints).map((function(t){return f.to3D(t)})),At=h.fromPointsAndPlane(St,u);At.vertices.length&&e.push(At)}}for(var Ot=0;Ot<L.length;Ot++){var Pt=L[Ot];Pt.outpolygon?(Pt.leftlinecontinues||Pt.outpolygon.leftpoints.push(Pt.topleft),Pt.rightlinecontinues||Pt.outpolygon.rightpoints.push(Pt.topright)):(Pt.outpolygon={leftpoints:[],rightpoints:[]},Pt.outpolygon.leftpoints.push(Pt.topleft),o.distance(Pt.topleft,Pt.topright)>r&&Pt.outpolygon.rightpoints.push(Pt.topright))}k=L}return e}},function(t,e,n){var r=n(26),i=n(18),o=n(11),a=function(t,e){arguments.length<2&&(e=o.orthogonal(o.create(),t)),this.v=o.normalize(o.create(),o.cross(o.create(),t,e)),this.u=o.cross(o.create(),this.v,t),this.plane=t,this.planeorigin=o.scale(o.create(),t,t[3])};a.GetCartesian=function(t,e){var n,r,i=t+"/"+e;if("X/Y"===i)n=[0,0,1],r=[1,0,0];else if("Y/-X"===i)n=[0,0,1],r=[0,1,0];else if("-X/-Y"===i)n=[0,0,1],r=[-1,0,0];else if("-Y/X"===i)n=[0,0,1],r=[0,-1,0];else if("-X/Y"===i)n=[0,0,-1],r=[-1,0,0];else if("-Y/-X"===i)n=[0,0,-1],r=[0,-1,0];else if("X/-Y"===i)n=[0,0,-1],r=[1,0,0];else if("Y/X"===i)n=[0,0,-1],r=[0,1,0];else if("X/Z"===i)n=[0,-1,0],r=[1,0,0];else if("Z/-X"===i)n=[0,-1,0],r=[0,0,1];else if("-X/-Z"===i)n=[0,-1,0],r=[-1,0,0];else if("-Z/X"===i)n=[0,-1,0],r=[0,0,-1];else if("-X/Z"===i)n=[0,1,0],r=[-1,0,0];else if("-Z/-X"===i)n=[0,1,0],r=[0,0,-1];else if("X/-Z"===i)n=[0,1,0],r=[1,0,0];else if("Z/X"===i)n=[0,1,0],r=[0,0,1];else if("Y/Z"===i)n=[1,0,0],r=[0,1,0];else if("Z/-Y"===i)n=[1,0,0],r=[0,0,1];else if("-Y/-Z"===i)n=[1,0,0],r=[0,-1,0];else if("-Z/Y"===i)n=[1,0,0],r=[0,0,-1];else if("-Y/Z"===i)n=[-1,0,0],r=[0,-1,0];else if("-Z/-Y"===i)n=[-1,0,0],r=[0,0,-1];else if("Y/-Z"===i)n=[-1,0,0],r=[0,1,0];else{if("Z/Y"!==i)throw new Error("OrthoNormalBasis.GetCartesian: invalid combination of axis identifiers. Should pass two string arguments from [X,Y,Z,-X,-Y,-Z], being two different axes.");n=[-1,0,0],r=[0,0,1]}return new a(new Plane(new Vector3D(n),0),new Vector3D(r))},a.Z0Plane=function(){var t=new Plane(new Vector3D([0,0,1]),0);return new a(t,new Vector3D([1,0,0]))},a.prototype={getProjectionMatrix:function(){return r.fromValues(this.u[0],this.v[0],this.plane[0],0,this.u[1],this.v[1],this.plane[1],0,this.u[2],this.v[2],this.plane[2],0,0,0,-this.plane[3],1)},getInverseProjectionMatrix:function(){var t=o.scale(o.create(),this.plane,this.plane[3]);return r.fromValues(this.u[0],this.u[1],this.u[2],0,this.v[0],this.v[1],this.v[2],0,this.plane[0],this.plane[1],this.plane[2],0,t[0],t[1],t[2],1)},to2D:function(t){return i.fromValues(o.dot(t,this.u),o.dot(t,this.v))},to3D:function(t){var e=o.scale(o.create(),this.u,t[0]),n=o.scale(o.create(),this.v,t[1]),r=o.add(e,e,this.planeorigin);return o.add(n,n,r)},line3Dto2D:function(t){var e=t.point,n=t.direction.plus(e),r=this.to2D(e),i=this.to2D(n);return Line2D.fromPoints(r,i)},line2Dto3D:function(t){var e=t.origin(),n=t.direction().plus(e),r=this.to3D(e),i=this.to3D(n);return Line3D.fromPoints(r,i)},transform:function(t){var e=this.plane.transform(t),n=this.u.transform(t),r=new Vector3D(0,0,0).transform(t),i=n.minus(r);return new a(e,i)}},t.exports=a},function(t,e){t.exports=function(t){return.017453292519943295*t}},function(t,e){t.exports=function(t,e,n){for(var r=0,i=t.length;i>r;){var o=Math.floor((r+i)/2);n(e,t[o])>0?r=o+1:i=o}t.splice(r,0,e)}},function(t,e){t.exports=function(t,e,n){var r=e>0?2*t*Math.PI/e:0,i=n>0?2*Math.PI/n:0;return Math.ceil(Math.max(r,i,4))}},function(t,e){t.exports=function(t){return 57.29577951308232*t}},function(t,e,n){var r=n(37).default,i=n(38).default,o=n(400),a=n(401),s=function(){"use strict";function t(e){r(this,t),this.polygonTree=new a,this.rootnode=new o(null),e&&this.addPolygons(e)}return i(t,[{key:"invert",value:function(){this.polygonTree.invert(),this.rootnode.invert()}},{key:"clipTo",value:function(t,e){e=!!e,this.rootnode.clipTo(t,e)}},{key:"allPolygons",value:function(){var t=[];return this.polygonTree.getPolygons(t),t}},{key:"addPolygons",value:function(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=this.polygonTree.addChild(t[n]);this.rootnode.addPolygonTreeNodes(e)}},{key:"clear",value:function(){this.polygonTree.clear()}},{key:"toString",value:function(){return"Tree: "+this.polygonTree.toString("")}}]),t}();t.exports=s},function(t,e,n){var r=n(37).default,i=n(38).default,o=n(41),a=n(19),s=function(){"use strict";function t(e){r(this,t),this.plane=null,this.front=null,this.back=null,this.polygontreenodes=[],this.parent=e}return i(t,[{key:"invert",value:function(){for(var t,e=[this],n=0;n<e.length;n++){(t=e[n]).plane&&(t.plane=o.flip(o.create(),t.plane)),t.front&&e.push(t.front),t.back&&e.push(t.back);var r=t.front;t.front=t.back,t.back=r}}},{key:"clipPolygons",value:function(t,e){var n,r={node:this,polygontreenodes:t},i=[];do{if(n=r.node,t=r.polygontreenodes,n.plane){for(var o=[],a=[],s=e?o:a,u=n.plane,l=t.length,c=0;c<l;c++){var h=t[c];h.isRemoved()||h.splitByPlane(u,s,o,a,o)}n.front&&a.length>0&&i.push({node:n.front,polygontreenodes:a});var f=o.length;if(n.back&&f>0)i.push({node:n.back,polygontreenodes:o});else for(var p=0;p<f;p++)o[p].remove()}r=i.pop()}while(void 0!==r)}},{key:"clipTo",value:function(t,e){var n=this,r=[];do{n.polygontreenodes.length>0&&t.rootnode.clipPolygons(n.polygontreenodes,e),n.front&&r.push(n.front),n.back&&r.push(n.back),n=r.pop()}while(void 0!==n)}},{key:"addPolygonTreeNodes",value:function(e){var n={node:this,polygontreenodes:e},r=[];do{var i=n.node,o=n.polygontreenodes;if(0!==o.length){if(!i.plane){var s=o[Math.floor(o.length/2)].getPolygon();i.plane=a.plane(s)}for(var u=[],l=[],c=o.length,h=0;h<c;++h)o[h].splitByPlane(i.plane,i.polygontreenodes,l,u,l);if(u.length>0)i.front||(i.front=new t(i)),c===u.length&&0===l.length?i.front.polygontreenodes=u:r.push({node:i.front,polygontreenodes:u});if(l.length>0)i.back||(i.back=new t(i)),c===l.length&&0===u.length?i.back.polygontreenodes=l:r.push({node:i.back,polygontreenodes:l});n=r.pop()}else n=r.pop()}while(void 0!==n)}},{key:"getParentPlaneNormals",value:function(t,e){e>0&&this.parent&&(t.push(this.parent.plane.normal),this.parent.getParentPlaneNormals(t,e-1))}}]),t}();t.exports=s},function(t,e,n){var r=n(37).default,i=n(38).default,o=n(29).EPS,a=n(11),s=n(19),u=n(402),l=function(){"use strict";function t(){r(this,t),this.parent=null,this.children=[],this.polygon=null,this.removed=!1}return i(t,[{key:"addPolygons",value:function(t){if(!this.isRootNode())throw new Error("Assertion failed");var e=this;t.forEach((function(t){e.addChild(t)}))}},{key:"remove",value:function(){if(!this.removed){this.removed=!0;var t=this.parent.children,e=t.indexOf(this);if(e<0)throw new Error("Assertion failed");t.splice(e,1),this.parent.recursivelyInvalidatePolygon()}}},{key:"isRemoved",value:function(){return this.removed}},{key:"isRootNode",value:function(){return!this.parent}},{key:"invert",value:function(){if(!this.isRootNode())throw new Error("Assertion failed");this.invertSub()}},{key:"getPolygon",value:function(){if(!this.polygon)throw new Error("Assertion failed");return this.polygon}},{key:"getPolygons",value:function(t){var e,n,r,i,o=[this],a=[o];for(e=0;e<a.length;++e)for(n=0,r=(o=a[e]).length;n<r;n++)(i=o[n]).polygon?t.push(i.polygon):i.children.length>0&&a.push(i.children)}},{key:"splitByPlane",value:function(t,e,n,r,i){if(this.children.length){var o,a,s,u,l,c=[this.children];for(o=0;o<c.length;o++)for(a=0,s=(l=c[o]).length;a<s;a++)(u=l[a]).children.length>0?c.push(u.children):u._splitByPlane(t,e,n,r,i)}else this._splitByPlane(t,e,n,r,i)}},{key:"_splitByPlane",value:function(t,e,n,r,i){var l=this.polygon;if(l){var c=s.measureBoundingSphere(l),h=c[1]+o,f=c[0],p=a.dot(t,f)-t[3];if(p>h)r.push(this);else if(p<-h)i.push(this);else{var d=u(t,l);switch(d.type){case 0:e.push(this);break;case 1:n.push(this);break;case 2:r.push(this);break;case 3:i.push(this);break;case 4:if(d.front){var v=this.addChild(d.front);r.push(v)}if(d.back){var m=this.addChild(d.back);i.push(m)}}}}}},{key:"addChild",value:function(e){var n=new t;return n.parent=this,n.polygon=e,this.children.push(n),n}},{key:"invertSub",value:function(){var t,e,n,r,i=[this],o=[i];for(t=0;t<o.length;t++)for(e=0,n=(i=o[t]).length;e<n;e++)(r=i[e]).polygon&&(r.polygon=s.invert(r.polygon)),r.children.length>0&&o.push(r.children)}},{key:"recursivelyInvalidatePolygon",value:function(){for(var t=this;t.polygon;)t.polygon=null,t.parent&&(t=t.parent)}},{key:"clear",value:function(){for(var t=[this],e=[t],n=0;n<e.length;++n)for(var r=(t=e[n]).length,i=0;i<r;i++){var o=t[i];o.polygon&&(o.polygon=null),o.parent&&(o.parent=null),o.children.length>0&&e.push(o.children),o.children=[]}}},{key:"toString",value:function(){var t,e,n,r,i="",o=[this],a=[o];for(t=0;t<a.length;++t){o=a[t];var s=" ".repeat(t);for(e=0,n=o.length;e<n;e++)r=o[e],i+="".concat(s,"PolygonTreeNode (").concat(r.isRootNode(),"): ").concat(r.children.length),r.polygon?i+="\n ".concat(s,"poly3\n"):i+="\n",r.children.length>0&&a.push(r.children)}return i}}]),t}();t.exports=l},function(t,e,n){var r=n(29).EPS,i=n(41),o=n(11),a=n(19),s=n(403);t.exports=function(t,e){var n={type:null,front:null,back:null},u=e.vertices,l=u.length,c=a.plane(e);if(i.equals(c,t))n.type=0;else{for(var h=!1,f=!1,p=[],d=-r,v=0;v<l;v++){var m=o.dot(t,u[v])-t[3],g=m<0;p.push(g),m>r&&(h=!0),m<d&&(f=!0)}if(h||f)if(f)if(h){n.type=4;for(var y=[],_=[],b=p[0],x=0;x<l;x++){var w=u[x],E=x+1;E>=l&&(E=0);var T=p[E];if(b===T)b?_.push(w):y.push(w);else{var S=w,A=u[E],O=s(t,S,A);b?(_.push(w),_.push(O),y.push(O)):(y.push(w),y.push(O),_.push(O))}b=T}var P=r*r;if(_.length>=3)for(var M=_[_.length-1],C=0;C<_.length;C++){var R=_[C];o.squaredDistance(R,M)<P&&(_.splice(C,1),C--),M=R}if(y.length>=3)for(var I=y[y.length-1],N=0;N<y.length;N++){var k=y[N];o.squaredDistance(k,I)<P&&(y.splice(N,1),N--),I=k}y.length>=3&&(n.front=a.fromPointsAndPlane(y,c)),_.length>=3&&(n.back=a.fromPointsAndPlane(_,c))}else n.type=3;else n.type=2;else{var D=o.dot(t,c);n.type=D>=0?0:1}}return n}},function(t,e,n){var r=n(11);t.exports=function(t,e,n){var i=r.subtract(r.create(),n,e),o=(t[3]-r.dot(t,e))/r.dot(t,i);return Number.isNaN(o)&&(o=0),o>1&&(o=1),o<0&&(o=0),r.scale(i,i,o),r.add(i,e,i),i}},function(t,e,n){var r=n(29).EPS,i=n(26),o=n(11),a=n(184),s=n(16),u=n(19),l=n(186),c=n(92),h=n(185),f=n(405),p=function(t,e,n){var r=e.toString();if(t.has(r)){t.get(r)[1].push(n)}else{var i=[e,[n]];t.set(r,i)}},d=function(t,e,n){var r=e[0].toString(),i=e[1].toString(),o=r<i?"".concat(r,",").concat(i):"".concat(i,",").concat(r);if(t.has(o)){t.get(o)[1].push(n)}else{var a=[e,[n]];t.set(o,a)}},v=function(t,e){t.findIndex((function(t){return t===e}))<0&&t.push(e)};t.exports=function(t,e){var n=Object.assign({},{delta:1,segments:12},t),m=n.delta,g=n.segments,y=s.create(),_=new Map,b=new Map,x=o.create(),w=o.create();return s.toPolygons(e).forEach((function(t,e){var n=o.scale(o.create(),u.plane(t),2*m),r=u.transform(i.fromTranslation(i.create(),o.scale(o.create(),n,-.5)),t),a=f(n,r);y=h(y,a);for(var s=t.vertices,l=0;l<s.length;l++){p(_,s[l],u.plane(t));var c=(l+1)%s.length,v=[s[l],s[c]];d(b,v,u.plane(t))}})),b.forEach((function(t){var e=t[0],n=t[1],i=e[0],l=e[1],c=o.subtract(o.create(),l,i);o.normalize(c,c);for(var f=n[0],p=o.cross(o.create(),f,c),d=[],_=0;_<g;_++)v(d,_*Math.PI*2/g);for(var b=0,E=n.length;b<E;b++){var T=n[b],S=o.dot(p,T),A=o.dot(f,T),O=Math.atan2(S,A);O<0&&(O+=2*Math.PI),v(d,O),(O=Math.atan2(-S,-A))<0&&(O+=2*Math.PI),v(d,O)}for(var P,M,C=(d=d.sort(a)).length,R=[],I=[],N=[],k=-1;k<C;k++){var D=d[k<0?k+C:k],L=Math.sin(D),F=Math.cos(D);o.scale(x,f,F*m),o.scale(w,p,L*m),o.add(x,x,w);var U=o.add(o.create(),i,x),j=o.add(o.create(),l,x),B=!1;if(k>=0&&o.distance(U,P)<r&&(B=!0),!B){if(k>=0){R.push(U),I.push(j);var G=[M,j,U,P],z=u.fromPoints(G);N.push(z)}P=U,M=j}}I.reverse(),N.push(u.fromPoints(R)),N.push(u.fromPoints(I));var V=s.create(N);y=h(y,V)})),_.forEach((function(t){for(var e=t[0],n=t[1],r=n[0],i=null,a=0,s=1;s<n.length;s++){var u=n[s],c=o.cross(x,r,u),f=o.length(c);f>.05&&f>a&&(a=f,i=u)}i||(i=o.orthogonal(x,r));var p=o.cross(x,r,i);o.normalize(p,p);var d=o.cross(w,p,r),v=l({center:[e[0],e[1],e[2]],radius:m,segments:g,axes:[r,p,d]});y=h(y,v)})),c(y)}},function(t,e,n){var r=n(26),i=n(11),o=n(16),a=n(19);t.exports=function(t,e){i.dot(a.plane(e),t)>0&&(e=a.invert(e));for(var n=[e],s=a.transform(r.fromTranslation(r.create(),t),e),u=e.vertices.length,l=0;l<u;l++){var c=[],h=l<u-1?l+1:0;c.push(e.vertices[l]),c.push(s.vertices[l]),c.push(s.vertices[h]),c.push(e.vertices[h]);var f=a.fromPoints(c);n.push(f)}return n.push(a.invert(s)),o.create(n)}},function(t,e,n){var r=n(68).default,i=n(91),o=n(18),a=n(12),s=n(17),u=n(89);t.exports=function(t,e){var n=t=Object.assign({},{delta:1,corners:"edge",segments:16},t),l=n.delta,c=n.corners,h=n.segments;if(l<=0)throw new Error("the given delta must be positive for paths");if("edge"!==c&&"chamfer"!==c&&"round"!==c)throw new Error('corners must be "edge", "chamfer", or "round"');var f=e.isClosed,p=s.toPoints(e);if(0===p.length)throw new Error("the given geometry cannot be empty");var d={points:p,external:u({delta:l,corners:c,segments:h,closed:f},p),internal:u({delta:-l,corners:c,segments:h,closed:f},p)};return e.isClosed?function(t){var e=t.external,n=t.internal;i(e)<0?e=e.reverse():n=n.reverse();var o=s.fromPoints({closed:!0},e),u=s.fromPoints({closed:!0},n),l=a.toSides(a.fromPoints(s.toPoints(o))),c=a.toSides(a.fromPoints(s.toPoints(u)));return l.push.apply(l,r(c)),a.create(l)}(d):function(t,e,n,i){var s=t.points,u=t.external,l=t.internal,c=Math.floor(e/2),h=[],f=[];if("round"===n&&c>0)for(var p=Math.PI/c,d=s[s.length-1],v=o.angle(o.subtract(o.create(),u[u.length-1],d)),m=s[0],g=o.angle(o.subtract(o.create(),l[0],m)),y=1;y<c;y++){var _=v+p*y,b=o.fromAngleRadians(o.create(),_);o.scale(b,b,i),o.add(b,b,d),h.push(b),_=g+p*y,b=o.fromAngleRadians(o.create(),_),o.scale(b,b,i),o.add(b,b,m),f.push(b)}var x=[];return x.push.apply(x,r(u).concat(h,r(l.reverse()),f)),a.fromPoints(x)}(d,h,c,l)}},function(t,e,n){var r=n(14),i=n(12),o=n(17),a=n(408),s=n(409);t.exports=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];if(0===(n=r(n)).length)throw new Error("wrong number of arguments");var l=n.map((function(e){return o.isA(e)?s(t,e):i.isA(e)?a(t,e):e}));return 1===l.length?l[0]:l}},function(t,e,n){var r=n(12),i=n(118),o=n(89);t.exports=function(t,e){var n=Object.assign({},{delta:1,corners:"edge",segments:0},t),a=n.delta,s=n.corners,u=n.segments;if("edge"!==s&&"chamfer"!==s&&"round"!==s)throw new Error('corners must be "edge", "chamfer", or "round"');var l=r.toOutlines(e),c=l.map((function(e){var n=l.reduce((function(t,n){return t+i.arePointsInside(e,i.create(n))}),0);return o(t={delta:n%2===0?a:-a,corners:s,closed:!0,segments:u},e)})).reduce((function(t,e){return t.concat(r.toSides(r.fromPoints(e)))}),[]);return r.create(c)}},function(t,e,n){var r=n(17),i=n(89);t.exports=function(t,e){var n={delta:1,corners:"edge",closed:e.isClosed,segments:16},o=Object.assign({},n,t),a=o.delta,s=o.corners,u=o.closed,l=o.segments;if("edge"!==s&&"chamfer"!==s&&"round"!==s)throw new Error('corners must be "edge", "chamfer", or "round"');var c=i(t={delta:a,corners:s,closed:u,segments:l},r.toPoints(e));return r.fromPoints({closed:u},c)}},function(t,e,n){var r=n(29).EPS,i=n(18),o=n(17),a=n(30),s=a.isGT,u=a.isGTE,l=a.isNumberArray;t.exports=function(t){var e={center:[0,0],radius:1,startAngle:0,endAngle:2*Math.PI,makeTangent:!1,segments:32},n=Object.assign({},e,t),a=n.center,c=n.radius,h=n.startAngle,f=n.endAngle,p=n.makeTangent,d=n.segments;if(!l(a,2))throw new Error("center must be an array of X and Y values");if(!s(c,0))throw new Error("radius must be greater than zero");if(!u(h,0))throw new Error("startAngle must be positive");if(!u(f,0))throw new Error("endAngle must be positive");if(!u(d,4))throw new Error("segments must be four or more");h%=2*Math.PI,f%=2*Math.PI;var v=2*Math.PI;h<f&&(v=f-h),h>f&&(v=f+(2*Math.PI-h));var m,g=Math.acos((c*c+c*c-r*r)/(2*c*c)),y=i.clone(a),_=[];if(v<g)m=i.fromAngleRadians(i.create(),h),i.scale(m,m,c),i.add(m,m,y),_.push(m);else{var b=Math.max(1,Math.floor(d*(v/(2*Math.PI))))+1,x=.5*b/v;x>.25&&(x=.25);for(var w=p?b+2:b,E=0;E<=w;E++){var T=E;p&&((T=(E-1)*(b-2*x)/b+x)<0&&(T=0),T>b&&(T=b));var S=h+T*(v/b);m=i.fromAngleRadians(i.create(),S),i.scale(m,m,c),i.add(m,m,y),_.push(m)}}return o.fromPoints({closed:!1},_)}},function(t,e,n){var r=n(190),i=n(30).isGT;t.exports=function(t){var e=Object.assign({},{center:[0,0,0],size:2},t),n=e.center,o=e.size;if(!i(o,0))throw new Error("size must be greater than zero");return r({center:n,size:o=[o,o,o]})}},function(t,e,n){var r=n(191),i=n(30).isGT;t.exports=function(t){var e=Object.assign({},{center:[0,0,0],height:2,radius:1,segments:32},t),n=e.center,o=e.height,a=e.radius,s=e.segments;if(!i(a,0))throw new Error("radius must be greater than zero");return r({center:n,height:o,startRadius:[a,a],endRadius:[a,a],segments:s})}},function(t,e,n){var r=n(26),i=n(16),o=n(192),a=n(30),s=a.isGT,u=a.isGTE;t.exports=function(t){var e=Object.assign({},{radius:1,frequency:6},t),n=e.radius,a=e.frequency;if(!s(n,0))throw new Error("radius must be greater than zero");if(!u(a,6))throw new Error("frequency must be six or more");a=Math.floor(a/6);for(var l=[[.850651,0,-.525731],[.850651,-0,.525731],[-.850651,-0,.525731],[-.850651,0,-.525731],[0,-.525731,.850651],[0,.525731,.850651],[0,.525731,-.850651],[0,-.525731,-.850651],[-.525731,-.850651,-0],[.525731,-.850651,-0],[.525731,.850651,0],[-.525731,.850651,0]],c=[[0,9,1],[1,10,0],[6,7,0],[10,6,0],[7,9,0],[5,1,4],[4,1,9],[5,10,1],[2,8,3],[3,11,2],[2,5,4],[4,8,2],[2,11,5],[3,7,6],[6,11,3],[8,7,3],[9,8,4],[11,10,5],[10,11,6],[8,9,7]],h=function(t,e,n){for(var r=t[0],i=t[1],o=t[2],a=n,s=[],u=[],l=0;l<e;l++)for(var c=0;c<e-l;c++){var h=l/e,p=(l+1)/e,d=c/(e-l),v=(c+1)/(e-l),m=e-l-1?c/(e-l-1):1,g=[];g[0]=f(f(r,i,d),o,h),g[1]=f(f(r,i,v),o,h),g[2]=f(f(r,i,m),o,p);for(var y=0;y<3;y++)for(var _=Math.hypot(g[y][0],g[y][1],g[y][2]),b=0;b<3;b++)g[y][b]/=_;if(s.push(g[0],g[1],g[2]),u.push([a,a+1,a+2]),a+=3,c<e-l-1){var x=e-l-1?(c+1)/(e-l-1):1;g[0]=f(f(r,i,v),o,h),g[1]=f(f(r,i,x),o,p),g[2]=f(f(r,i,m),o,p);for(var w=0;w<3;w++)for(var E=Math.hypot(g[w][0],g[w][1],g[w][2]),T=0;T<3;T++)g[w][T]/=E;s.push(g[0],g[1],g[2]),u.push([a,a+1,a+2]),a+=3}}return{points:s,triangles:u,offset:a}},f=function(t,e,n){for(var r=1-n,i=[],o=0;o<3;o++)i[o]=t[o]*r+e[o]*n;return i},p=[],d=[],v=0,m=0;m<c.length;m++){var g=h([l[c[m][0]],l[c[m][1]],l[c[m][2]]],a,v);p=p.concat(g.points),d=d.concat(g.triangles),v=g.offset}var y=o({points:p,faces:d,orientation:"inward"});return 1!==n&&(y=i.transform(r.fromScaling(r.create(),[n,n,n]),y)),y}},function(t,e,n){var r=n(17);t.exports=function(t){if(!Array.isArray(t))throw new Error("points must be an array");return r.fromPoints({},t)}},function(t,e,n){var r=n(12);t.exports=function(t){var e=Object.assign({},{points:[],paths:[]},t),n=e.points,i=e.paths;if(!Array.isArray(n)||!Array.isArray(i))throw new Error("points and paths must be arrays");var o=n;Array.isArray(n[0])&&(Array.isArray(n[0][0])||(o=[n])),o.forEach((function(t,e){if(!Array.isArray(t))throw new Error("list of points "+e+" must be an array");if(t.length<3)throw new Error("list of points "+e+" must contain three or more points");t.forEach((function(t,n){if(!Array.isArray(t))throw new Error("list of points "+e+", point "+n+" must be an array");if(t.length<2)throw new Error("list of points "+e+", point "+n+" must contain by X and Y values")}))}));var a=i;if(0===i.length){var s=0;a=o.map((function(t){return t.map((function(t){return s++}))}))}var u=[];o.forEach((function(t){return t.forEach((function(t){return u.push(t)}))}));var l=[];return a.forEach((function(t){var e=t.map((function(t){return u[t]})),n=r.fromPoints(e);l=l.concat(r.toSides(n))})),r.create(l)}},function(t,e,n){var r=n(29).EPS,i=n(18),o=n(11),a=n(16),s=n(19),u=n(30),l=u.isGT,c=u.isGTE,h=u.isNumberArray,f=function(t,e,n,a,s,u){var l=Math.PI/2*s/a,c=Math.cos(l),h=Math.sin(l),f=a-s,p=n*c,d=e[2]-(n-n*h);u||(d=n-n*h-e[2]),p=p>r?p:0;for(var v=o.add(o.create(),t,[e[0]-n,e[1]-n,d]),m=o.add(o.create(),t,[n-e[0],e[1]-n,d]),g=o.add(o.create(),t,[n-e[0],n-e[1],d]),y=o.add(o.create(),t,[e[0]-n,n-e[1],d]),_=[],b=[],x=[],w=[],E=0;E<=f;E++){var T=f>0?Math.PI/2*E/f:0,S=i.fromAngleRadians(i.create(),T);i.scale(S,S,p);var A=o.fromVec2(o.create(),S);_.push(o.add(o.create(),v,A)),o.rotateZ(A,A,[0,0,0],Math.PI/2),b.push(o.add(o.create(),m,A)),o.rotateZ(A,A,[0,0,0],Math.PI/2),x.push(o.add(o.create(),g,A)),o.rotateZ(A,A,[0,0,0],Math.PI/2),w.push(o.add(o.create(),y,A))}return u?[_,b,x,w]:(_.reverse(),b.reverse(),x.reverse(),w.reverse(),[w,x,b,_])},p=function(t,e){for(var n=[],r=0;r<t.length;r++)for(var i=t[r],o=e[r],a=0;a<i.length-1;a++)n.push(s.fromPoints([i[a],i[a+1],o[a]])),a<o.length-1&&n.push(s.fromPoints([o[a],i[a+1],o[a+1]]));return n},d=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=e[r],a=i[i.length-1],u=o[o.length-1],l=(r+1)%t.length;i=t[l],o=e[l];var c=i[0],h=o[0];n.push(s.fromPoints([a,c,h,u]))}return n},v=function(t,e){t=(t=[t[3],t[2],t[1],t[0]]).map((function(t){return t.slice().reverse()}));var n=[];t.forEach((function(t){t.forEach((function(t){return n.push(t)}))}));var r=[];e.forEach((function(t){t.forEach((function(t){return r.push(t)}))}));for(var i=[],o=0;o<r.length;o++){var a=(o+1)%r.length;i.push(s.fromPoints([n[o],n[a],r[a],r[o]]))}return i};t.exports=function(t){var e=Object.assign({},{center:[0,0,0],size:[2,2,2],roundRadius:.2,segments:32},t),n=e.center,i=e.size,o=e.roundRadius,u=e.segments;if(!h(n,3))throw new Error("center must be an array of X, Y and Z values");if(!h(i,3))throw new Error("size must be an array of X, Y and Z values");if(!i.every((function(t){return t>0})))throw new Error("size values must be greater than zero");if(!l(o,0))throw new Error("roundRadius must be greater than zero");if(!c(u,4))throw new Error("segments must be four or more");if(o>(i=i.map((function(t){return t/2})))[0]-r||o>i[1]-r||o>i[2]-r)throw new Error("roundRadius must be smaller then the radius of all dimensions");u=Math.floor(u/4);for(var m=null,g=null,y=[],_=0;_<=u;_++){var b=f(n,i,o,u,_,!0),x=f(n,i,o,u,_,!1);if(0===_&&(y=y.concat(v(x,b))),m&&(y=y.concat(p(m,b),d(m,b))),g&&(y=y.concat(p(g,x),d(g,x))),_===u){var w=b.map((function(t){return t[0]}));y.push(s.fromPoints(w)),w=x.map((function(t){return t[0]})),y.push(s.fromPoints(w))}m=b,g=x}return a.create(y)}},function(t,e,n){var r=n(29).EPS,i=n(11),o=n(16),a=n(19),s=n(30),u=s.isGT,l=s.isGTE,c=s.isNumberArray;t.exports=function(t){var e=Object.assign({},{center:[0,0,0],height:2,radius:1,roundRadius:.2,segments:32},t),n=e.center,s=e.height,h=e.radius,f=e.roundRadius,p=e.segments;if(!c(n,3))throw new Error("center must be an array of X, Y and Z values");if(!u(s,0))throw new Error("height must be greater then zero");if(!u(h,0))throw new Error("radius must be greater then zero");if(!u(f,0))throw new Error("roundRadius must be greater then zero");if(f>h-r)throw new Error("roundRadius must be smaller then the radius");if(!l(p,4))throw new Error("segments must be four or more");var d,v=[0,0,-s/2],m=[0,0,s/2],g=i.subtract(i.create(),m,v);if(2*f>i.length(g)-r)throw new Error("height must be larger than twice roundRadius");d=Math.abs(g[0])>Math.abs(g[1])?i.fromValues(0,1,0):i.fromValues(1,0,0);var y=i.scale(i.create(),i.normalize(i.create(),g),f),_=i.scale(i.create(),i.normalize(i.create(),i.cross(i.create(),y,d)),h),b=i.scale(i.create(),i.normalize(i.create(),i.cross(i.create(),_,y)),h);i.add(v,v,y),i.subtract(m,m,y);for(var x,w=Math.floor(.25*p),E=function(t){var e=t.map((function(t){return i.add(t,t,n)}));return a.fromPoints(e)},T=[],S=i.create(),A=i.create(),O=0;O<=p;O++){var P=2*Math.PI*O/p,M=i.add(i.create(),i.scale(S,_,Math.cos(P)),i.scale(A,b,Math.sin(P)));if(O>0){var C=[];C.push(i.add(i.create(),v,M)),C.push(i.add(i.create(),v,x)),C.push(i.add(i.create(),m,x)),C.push(i.add(i.create(),m,M)),T.push(E(C));for(var R=void 0,I=void 0,N=0;N<=w;N++){var k=.5*Math.PI*N/w,D=Math.cos(k),L=Math.sin(k);if(N>0){C=[];var F=void 0;F=i.add(i.create(),v,i.subtract(S,i.scale(S,x,R),i.scale(A,y,I))),C.push(F),F=i.add(i.create(),v,i.subtract(S,i.scale(S,M,R),i.scale(A,y,I))),C.push(F),N<w&&(F=i.add(i.create(),v,i.subtract(S,i.scale(S,M,D),i.scale(A,y,L))),C.push(F)),F=i.add(i.create(),v,i.subtract(S,i.scale(S,x,D),i.scale(A,y,L))),C.push(F),T.push(E(C)),C=[],F=i.add(i.create(),i.scale(S,x,R),i.scale(A,y,I)),i.add(F,F,m),C.push(F),F=i.add(i.create(),i.scale(S,M,R),i.scale(A,y,I)),i.add(F,F,m),C.push(F),N<w&&(F=i.add(i.create(),i.scale(S,M,D),i.scale(A,y,L)),i.add(F,F,m),C.push(F)),F=i.add(i.create(),i.scale(S,x,D),i.scale(A,y,L)),i.add(F,F,m),C.push(F),C.reverse(),T.push(E(C))}R=D,I=L}}x=M}return o.create(T)}},function(t,e,n){var r=n(29).EPS,i=n(18),o=n(12),a=n(30),s=a.isGT,u=a.isGTE,l=a.isNumberArray;t.exports=function(t){var e=Object.assign({},{center:[0,0],size:[2,2],roundRadius:.2,segments:32},t),n=e.center,a=e.size,c=e.roundRadius,h=e.segments;if(!l(n,2))throw new Error("center must be an array of X and Y values");if(!l(a,2))throw new Error("size must be an array of X and Y values");if(!a.every((function(t){return t>0})))throw new Error("size values must be greater than zero");if(!s(c,0))throw new Error("roundRadius must be greater than zero");if(!u(h,4))throw new Error("segments must be four or more");if(c>(a=a.map((function(t){return t/2})))[0]-r||c>a[1]-r)throw new Error("roundRadius must be smaller then the radius of all dimensions");for(var f=Math.floor(h/4),p=i.add(i.create(),n,[a[0]-c,a[1]-c]),d=i.add(i.create(),n,[c-a[0],a[1]-c]),v=i.add(i.create(),n,[c-a[0],c-a[1]]),m=i.add(i.create(),n,[a[0]-c,c-a[1]]),g=[],y=[],_=[],b=[],x=0;x<=f;x++){var w=Math.PI/2*x/f,E=i.fromAngleRadians(i.create(),w);i.scale(E,E,c),g.push(i.add(i.create(),p,E)),i.rotate(E,E,i.create(),Math.PI/2),y.push(i.add(i.create(),d,E)),i.rotate(E,E,i.create(),Math.PI/2),_.push(i.add(i.create(),v,E)),i.rotate(E,E,i.create(),Math.PI/2),b.push(i.add(i.create(),m,E))}return o.fromPoints(g.concat(y,_,b))}},function(t,e,n){var r=n(193),i=n(30).isGT;t.exports=function(t){var e=Object.assign({},{center:[0,0],size:2},t),n=e.center,o=e.size;if(!i(o,0))throw new Error("size must be greater than zero");return r({center:n,size:o=[o,o]})}},function(t,e,n){var r=n(18),i=n(12),o=n(30),a=o.isGT,s=o.isGTE,u=o.isNumberArray,l=function(t,e,n,i){for(var o=2*Math.PI/t,a=[],s=0;s<t;s++){var u=r.fromAngleRadians(r.create(),o*s+n);r.scale(u,u,e),r.add(u,i,u),a.push(u)}return a};t.exports=function(t){var e=Object.assign({},{center:[0,0],vertices:5,outerRadius:1,innerRadius:0,density:2,startAngle:0},t),n=e.center,o=e.vertices,c=e.outerRadius,h=e.innerRadius,f=e.density,p=e.startAngle;if(!u(n,2))throw new Error("center must be an array of X and Y values");if(!s(o,2))throw new Error("vertices must be two or more");if(!a(c,0))throw new Error("outerRadius must be greater than zero");if(!s(h,0))throw new Error("innerRadius must be greater than zero");if(!s(p,0))throw new Error("startAngle must be greater than zero");if(o=Math.floor(o),f=Math.floor(f),p%=2*Math.PI,0===h){if(!s(f,2))throw new Error("density must be two or more");h=c*function(t,e){return t>0&&e>1&&e<t/2?Math.cos(Math.PI*e/t)/Math.cos(Math.PI*(e-1)/t):0}(o,f)}for(var d=r.clone(n),v=l(o,c,p,d),m=l(o,h,p+Math.PI/o,d),g=[],y=0;y<o;y++)g.push(v[y]),g.push(m[y]);return i.fromPoints(g)}},function(t,e,n){var r=n(194),i=n(73).rotate,o=n(52).translate,a=n(188),s=n(30),u=s.isGT,l=s.isGTE;t.exports=function(t){var e={innerRadius:1,innerSegments:32,outerRadius:4,outerSegments:32,innerRotation:0,startAngle:0,outerRotation:2*Math.PI},n=Object.assign({},e,t),s=n.innerRadius,c=n.innerSegments,h=n.outerRadius,f=n.outerSegments,p=n.innerRotation,d=n.startAngle,v=n.outerRotation;if(!u(s,0))throw new Error("innerRadius must be greater than zero");if(!l(c,3))throw new Error("innerSegments must be three or more");if(!u(h,0))throw new Error("outerRadius must be greater than zero");if(!l(f,3))throw new Error("outerSegments must be three or more");if(!l(d,0))throw new Error("startAngle must be positive");if(!u(v,0))throw new Error("outerRotation must be greater than zero");if(s>=h)throw new Error("inner circle is two large to rotate about the outer circle");var m=a({radius:s,segments:c});return 0!==p&&(m=i([0,0,p],m)),m=o([h,0],m),r({startAngle:d,angle:v,segments:f},m)}},function(t,e,n){var r=n(61),i=n(11);t.exports=function(){var t,e;return 1===arguments.length?(t=r(),e=arguments.length<=0?void 0:arguments[0]):(t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1]),t.edges=e.edges.map((function(t){return[i.clone(t[0]),i.clone(t[1])]})),t}},function(t,e,n){var r=n(11);t.exports=function(t,e){var n=t.edges,i=e.edges;return n.length===i.length&&n.reduce((function(t,e,n){var o=i[n],a=r.squaredDistance(e[0],o[0]);return t&&a<Number.EPSILON}),!0)}},function(t,e,n){var r=n(11),i=n(61);t.exports=function(t){if(!Array.isArray(t))throw new Error("the given points must be an array");if(t.length<3)throw new Error("the given points must contain THREE or more points");var e=[],n=t[t.length-1];return t.forEach((function(t){2===t.length&&e.push([r.fromVec2(r.create(),n),r.fromVec2(r.create(),t)]),3===t.length&&e.push([n,t]),n=t})),i(e)}},function(t,e,n){var r=n(11),i=n(61);t.exports=function(t){if(!Array.isArray(t))throw new Error("the given sides must be an array");var e=[];return t.forEach((function(t){e.push([r.fromVec2(r.create(),t[0]),r.fromVec2(r.create(),t[1])])})),i(e)}},function(t,e){t.exports=function(t){return!!(t&&"object"===typeof t&&"edges"in t&&Array.isArray(t.edges))}},function(t,e,n){var r=n(61);t.exports=function(){var t,e;return 1===arguments.length?(t=r(),e=arguments.length<=0?void 0:arguments[0]):(t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1]),t.edges=e.edges.map((function(t){return[t[1],t[0]]})),t}},function(t,e){t.exports=function(t){return t.edges}},function(t,e,n){var r=n(68).default,i=n(19),o=n(430),a=n(433);t.exports=function(t){var e=new a(t),n=[];return e.roots.forEach((function(t){var a=t.solid,s=t.holes,u=a.length,l=[];s.forEach((function(t,e){l.push(u),u+=t.length}));for(var c=[a].concat(r(s)).flat(),h=c.flat(),f=function(t){return e.to3D(c[t])},p=o(h,l),d=0;d<p.length;d+=3){var v=p.slice(d,d+3).map(f);n.push(i.fromPointsAndPlane(v,e.plane))}})),n}},function(t,e,n){var r=n(431),i=n(197),o=i.removeNode,a=i.sortLinked,s=n(196),u=s.cureLocalIntersections,l=s.filterPoints,c=s.isValidDiagonal,h=s.linkedPolygon,f=s.splitPolygon,p=n(124),d=p.area,v=p.pointInTriangle,m=function t(e,n,r,i,a,s,c){if(e){!c&&s&&b(e,i,a,s);for(var h,f,p=e;e.prev!==e.next;)if(h=e.prev,f=e.next,s?y(e,i,a,s):g(e))n.push(h.i/r),n.push(e.i/r),n.push(f.i/r),o(e),e=f.next,p=f.next;else if((e=f)===p){c?1===c?t(e=u(l(e),n,r),n,r,i,a,s,2):2===c&&_(e,n,r,i,a,s):t(l(e),n,r,i,a,s,1);break}}},g=function(t){var e=t.prev,n=t,r=t.next;if(d(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(v(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&d(i.prev,i,i.next)>=0)return!1;i=i.next}return!0},y=function(t,e,n,r){var i=t.prev,o=t,a=t.next;if(d(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,l=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,c=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=x(s,u,e,n,r),f=x(l,c,e,n,r),p=t.prevZ,m=t.nextZ;p&&p.z>=h&&m&&m.z<=f;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&d(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,m!==t.prev&&m!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&d(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&d(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;m&&m.z<=f;){if(m!==t.prev&&m!==t.next&&v(i.x,i.y,o.x,o.y,a.x,a.y,m.x,m.y)&&d(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0},_=function(t,e,n,r,i,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&c(a,s)){var u=f(a,s);return a=l(a,a.next),u=l(u,u.next),m(a,e,n,r,i,o),void m(u,e,n,r,i,o)}s=s.next}a=a.next}while(a!==t)},b=function(t,e,n,r){var i=t;do{null===i.z&&(i.z=x(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,a(i,(function(t){return t.z}))},x=function(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1};t.exports=function(t,e){var n,i,o,a,s,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,l=e&&e.length,c=l?e[0]*u:t.length,f=h(t,0,c,u,!0),p=[];if(!f||f.next===f.prev)return p;if(l&&(f=r(t,e,f,u)),t.length>80*u){n=o=t[0],i=a=t[1];for(var d=u;d<c;d+=u){var v=t[d],g=t[d+1];v<n&&(n=v),g<i&&(i=g),v>o&&(o=v),g>a&&(a=g)}s=0!==(s=Math.max(o-n,a-i))?1/s:0}return m(f,p,u,n,i,s),p}},function(t,e,n){var r=n(196),i=r.filterPoints,o=r.linkedPolygon,a=r.locallyInside,s=r.splitPolygon,u=n(124),l=u.area,c=u.pointInTriangle,h=function(t,e){var n=f(t,e);if(!n)return e;var r=s(n,t),o=i(n,n.next);return i(r,r.next),e===n?o:e},f=function(t,e){var n,r=e,i=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var u=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=i&&u>s){if(s=u,u===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===s)return n;var l=n,h=n.x,f=n.y,d=1/0;r=n;do{if(i>=r.x&&r.x>=h&&i!==r.x&&c(o<f?i:s,o,h,f,o<f?s:i,o,r.x,r.y)){var v=Math.abs(o-r.y)/(i-r.x);a(r,t)&&(v<d||v===d&&(r.x>n.x||r.x===n.x&&p(n,r)))&&(n=r,d=v)}r=r.next}while(r!==l);return n},p=function(t,e){return l(t.prev,t,e.prev)<0&&l(e.next,t,t.next)<0},d=function(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n};t.exports=function(t,e,n,r){for(var a=[],s=0,u=e.length;s<u;s++){var l=e[s]*r,c=s<u-1?e[s+1]*r:t.length,f=o(t,l,c,r,!1);f===f.next&&(f.steiner=!0),a.push(d(f))}a.sort((function(t,e){return t.x-e.x}));for(var p=0;p<a.length;p++)n=h(a[p],n),n=i(n,n.next);return n}},function(t,e){t.exports=function(t,e){var n,r,i,o,a,s=1;do{r=t,t=null;var u=null;for(a=0;r;){a++,i=r;var l=0;for(n=0;n<s&&(l++,i=i.nextZ);n++);for(var c=s;l>0||c>0&&i;)0!==l&&(0===c||!i||e(r)<=e(i))?(o=r,r=r.nextZ,l--):(o=i,i=i.nextZ,c--),u?u.nextZ=o:t=o,o.prevZ=u,u=o;r=i}u.nextZ=null,s*=2}while(a>1);return t}},function(t,e,n){var r=n(37).default,i=n(38).default,o=n(12),a=n(41),s=n(18),u=n(11),l=n(195),c=n(434),h=function(){"use strict";function t(e){var n=this;r(this,t),this.plane=l(e);var i=u.orthogonal(u.create(),this.plane),a=u.cross(u.create(),this.plane,i);this.v=u.normalize(a,a),this.u=u.cross(u.create(),this.v,this.plane),this.basisMap=new Map;var s=e.edges.map((function(t){return t.map((function(t){return n.to2D(t)}))})),h=o.create(s);this.roots=c(h)}return i(t,[{key:"to2D",value:function(t){var e=s.fromValues(u.dot(t,this.u),u.dot(t,this.v));return this.basisMap.set(e,t),e}},{key:"to3D",value:function(t){var e=this.basisMap.get(t);if(e)return e;console.log("Warning: point not in original slice");var n=u.scale(u.create(),this.u,t[0]),r=u.scale(u.create(),this.v,t[1]),i=u.scale(u.create(),a,a[3]),o=u.add(n,n,i);return u.add(r,r,o)}}]),t}();t.exports=h},function(t,e,n){var r=n(69).area,i=n(12).toOutlines,o=n(118).arePointsInside,a=function(t,e){var n,r;return t.forEach((function(t,i){var o=e(t);(void 0===r||o<r)&&(n=i,r=o)})),n};t.exports=function(t){var e=i(t),n=[],s=[];e.forEach((function(t,e){var i=r(t);i<0?s.push(e):i>0&&n.push(e)}));var u=[],l=[];return n.forEach((function(t,n){var r=e[t];u[n]=[],s.forEach((function(t,i){var a=e[t];o([a[0]],{vertices:r})&&(u[n].push(t),l[i]||(l[i]=[]),l[i].push(n))}))})),s.forEach((function(t,e){if(l[e]&&l[e].length>1){var n=a(l[e],(function(t){return t.length}));l[e].forEach((function(t,r){r!==n&&(u[t]=u[t].filter((function(t){return t!==e})))}))}})),u.map((function(t,r){return{solid:e[n[r]],holes:t.map((function(t){return e[t]}))}}))}},function(t,e,n){var r=n(11);t.exports=function(t){return"[".concat(t.edges.reduce((function(t,e){return t+"[".concat(r.toString(e[0]),", ").concat(r.toString(e[1]),"], ")}),""),"]")}},function(t,e,n){var r=n(11),i=n(61);t.exports=function(t,e){var n=e.edges.map((function(e){return[r.transform(r.create(),e[0],t),r.transform(r.create(),e[1],t)]}));return i(n)}},function(t,e,n){var r=n(11);t.exports=function(t){if(!t.edges)return t;var e={},n={};t.edges.forEach((function(t){var r=t[0].toString(),i=t[1].toString();e[r]=t[0],e[i]=t[1],n[r]=(n[r]||0)+1,n[i]=(n[i]||0)-1}));var i=Object.keys(n).filter((function(t){return n[t]<0})),o=Object.keys(n).filter((function(t){return n[t]>0}));return i.forEach((function(n){var r,i=e[n],a=1/0;o.forEach((function(t){var n=e[t],o=Math.hypot(i[0]-n[0],i[1]-n[1]);o<a&&(a=o,r=n)})),console.warn("repairSlice: repairing vertex gap ".concat(i," to ").concat(r," distance ").concat(a)),t.edges.forEach((function(t){t[0].toString()===n&&(t[0]=r),t[1].toString()===n&&(t[1]=r)}))})),t.edges=t.edges.filter((function(t){return!r.equals(t[0],t[1])})),t}},function(t,e,n){var r=n(29).EPS,i=n(11),o=n(19),a=n(72),s=function t(e,n){return e===n?e:e<n?t(n,e):1===n?1:0===n?e:t(n,e%n)},u=function(t,e){var n=t/e.length;if(1===n)return e;var r=i.fromValues(n,n,n),o=[];return e.forEach((function(t){var e=i.subtract(i.create(),t[1],t[0]);i.divide(e,e,r);for(var a=t[0],s=1;s<=n;++s){var u=i.add(i.create(),a,e);o.push([a,u]),a=u}})),o},l=r*r/2*Math.sin(Math.PI/3);t.exports=function(t,e){var n,r,i=a.toEdges(t),c=a.toEdges(e);if(i.length!==c.length){var h=(n=i.length,r=c.length,n*r/s(n,r));h!==i.length&&(i=u(h,i)),h!==c.length&&(c=u(h,c))}var f=[];return i.forEach((function(t,e){var n=c[e],r=o.fromPoints([t[0],t[1],n[1]]),i=o.measureArea(r);Number.isFinite(i)&&i>l&&f.push(r);var a=o.fromPoints([t[0],n[1],n[0]]),s=o.measureArea(a);Number.isFinite(s)&&s>l&&f.push(a)})),f}},function(t,e,n){var r=n(18),i=n(12),o=n(30).isNumberArray,a=1e-13,s=function(t,e,n){return Math.acos((t*t+e*e-n*n)/(2*t*e))},u=function(t){var e=t[0],n=t[1],r=t[2],i=function(t,e,n){return e>a?Math.sqrt(t*t+n*n-2*t*n*Math.cos(e)):Math.sqrt((t-n)*(t-n)+t*n*e*e*(1-e*e/12))}(e,n,r),o=s(i,e,r),u=Math.PI-o-n;return l(o,n,u,r,i,e)},l=function(t,e,n,o,a,s){var u=r.fromValues(0,0),l=r.fromValues(s,0),c=r.fromValues(o,0);return r.add(c,r.rotate(c,c,[0,0],Math.PI-e),l),i.fromPoints([u,l,c])};t.exports=function(t){var e=Object.assign({},{type:"SSS",values:[1,1,1]},t),n=e.type,r=e.values;if("string"!==typeof n)throw new Error("triangle type must be a string");if("A"!==(n=n.toUpperCase())[0]&&"S"!==n[0]||"A"!==n[1]&&"S"!==n[1]||"A"!==n[2]&&"S"!==n[2])throw new Error("triangle type must contain three letters; A or S");if(!o(r,3))throw new Error("triangle values must contain three values");if(!r.every((function(t){return t>0})))throw new Error("triangle values must be greater than zero");switch(n){case"AAA":return function(t){if(Math.abs(t[0]+t[1]+t[2]-Math.PI)>a)throw new Error("AAA triangles require angles that sum to PI");var e=t[0],n=t[1],r=Math.PI-e-n,i=1/Math.sin(r)*Math.sin(e),o=1/Math.sin(r)*Math.sin(n);return l(e,n,r,i,o,1)}(r);case"AAS":return function(t){var e=t[0],n=t[1],r=Math.PI+a-e-n;if(r<a)throw new Error("AAS triangles require angles that sum to PI");var i=t[2],o=i/Math.sin(e)*Math.sin(n),s=i/Math.sin(e)*Math.sin(r);return l(e,n,r,i,o,s)}(r);case"ASA":return function(t){var e=t[0],n=t[2],r=Math.PI+a-e-n;if(r<a)throw new Error("ASA triangles require angles that sum to PI");var i=t[1],o=i/Math.sin(r)*Math.sin(e),s=i/Math.sin(r)*Math.sin(n);return l(e,n,r,o,s,i)}(r);case"SAS":return u(r);case"SSA":return function(t){var e=t[0],n=t[1],r=t[2],i=Math.asin(n*Math.sin(r)/e),o=Math.PI-i-r,a=e/Math.sin(r)*Math.sin(o);return l(i,o,r,n,a,e)}(r);case"SSS":return function(t){var e=t[1],n=t[2],r=t[0];if(e+n<=r||n+r<=e||r+e<=n)throw new Error("SSS triangle is incorrect, as the longest side is longer than the sum of the other sides");var i=s(n,r,e),o=s(r,e,n),a=Math.PI-i-o;return l(i,o,a,e,n,r)}(r);default:throw new Error("invalid triangle type, try again")}}},function(t,e){function n(t,e,n,r,i,o){var a=(o-e)*(n-t)-(r-e)*(i-t);return a>0||!(a<0)}t.exports=function(t,e){var r=t[0][0],i=t[0][1],o=t[1][0],a=t[1][1],s=e[0][0],u=e[0][1],l=e[1][0],c=e[1][1];return n(r,i,s,u,l,c)!==n(o,a,s,u,l,c)&&n(r,i,o,a,s,u)!==n(r,i,o,a,l,c)}},function(t,e){function n(t,e){this._cells=[],this._cellSize=e,this._reverseCellSize=1/e;for(var n=0;n<t.length;n++){var r=t[n],i=this.coordToCellNum(r[0]),o=this.coordToCellNum(r[1]);if(this._cells[i])this._cells[i][o]?this._cells[i][o].push(r):this._cells[i][o]=[r];else{var a=[];a[o]=[r],this._cells[i]=a}}}n.prototype={cellPoints:function(t,e){return void 0!==this._cells[t]&&void 0!==this._cells[t][e]?this._cells[t][e]:[]},rangePoints:function(t){for(var e=this.coordToCellNum(t[0]),n=this.coordToCellNum(t[1]),r=this.coordToCellNum(t[2]),i=this.coordToCellNum(t[3]),o=[],a=e;a<=r;a++)for(var s=n;s<=i;s++)for(var u=0;u<this.cellPoints(a,s).length;u++)o.push(this.cellPoints(a,s)[u]);return o},removePoint:function(t){for(var e,n=this.coordToCellNum(t[0]),r=this.coordToCellNum(t[1]),i=this._cells[n][r],o=0;o<i.length;o++)if(i[o][0]===t[0]&&i[o][1]===t[1]){e=o;break}return i.splice(e,1),i},trunc:Math.trunc||function(t){return t-t%1},coordToCellNum:function(t){return this.trunc(t*this._reverseCellSize)},extendBbox:function(t,e){return[t[0]-e*this._cellSize,t[1]-e*this._cellSize,t[2]+e*this._cellSize,t[3]+e*this._cellSize]}},t.exports=function(t,e){return new n(t,e)}},function(t,e){t.exports={toXy:function(t,e){return void 0===e?t.slice():t.map((function(t){return new Function("pt","return [pt"+e[0]+",pt"+e[1]+"];")(t)}))},fromXy:function(t,e){return void 0===e?t.slice():t.map((function(t){return new Function("pt","const o = {}; o"+e[0]+"= pt[0]; o"+e[1]+"= pt[1]; return o;")(t)}))}}},function(t,e){function n(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}t.exports=function(t){var e=function(t){for(var e=[],r=0;r<t.length;r++){for(;e.length>=2&&n(e[e.length-2],e[e.length-1],t[r])<=0;)e.pop();e.push(t[r])}return e.pop(),e}(t),r=function(t){for(var e=t.reverse(),r=[],i=0;i<e.length;i++){for(;r.length>=2&&n(r[r.length-2],r[r.length-1],e[i])<=0;)r.pop();r.push(e[i])}return r.pop(),r}(t),i=r.concat(e);return i.push(t[0]),i}},function(t,e,n){(function(t){var r;!function(t,i,o){function a(t){var e=this,n=function(){var t=4022871197;return function(e){e=String(e);for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)}}();e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=n(" "),e.s1=n(" "),e.s2=n(" "),e.s0-=n(t),e.s0<0&&(e.s0+=1),e.s1-=n(t),e.s1<0&&(e.s1+=1),e.s2-=n(t),e.s2<0&&(e.s2+=1),n=null}function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function u(t,e){var n=new a(t),r=e&&e.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n(35)&&n(62)?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.alea=u}(0,t,n(35))}).call(this,n(39)(t))},function(t,e,n){(function(t){var r;!function(t,i,o){function a(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function u(t,e){var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n(35)&&n(62)?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.xor128=u}(0,t,n(35))}).call(this,n(39)(t))},function(t,e,n){(function(t){var r;!function(t,i,o){function a(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function u(t,e){var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n(35)&&n(62)?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.xorwow=u}(0,t,n(35))}).call(this,n(39)(t))},function(t,e,n){(function(t){var r;!function(t,i,o){function a(t){var e=this;e.next=function(){var t,n,r=e.x,i=e.i;return t=r[i],n=(t^=t>>>7)^t<<24,n^=(t=r[i+1&7])^t>>>10,n^=(t=r[i+3&7])^t>>>3,n^=(t=r[i+4&7])^t<<7,t=r[i+7&7],n^=(t^=t<<13)^t<<9,r[i]=n,e.i=i+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function u(t,e){null==t&&(t=+new Date);var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n(35)&&n(62)?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.xorshift7=u}(0,t,n(35))}).call(this,n(39)(t))},function(t,e,n){(function(t){var r;!function(t,i,o){function a(t){var e=this;e.next=function(){var t,n,r=e.w,i=e.X,o=e.i;return e.w=r=r+1640531527|0,n=i[o+34&127],t=i[o=o+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=i[o]=n^t,e.i=o,n+(r^r>>>16)|0},function(t,e){var n,r,i,o,a,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),i=0,o=-32;o<u;++o)e&&(r^=e.charCodeAt((o+32)%e.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,i=0==(n=s[127&o]^=r+a)?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;t.w=a,t.X=s,t.i=i}(e,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function u(t,e){null==t&&(t=+new Date);var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n(35)&&n(62)?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.xor4096=u}(0,t,n(35))}).call(this,n(39)(t))},function(t,e,n){(function(t){var r;!function(t,i,o){function a(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function s(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function u(t,e){var n=new a(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n(35)&&n(62)?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.tychei=u}(0,t,n(35))}).call(this,n(39)(t))},function(t,e,n){var r;!function(i,o,a){var s,u=256,l=a.pow(u,6),c=a.pow(2,52),h=2*c,f=255;function p(t,e,n){var r=[],f=g(m((e=1==e?{entropy:!0}:e||{}).entropy?[t,y(o)]:null==t?function(){try{var t;return s&&(t=s.randomBytes)?t=t(u):(t=new Uint8Array(u),(i.crypto||i.msCrypto).getRandomValues(t)),y(t)}catch(r){var e=i.navigator,n=e&&e.plugins;return[+new Date,i,n,i.screen,y(o)]}}():t,3),r),p=new d(r),_=function(){for(var t=p.g(6),e=l,n=0;t<c;)t=(t+n)*u,e*=u,n=p.g(1);for(;t>=h;)t/=2,e/=2,n>>>=1;return(t+n)/e};return _.int32=function(){return 0|p.g(4)},_.quick=function(){return p.g(4)/4294967296},_.double=_,g(y(p.S),o),(e.pass||n||function(t,e,n,r){return r&&(r.S&&v(r,p),t.state=function(){return v(p,{})}),n?(a.random=t,e):t})(_,f,"global"in e?e.global:this==a,e.state)}function d(t){var e,n=t.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];for(n||(t=[n++]);i<u;)a[i]=i++;for(i=0;i<u;i++)a[i]=a[o=f&o+t[i%n]+(e=a[i])],a[o]=e;(r.g=function(t){for(var e,n=0,i=r.i,o=r.j,a=r.S;t--;)e=a[i=f&i+1],n=n*u+a[f&(a[i]=a[o=f&o+e])+(a[o]=e)];return r.i=i,r.j=o,n})(u)}function v(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function m(t,e){var n,r=[],i=typeof t;if(e&&"object"==i)for(n in t)try{r.push(m(t[n],e-1))}catch(o){}return r.length?r:"string"==i?t:t+"\0"}function g(t,e){for(var n,r=t+"",i=0;i<r.length;)e[f&i]=f&(n^=19*e[f&i])+r.charCodeAt(i++);return y(e)}function y(t){return String.fromCharCode.apply(0,t)}if(g(a.random(),o),t.exports){t.exports=p;try{s=n(451)}catch(_){}}else void 0===(r=function(){return p}.call(e,n,e,t))||(t.exports=r)}("undefined"!==typeof self?self:this,[],Math)},,function(t,e,n){t.exports={colorize:n(453),colorNameToRgb:n(454),cssColors:n(198),hexToRgb:n(455),hslToRgb:n(456),hsvToRgb:n(457),hueToColorComponent:n(199),rgbToHex:n(458),rgbToHsl:n(459),rgbToHsv:n(460)}},function(t,e,n){var r=n(14),i=n(12),o=n(16),a=n(17),s=n(19),u=function(t,e){var n=i.clone(e);return n.color=t,n},l=function(t,e){var n=o.clone(e);return n.color=t,n},c=function(t,e){var n=a.clone(e);return n.color=t,n},h=function(t,e){var n=s.clone(e);return n.color=t,n};t.exports=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),f=1;f<e;f++)n[f-1]=arguments[f];if(!Array.isArray(t))throw new Error("color must be an array");if(t.length<3)throw new Error("color must contain R, G and B values");if(3===t.length&&(t=[t[0],t[1],t[2],1]),0===(n=r(n)).length)throw new Error("wrong number of arguments");var p=n.map((function(e){return i.isA(e)?u(t,e):o.isA(e)?l(t,e):a.isA(e)?c(t,e):s.isA(e)?h(t,e):(e.color=t,e)}));return 1===p.length?p[0]:p}},function(t,e,n){var r=n(198);t.exports=function(t){return r[t.toLowerCase()]}},function(t,e){t.exports=function(t){if((t=t.replace("#","")).length<6)throw new Error("the given notation must contain 3 or more hex values");var e=parseInt(t.substring(0,2),16)/255,n=parseInt(t.substring(2,4),16)/255,r=parseInt(t.substring(4,6),16)/255;return t.length>=8?[e,n,r,parseInt(t.substring(6,8),16)/255]:[e,n,r]}},function(t,e,n){var r=n(14),i=n(199);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if((e=r(e)).length<3)throw new Error("values must contain H, S and L values");var o=e[0],a=e[1],s=e[2],u=s,l=s,c=s;if(0!==a){var h=s<.5?s*(1+a):s+a-s*a,f=2*s-h;u=i(f,h,o+1/3),l=i(f,h,o),c=i(f,h,o-1/3)}if(e.length>3){var p=e[3];return[u,l,c,p]}return[u,l,c]}},function(t,e,n){var r=n(14);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if((e=r(e)).length<3)throw new Error("values must contain H, S and V values");var i=e[0],o=e[1],a=e[2],s=0,u=0,l=0,c=Math.floor(6*i),h=6*i-c,f=a*(1-o),p=a*(1-h*o),d=a*(1-(1-h)*o);switch(c%6){case 0:s=a,u=d,l=f;break;case 1:s=p,u=a,l=f;break;case 2:s=f,u=a,l=d;break;case 3:s=f,u=p,l=a;break;case 4:s=d,u=f,l=a;break;case 5:s=a,u=f,l=p}if(e.length>3){var v=e[3];return[s,u,l,v]}return[s,u,l]}},function(t,e,n){var r=n(14);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if((e=r(e)).length<3)throw new Error("values must contain R, G and B values");var i=255*e[0],o=255*e[1],a=255*e[2],s="#".concat(Number(16777216+65536*i+256*o+a).toString(16).substring(1,7));return e.length>3&&(s+=Number(255*e[3]).toString(16)),s}},function(t,e,n){var r=n(14);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if((e=r(e)).length<3)throw new Error("values must contain R, G and B values");var i,o,a=e[0],s=e[1],u=e[2],l=Math.max(a,s,u),c=Math.min(a,s,u),h=(l+c)/2;if(l===c)i=o=0;else{var f=l-c;switch(o=h>.5?f/(2-l-c):f/(l+c),l){case a:i=(s-u)/f+(s<u?6:0);break;case s:i=(u-a)/f+2;break;case u:i=(a-s)/f+4}i/=6}if(e.length>3){var p=e[3];return[i,o,h,p]}return[i,o,h]}},function(t,e,n){var r=n(14);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if((e=r(e)).length<3)throw new Error("values must contain R, G and B values");var i,o=e[0],a=e[1],s=e[2],u=Math.max(o,a,s),l=Math.min(o,a,s),c=u,h=u-l,f=0===u?0:h/u;if(u===l)i=0;else{switch(u){case o:i=(a-s)/h+(a<s?6:0);break;case a:i=(s-o)/h+2;break;case s:i=(o-a)/h+4}i/=6}if(e.length>3){var p=e[3];return[i,f,c,p]}return[i,f,c]}},function(t,e,n){t.exports={bezier:n(462)}},function(t,e,n){t.exports={create:n(463),valueAt:n(464),tangentAt:n(465)}},function(t,e){var n=function(t){var e=null;return t.forEach((function(t){var n="";if(Number.isFinite(t))n="float_single";else{if(!Array.isArray(t))throw new Error("Bezier points must all be numbers or arrays of number.");t.forEach((function(t){if(!Number.isFinite(t))throw new Error("Bezier point values must all be numbers.")})),n="float_"+t.length}if(null==e)e=n;else if(e!==n)throw new Error("Bezier points must be either all numbers or all arrays of numbers of the same size.")})),e},r=function(t){for(var e=[],n=0;n<=t;n++)e.push(i(t)/(i(n)*i(t-n)));return e},i=function(t){for(var e=1,n=2;n<=t;n++)e*=n;return e};t.exports=function(t){if(!Array.isArray(t))throw new Error("Bezier points must be a valid array/");if(t.length<2)throw new Error("Bezier points must contain at least 2 values.");var e=n(t);return{points:t,pointType:e,dimensions:"float_single"===e?0:t[0].length,permutations:r(t.length-1),tangentPermutations:r(t.length-2)}}},function(t,e){var n=function(t,e,n){for(var r=e.length-1,i=0,o=0;o<=r;o++)i+=t.permutations[o]*Math.pow(1-n,r-o)*Math.pow(n,o)*e[o];return i};t.exports=function(t,e){if(t<0||t>1)throw new Error("Bezier valueAt() input must be between 0 and 1");if("float_single"===e.pointType)return n(e,e.points,t);for(var r=[],i=0;i<e.dimensions;i++){for(var o=[],a=0;a<e.points.length;a++)o.push(e.points[a][i]);r.push(n(e,o,t))}return r}},function(t,e){var n=function(t,e,n){for(var r=e.length-1,i=0,o=0;o<r;o++){var a=r*(e[o+1]-e[o]);i+=t.tangentPermutations[o]*Math.pow(1-n,r-1-o)*Math.pow(n,o)*a}return i};t.exports=function(t,e){if(t<0||t>1)throw new Error("Bezier tangentAt() input must be between 0 and 1");if("float_single"===e.pointType)return n(e,e.points,t);for(var r=[],i=0;i<e.dimensions;i++){for(var o=[],a=0;a<e.points.length;a++)o.push(e.points[a][i]);r.push(n(e,o,t))}return r}},function(t,e,n){t.exports={constants:n(29),line2:n(114),line3:n(200),mat4:n(26),plane:n(41),utils:n(69),vec2:n(18),vec3:n(11),vec4:n(479)}},function(t,e,n){var r=n(11),i=n(201);t.exports=function(t){var e=i();return r.copy(e[0],t[0]),r.copy(e[1],t[1]),e}},function(t,e,n){var r=n(11);t.exports=function(t,e){return r.copy(t[0],e[0]),r.copy(t[1],e[1]),t}},function(t,e){t.exports=function(t){return t[1]}},function(t,e,n){var r=n(11),i=n(202);t.exports=function(t,e){var n=i(t,e),o=r.subtract(r.create(),e,n);return r.length(o)}},function(t,e,n){var r=n(11);t.exports=function(t,e){return!!r.equals(t[1],e[1])&&!!r.equals(t[0],e[0])}},function(t,e,n){var r=n(11),i=n(69).solve2Linear,o=n(29).EPS,a=n(74);t.exports=function(t,e,n){var s=r.cross(r.create(),e,n),u=r.length(s);if(u<o)throw new Error("parallel planes do not intersect");u=1/u,s=r.scale(s,s,u);var l,c,h=Math.abs(s[0]),f=Math.abs(s[1]),p=Math.abs(s[2]);return h>=f&&h>=p?(c=i(e[1],e[2],n[1],n[2],e[3],n[3]),l=r.fromValues(0,c[0],c[1])):f>=h&&f>=p?(c=i(e[0],e[2],n[0],n[2],e[3],n[3]),l=r.fromValues(c[0],0,c[1])):(c=i(e[0],e[1],n[0],n[1],e[3],n[3]),l=r.fromValues(c[0],c[1],0)),a(t,l,s)}},function(t,e,n){var r=n(11),i=n(74);t.exports=function(t,e,n){var o=r.subtract(r.create(),n,e);return i(t,e,o)}},function(t,e,n){var r=n(11);t.exports=function(t,e){var n=e,i=e[3],o=t[0],a=t[1],s=(i-r.dot(n,o))/r.dot(n,a);return r.add(r.create(),o,r.scale(r.create(),a,s))}},function(t,e){t.exports=function(t){return t[0]}},function(t,e,n){var r=n(11),i=n(74);t.exports=function(t,e){var n=r.clone(e[0]),o=r.negate(r.create(),e[1]);return i(t,n,o)}},function(t,e){t.exports=function(t){var e=t[0],n=t[1];return"line3: point: (".concat(e[0].toFixed(7),", ").concat(e[1].toFixed(7),", ").concat(e[2].toFixed(7),") direction: (").concat(n[0].toFixed(7),", ").concat(n[1].toFixed(7),", ").concat(n[2].toFixed(7),")")}},function(t,e,n){var r=n(11),i=n(74);t.exports=function(t,e,n){var o=e[0],a=e[1],s=r.add(r.create(),o,a),u=r.transform(r.create(),o,n),l=r.transform(s,s,n),c=r.subtract(l,l,u);return i(t,u,c)}},function(t,e,n){t.exports={clone:n(161),copy:n(162),create:n(86),dot:n(480),equals:n(163),fromScalar:n(481),fromValues:n(165),toString:n(167),transform:n(482)}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}},function(t,e){t.exports=function(t,e){return t[0]=e,t[1]=e,t[2]=e,t[3]=e,t}},function(t,e,n){var r=n(45).default;t.exports=function(t,e,n){var i=r(e,4),o=i[0],a=i[1],s=i[2],u=i[3];return t[0]=n[0]*o+n[4]*a+n[8]*s+n[12]*u,t[1]=n[1]*o+n[5]*a+n[9]*s+n[13]*u,t[2]=n[2]*o+n[6]*a+n[10]*s+n[14]*u,t[3]=n[3]*o+n[7]*a+n[11]*s+n[15]*u,t}},function(t,e,n){t.exports={measureAggregateArea:n(484),measureAggregateBoundingBox:n(126),measureAggregateEpsilon:n(485),measureAggregateVolume:n(486),measureArea:n(203),measureBoundingBox:n(51),measureBoundingSphere:n(487),measureCenter:n(488),measureCenterOfMass:n(489),measureDimensions:n(490),measureEpsilon:n(47),measureVolume:n(204)}},function(t,e,n){var r=n(14),i=n(203);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===(e=r(e)).length)throw new Error("measureAggregateArea: no geometries supplied");var o=i(e);if(1===e.length)return o;var a=0;return o.reduce((function(t,e){return t+e}),a)}},function(t,e,n){var r=n(14),i=n(126),o=n(182),a=n(78),s=a.geom2,u=a.geom3,l=a.path2;t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===(e=r(e)).length)throw new Error("measureAggregateEpsilon: no geometries supplied");var a=i(e),c=0;return c=e.reduce((function(t,e){return l.isA(e)||s.isA(e)?Math.max(t,2):u.isA(e)?Math.max(t,3):0}),c),o(a,c)}},function(t,e,n){var r=n(14),i=n(204);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===(e=r(e)).length)throw new Error("measureAggregateVolume: no geometries supplied");var o=i(e);if(1===e.length)return o;var a=0;return o.reduce((function(t,e){return t+e}),a)}},function(t,e,n){var r=n(14),i=n(18),o=n(11),a=n(12),s=n(16),u=n(17),l=n(19),c=new WeakMap,h=function(t){var e=c.get(t);if(void 0!==e)return e;var n=o.create(),r=0,a=u.toPoints(t);if(a.length>0){var s=0,l=o.create();a.forEach((function(t){o.add(n,n,o.fromVec2(l,t,0)),s++})),o.scale(n,n,1/s),a.forEach((function(t){r=Math.max(r,i.squaredDistance(n,t))})),r=Math.sqrt(r)}return e=[n,r],c.set(t,e),e},f=function(t){var e=c.get(t);if(void 0!==e)return e;var n=o.create(),r=0,s=a.toSides(t);if(s.length>0){var u=0,l=o.create();s.forEach((function(t){o.add(n,n,o.fromVec2(l,t[0],0)),u++})),o.scale(n,n,1/u),s.forEach((function(t){r=Math.max(r,i.squaredDistance(n,t[0]))})),r=Math.sqrt(r)}return e=[n,r],c.set(t,e),e},p=function(t){var e=c.get(t);if(void 0!==e)return e;var n=o.create(),r=0,i=s.toPolygons(t);if(i.length>0){var a=0;i.forEach((function(t){l.toPoints(t).forEach((function(t){o.add(n,n,t),a++}))})),o.scale(n,n,1/a),i.forEach((function(t){l.toPoints(t).forEach((function(t){r=Math.max(r,o.squaredDistance(n,t))}))})),r=Math.sqrt(r)}return e=[n,r],c.set(t,e),e};t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=(e=r(e)).map((function(t){return u.isA(t)?h(t):a.isA(t)?f(t):s.isA(t)?p(t):[[0,0,0],0]}));return 1===i.length?i[0]:i}},function(t,e,n){var r=n(14),i=n(51);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=(e=r(e)).map((function(t){var e=i(t);return[e[0][0]+(e[1][0]-e[0][0])/2,e[0][1]+(e[1][1]-e[0][1])/2,e[0][2]+(e[1][2]-e[0][2])/2]}));return 1===o.length?o[0]:o}},function(t,e,n){var r=n(14),i=n(11),o=n(12),a=n(16),s=new WeakMap,u=function(t){var e=s.get(t);if(void 0!==e)return e;var n=o.toSides(t),r=0,a=0,u=0;if(n.length>0){for(var l=0;l<n.length;l++){var c=n[l][0],h=n[l][1],f=c[0]*h[1]-c[1]*h[0];r+=f,a+=(c[0]+h[0])*f,u+=(c[1]+h[1])*f}var p=1/(6*(r/=2));a*=p,u*=p}return e=i.fromValues(a,u,0),s.set(t,e),e},l=function(t){var e=s.get(t);if(void 0!==e)return e;e=i.create();var n=a.toPolygons(t);if(0===n.length)return e;var r=0,o=i.create();return n.forEach((function(t){for(var n=t.vertices,a=0;a<n.length-2;a++){i.cross(o,n[a+1],n[a+2]);var s=i.dot(n[0],o)/6;r+=s,i.add(o,n[0],n[a+1]),i.add(o,o,n[a+2]);var u=i.scale(o,o,1/4*s);i.add(e,e,u)}})),i.scale(e,e,1/r),s.set(t,e),e};t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=(e=r(e)).map((function(t){return o.isA(t)?u(t):a.isA(t)?l(t):[0,0,0]}));return 1===i.length?i[0]:i}},function(t,e,n){var r=n(14),i=n(51);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=(e=r(e)).map((function(t){var e=i(t);return[e[1][0]-e[0][0],e[1][1]-e[0][1],e[1][2]-e[0][2]]}));return 1===o.length?o[0]:o}},function(t,e,n){t.exports={vectorChar:n(205),vectorText:n(493)}},function(t,e){t.exports={height:14,32:[16],33:[10,5,21,5,7,void 0,5,2,4,1,5,0,6,1,5,2],34:[16,4,21,4,14,void 0,12,21,12,14],35:[21,11,25,4,-7,void 0,17,25,10,-7,void 0,4,12,18,12,void 0,3,6,17,6],36:[20,8,25,8,-4,void 0,12,25,12,-4,void 0,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],37:[24,21,21,3,0,void 0,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,void 0,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7],38:[26,23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2],39:[10,5,19,4,20,5,21,6,20,6,18,5,16,4,15],40:[14,11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7],41:[14,3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7],42:[16,8,21,8,9,void 0,3,18,13,12,void 0,13,18,3,12],43:[26,13,18,13,0,void 0,4,9,22,9],44:[10,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],45:[26,4,9,22,9],46:[10,5,2,4,1,5,0,6,1,5,2],47:[22,20,25,2,-7],48:[20,9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21],49:[20,6,17,8,18,11,21,11,0],50:[20,4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0],51:[20,5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],52:[20,13,21,3,7,18,7,void 0,13,21,13,0],53:[20,15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4],54:[20,16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7],55:[20,17,21,7,0,void 0,3,21,17,21],56:[20,8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21],57:[20,16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3],58:[10,5,14,4,13,5,12,6,13,5,14,void 0,5,2,4,1,5,0,6,1,5,2],59:[10,5,14,4,13,5,12,6,13,5,14,void 0,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4],60:[24,20,18,4,9,20,0],61:[26,4,12,22,12,void 0,4,6,22,6],62:[24,4,18,20,9,4,0],63:[18,3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,void 0,9,2,8,1,9,0,10,1,9,2],64:[27,18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,void 0,12,16,10,14,9,11,9,8,10,6,11,5,void 0,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,void 0,19,16,18,8,18,6,19,5],65:[18,9,21,1,0,void 0,9,21,17,0,void 0,4,7,14,7],66:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,void 0,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0],67:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5],68:[21,4,21,4,0,void 0,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0],69:[19,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11,void 0,4,0,17,0],70:[18,4,21,4,0,void 0,4,21,17,21,void 0,4,11,12,11],71:[21,18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,void 0,13,8,18,8],72:[22,4,21,4,0,void 0,18,21,18,0,void 0,4,11,18,11],73:[8,4,21,4,0],74:[16,12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7],75:[21,4,21,4,0,void 0,18,21,4,7,void 0,9,12,18,0],76:[17,4,21,4,0,void 0,4,0,16,0],77:[24,4,21,4,0,void 0,4,21,12,0,void 0,20,21,12,0,void 0,20,21,20,0],78:[22,4,21,4,0,void 0,4,21,18,0,void 0,18,21,18,0],79:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21],80:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10],81:[22,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,void 0,12,4,18,-2],82:[21,4,21,4,0,void 0,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,void 0,11,11,18,0],83:[20,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3],84:[16,8,21,8,0,void 0,1,21,15,21],85:[22,4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21],86:[18,1,21,9,0,void 0,17,21,9,0],87:[24,2,21,7,0,void 0,12,21,7,0,void 0,12,21,17,0,void 0,22,21,17,0],88:[20,3,21,17,0,void 0,17,21,3,0],89:[18,1,21,9,11,9,0,void 0,17,21,9,11],90:[20,17,21,3,0,void 0,3,21,17,21,void 0,3,0,17,0],91:[14,4,25,4,-7,void 0,5,25,5,-7,void 0,4,25,11,25,void 0,4,-7,11,-7],92:[14,0,21,14,-3],93:[14,9,25,9,-7,void 0,10,25,10,-7,void 0,3,25,10,25,void 0,3,-7,10,-7],94:[16,6,15,8,18,10,15,void 0,3,12,8,17,13,12,void 0,8,17,8,0],95:[16,0,-2,16,-2],96:[10,6,21,5,20,4,18,4,16,5,15,6,16,5,17],97:[19,15,14,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],98:[19,4,21,4,0,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],99:[18,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],100:[19,15,21,15,0,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],101:[18,3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],102:[12,10,21,8,21,6,20,5,17,5,0,void 0,2,14,9,14],103:[19,15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],104:[19,4,21,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],105:[8,3,21,4,20,5,21,4,22,3,21,void 0,4,14,4,0],106:[10,5,21,6,20,7,21,6,22,5,21,void 0,6,14,6,-3,5,-6,3,-7,1,-7],107:[17,4,21,4,0,void 0,14,14,4,4,void 0,8,8,15,0],108:[8,4,21,4,0],109:[30,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0,void 0,15,10,18,13,20,14,23,14,25,13,26,10,26,0],110:[19,4,14,4,0,void 0,4,10,7,13,9,14,12,14,14,13,15,10,15,0],111:[19,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14],112:[19,4,14,4,-7,void 0,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3],113:[19,15,14,15,-7,void 0,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3],114:[13,4,14,4,0,void 0,4,8,5,11,7,13,9,14,12,14],115:[17,14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3],116:[12,5,21,5,4,6,1,8,0,10,0,void 0,2,14,9,14],117:[19,4,14,4,4,5,1,7,0,10,0,12,1,15,4,void 0,15,14,15,0],118:[16,2,14,8,0,void 0,14,14,8,0],119:[22,3,14,7,0,void 0,11,14,7,0,void 0,11,14,15,0,void 0,19,14,15,0],120:[17,3,14,14,0,void 0,14,14,3,0],121:[16,2,14,8,0,void 0,14,14,8,0,6,-4,4,-6,2,-7,1,-7],122:[17,14,14,3,0,void 0,3,14,14,14,void 0,3,0,14,0],123:[14,9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,void 0,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,void 0,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7],124:[8,4,25,4,-7],125:[14,5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,void 0,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,void 0,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7],126:[24,3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,void 0,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]}},function(t,e,n){var r=n(205),i=n(206),o=function(t,e){for(var n=Object.assign({x:0,y:0},t||{}),r=n.x,i=n.y,o=e.segments,a=null,s=null,u=0,l=o.length;u<l;u++)for(var c=0,h=(a=o[u]).length;c<h;c++)s=a[c],a[c]=[s[0]+r,s[1]+i];return e};t.exports=function(t,e){var n,a,s,u,l,c,h=i(t,e),f=h.xOffset,p=h.yOffset,d=h.input,v=h.font,m=h.height,g=h.align,y=h.extrudeOffset,_=h.lineSpacing,b=h.letterSpacing,x=f,w=p,E={width:0,segments:[]},T=[],S=[],A=0,O=x,P=function(){T.push(E),A=Math.max(A,E.width),E={width:0,segments:[]}};for(n=0,a=d.length;n<a;n++)s=d[n],u=r({xOffset:x,yOffset:w,font:v,height:m,extrudeOffset:y},s),"\n"!==s?(l=u.width*b,E.width+=l,x+=l," "!==s&&(E.segments=E.segments.concat(u.segments))):(x=O,w-=u.height*_,P());for(E.segments.length&&P(),n=0,a=T.length;n<a;n++)E=T[n],A>E.width&&(c=A-E.width,"right"===g?E=o({x:c},E):"center"===g&&(E=o({x:c/2},E))),S=S.concat(E.segments);return S}},function(t,e,n){t.exports={intersect:n(495),scission:n(498),subtract:n(500),union:n(117)}},function(t,e,n){var r=n(14),i=n(70),o=n(12),a=n(16),s=n(496),u=n(207);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===(e=r(e)).length)throw new Error("wrong number of arguments");if(!i(e))throw new Error("only intersect of the types are supported");var l=e[0];return o.isA(l)?s(e):a.isA(l)?u(e):l}},function(t,e,n){var r=n(14),i=n(16),o=n(47),a=n(119),s=n(120),u=n(207);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var l=(e=r(e)).map((function(t){return s({z0:-1,z1:1},t)})),c=u(l),h=o(c);return a(h,i.toPolygons(c))}},function(t,e,n){var r=n(16),i=n(122),o=n(123).Tree;t.exports=function(t,e){if(!i(t,e))return r.create();var n=new o(r.toPolygons(t)),a=new o(r.toPolygons(e));n.invert(),a.clipTo(n),a.invert(),n.clipTo(a),a.clipTo(n),n.addPolygons(a.allPolygons()),n.invert();var s=n.allPolygons();return r.create(s)}},function(t,e,n){var r=n(14),i=n(16),o=n(499);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===(e=r(e)).length)throw new Error("wrong number of arguments");var a=e.map((function(t){return i.isA(t)?o(t):t}));return 1===a.length?a[0]:a}},function(t,e,n){var r=n(11),i=n(47),o=n(16);t.exports=function(t){var e=i(t),n=o.toPolygons(t),a=n.length,s=new Map,u=r.create();n.forEach((function(t,n){t.vertices.forEach((function(t){!function(t,e,n){var r="".concat(e),i=t.get(r);void 0===i?t.set(r,[n]):i.push(n)}(s,r.snap(u,t,e),n)}))}));var l=n.map((function(t){var n,i=[];return t.vertices.forEach((function(t){i=i.concat(function(t,e){var n="".concat(e);return t.get(n)}(s,r.snap(u,t,e)))})),{e:1,d:(n=i,n.sort((function(t,e){return t-e})).filter((function(t,e,n){return!e||t!==n[e-1]})))}}));s.clear();for(var c=0,h=l.length,f=0;f<h;f++){var p=l[f];p.e>0&&function(){var t=new Array(a);t[f]=!0;do{c=0,t.forEach((function(e,n){var r=l[n];if(r.e>0){r.e=-1;for(var i=0;i<r.d.length;i++)t[r.d[i]]=!0;c++}}))}while(c>0);p.indexes=t}()}for(var d=[],v=0;v<h;v++)l[v].indexes&&function(){var t=[];l[v].indexes.forEach((function(e,r){return t.push(n[r])})),d.push(o.create(t))}();return d}},function(t,e,n){var r=n(14),i=n(70),o=n(12),a=n(16),s=n(501),u=n(208);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===(e=r(e)).length)throw new Error("wrong number of arguments");if(!i(e))throw new Error("only subtract of the types are supported");var l=e[0];return o.isA(l)?s(e):a.isA(l)?u(e):l}},function(t,e,n){var r=n(14),i=n(16),o=n(47),a=n(119),s=n(120),u=n(208);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var l=(e=r(e)).map((function(t){return s({z0:-1,z1:1},t)})),c=u(l),h=o(c);return a(h,i.toPolygons(c))}},function(t,e,n){var r=n(16),i=n(122),o=n(123).Tree;t.exports=function(t,e){if(!i(t,e))return r.clone(t);var n=new o(r.toPolygons(t)),a=new o(r.toPolygons(e));n.invert(),n.clipTo(a),a.clipTo(n,!0),n.addPolygons(a.allPolygons()),n.invert();var s=n.allPolygons();return r.create(s)}},function(t,e,n){t.exports={extrudeFromSlices:n(125),extrudeLinear:n(504),extrudeRectangular:n(506),extrudeRotate:n(194),project:n(509),slice:n(72)}},function(t,e,n){var r=n(14),i=n(12),o=n(17),a=n(93),s=n(505);t.exports=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];var l={height:1,twistAngle:0,twistSteps:1,repair:!0},c=Object.assign({},l,t),h=c.height,f=c.twistAngle,p=c.twistSteps,d=c.repair;if(0===(n=r(n)).length)throw new Error("wrong number of arguments");t={offset:[0,0,h],twistAngle:f,twistSteps:p,repair:d};var v=n.map((function(e){return o.isA(e)?s(t,e):i.isA(e)?a(t,e):e}));return 1===v.length?v[0]:v}},function(t,e,n){var r=n(12),i=n(17),o=n(93);t.exports=function(t,e){if(!e.isClosed)throw new Error("extruded path must be closed");var n=i.toPoints(e),a=r.fromPoints(n);return o(t,a)}},function(t,e,n){var r=n(14),i=n(12),o=n(17),a=n(507),s=n(508);t.exports=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),u=1;u<e;u++)n[u-1]=arguments[u];var l={size:1,height:1},c=Object.assign({},l,t),h=c.size,f=c.height;if(0===(n=r(n)).length)throw new Error("wrong number of arguments");if(h<=0)throw new Error("size must be positive");if(f<=0)throw new Error("height must be positive");var p=n.map((function(e){return o.isA(e)?a(t,e):i.isA(e)?s(t,e):e}));return 1===p.length?p[0]:p}},function(t,e,n){var r=n(17),i=n(106),o=n(93);t.exports=function(t,e){var n=Object.assign({},{size:1,height:1},t),a=n.size,s=n.height;if(t.delta=a,t.offset=[0,0,s],0===r.toPoints(e).length)throw new Error("the given geometry cannot be empty");var u=i(t,e);return o(t,u)}},function(t,e,n){var r=n(69).area,i=n(12),o=n(17),a=n(106),s=n(93);t.exports=function(t,e){var n=Object.assign({},{size:1,height:1},t),u=n.size,l=n.height;t.delta=u,t.offset=[0,0,l];var c=i.toOutlines(e);if(0===c.length)throw new Error("the given geometry cannot be empty");var h=c.map((function(e){return r(e)<0&&e.reverse(),a(t,o.fromPoints({closed:!0},e))})).reduce((function(t,e){return t.concat(i.toSides(e))}),[]),f=i.create(h);return s(t,f)}},function(t,e,n){var r=n(14),i=n(176),o=n(41),a=n(26),s=n(12),u=n(16),l=n(19),c=n(47),h=n(178),f=n(121),p=function(t,e){var n=o.fromNormalAndPoint(o.create(),t.axis,t.origin);if(Number.isNaN(n[0])||Number.isNaN(n[1])||Number.isNaN(n[2])||Number.isNaN(n[3]))throw new Error("project: invalid axis or origin");var r=c(e),p=r*r*Math.sqrt(3)/4;if(0===r)return s.create();for(var d=u.toPolygons(e),v=[],m=0;m<d.length;m++){var g=d[m].vertices.map((function(t){return o.projectionOfPoint(n,t)})),y=l.create(g);if(!(l.measureArea(y)<p)){var _=l.plane(y);i(n,_)&&v.push(y)}}var b=u.create(v);if(b=f(b,b),!i(n,[0,0,1])){var x=a.fromVectorRotation(a.create(),n,[0,0,1]);b=u.transform(x,b)}var w=u.toPolygons(b).map((function(t){return s.fromPoints(l.toPoints(t))}));return b=h(w)};t.exports=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var o={axis:[0,0,1],origin:[0,0,0]},a=Object.assign({},o,t),s=a.axis,l=a.origin;if(0===(n=r(n)).length)throw new Error("wrong number of arguments");t={axis:s,origin:l};var c=n.map((function(e){return u.isA(e)?p(t,e):e}));return 1===c.length?c[0]:c}},function(t,e,n){var r=n(14),i=n(17),o=n(210);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=r(e);var a=[],s=new Set;e.forEach((function(t){i.toPoints(t).forEach((function(t){var e=t.toString();s.has(e)||(a.push(t),s.add(e))}))}));var u=o(a);return i.fromPoints({closed:!0},u)}},function(t,e,n){var r=n(14),i=n(12),o=n(210);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e=r(e);for(var a=[],s=new Map,u=0;u<e.length;u++)for(var l=i.toSides(e[u]),c=0;c<l.length;c++){var h=l[c],f=h[0],p="".concat(f[0],",").concat(f[1]);s.has(p)||(a.push(f),s.set(p,!0))}s.clear();var d=o(a);return d.length<3?i.create():i.fromPoints(d)}},function(t,e,n){var r=n(14),i=n(16),o=n(19),a=n(513);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===(e=r(e)).length)return e[0];for(var s=[],u=new Map,l=0;l<e.length;++l)for(var c=i.toPolygons(e[l]),h=0;h<c.length;++h)for(var f=c[h].vertices,p=0;p<f.length;++p){var d="".concat(f[p]);u.has(d)||(s.push(f[p]),u.set(d,!0))}u.clear();var v=a(s,{skipTriangulation:!0}),m=v.map((function(t){var e=t.map((function(t){return s[t]}));return o.create(e)}));return i.create(m)}},function(t,e,n){var r=n(514);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new r(t);return n.build(),n.collectFaces(e.skipTriangulation)}},function(t,e,n){var r=n(45).default,i=n(37).default,o=n(38).default,a=n(66),s=n(515),u=n(516),l=n(517),c=n(518),h=n(519),f=h.Face,p=h.VISIBLE,d=h.NON_CONVEX,v=h.DELETED,m=function(){"use strict";function t(e){if(i(this,t),!Array.isArray(e))throw TypeError("input is not a valid array");if(e.length<4)throw Error("cannot build a simplex out of <4 points");this.tolerance=-1,this.nFaces=0,this.nPoints=e.length,this.faces=[],this.newFaces=[],this.claimed=new l,this.unclaimed=new l,this.vertices=[];for(var n=0;n<e.length;n+=1)this.vertices.push(new c(e[n],n));this.discardedFaces=[],this.vertexPointIndices=[]}return o(t,[{key:"addVertexToFace",value:function(t,e){t.face=e,e.outside?this.claimed.insertBefore(e.outside,t):this.claimed.add(t),e.outside=t}},{key:"removeVertexFromFace",value:function(t,e){t===e.outside&&(t.next&&t.next.face===e?e.outside=t.next:e.outside=null),this.claimed.remove(t)}},{key:"removeAllVerticesFromFace",value:function(t){if(t.outside){for(var e=t.outside;e.next&&e.next.face===t;)e=e.next;return this.claimed.removeChain(t.outside,e),e.next=null,t.outside}}},{key:"deleteFaceVertices",value:function(t,e){var n=this.removeAllVerticesFromFace(t);if(n)if(e)for(var r,i=n;i;i=r){r=i.next,e.distanceToPlane(i.point)>this.tolerance?this.addVertexToFace(i,e):this.unclaimed.add(i)}else this.unclaimed.addAll(n)}},{key:"resolveUnclaimedPoints",value:function(t){for(var e=this.unclaimed.first(),n=e;n;n=e){e=n.next;for(var r=this.tolerance,i=void 0,o=0;o<t.length;o+=1){var a=t[o];if(a.mark===p){var s=a.distanceToPlane(n.point);if(s>r&&(r=s,i=a),r>1e3*this.tolerance)break}}i&&this.addVertexToFace(n,i)}}},{key:"computeExtremes",value:function(){var t,e,n=[],r=[],i=[],o=[];for(t=0;t<3;t+=1)i[t]=o[t]=this.vertices[0];for(t=0;t<3;t+=1)n[t]=r[t]=this.vertices[0].point[t];for(t=1;t<this.vertices.length;t+=1){var a=this.vertices[t],s=a.point;for(e=0;e<3;e+=1)s[e]<n[e]&&(n[e]=s[e],i[e]=a);for(e=0;e<3;e+=1)s[e]>r[e]&&(r[e]=s[e],o[e]=a)}return this.tolerance=3*Number.EPSILON*(Math.max(Math.abs(n[0]),Math.abs(r[0]))+Math.max(Math.abs(n[1]),Math.abs(r[1]))+Math.max(Math.abs(n[2]),Math.abs(r[2]))),[i,o]}},{key:"createInitialSimplex",value:function(){var t,e,n,i,o=this.vertices,l=this.computeExtremes(),c=r(l,2),h=c[0],p=c[1],d=0,v=0;for(n=0;n<3;n+=1){var m=p[n].point[n]-h[n].point[n];m>d&&(d=m,v=n)}var g=h[v],y=p[v];for(d=0,n=0;n<this.vertices.length;n+=1){var _=this.vertices[n];if(_!==g&&_!==y){var b=s(_.point,g.point,y.point);b>d&&(d=b,t=_)}}var x=u([],g.point,y.point,t.point),w=a(g.point,x);for(d=-1,n=0;n<this.vertices.length;n+=1){var E=this.vertices[n];if(E!==g&&E!==y&&E!==t){var T=Math.abs(a(x,E.point)-w);T>d&&(d=T,e=E)}}var S=[];if(a(e.point,x)-w<0)for(S.push(f.createTriangle(g,y,t),f.createTriangle(e,y,g),f.createTriangle(e,t,y),f.createTriangle(e,g,t)),n=0;n<3;n+=1){var A=(n+1)%3;S[n+1].getEdge(2).setOpposite(S[0].getEdge(A)),S[n+1].getEdge(1).setOpposite(S[A+1].getEdge(0))}else for(S.push(f.createTriangle(g,t,y),f.createTriangle(e,g,y),f.createTriangle(e,y,t),f.createTriangle(e,t,g)),n=0;n<3;n+=1){var O=(n+1)%3;S[n+1].getEdge(2).setOpposite(S[0].getEdge((3-n)%3)),S[n+1].getEdge(0).setOpposite(S[O+1].getEdge(1))}for(n=0;n<4;n+=1)this.faces.push(S[n]);for(n=0;n<o.length;n+=1){var P=o[n];if(P!==g&&P!==y&&P!==t&&P!==e){d=this.tolerance;var M=void 0;for(i=0;i<4;i+=1){var C=S[i].distanceToPlane(P.point);C>d&&(d=C,M=S[i])}M&&this.addVertexToFace(P,M)}}}},{key:"reindexFaceAndVertices",value:function(){for(var t=[],e=0;e<this.faces.length;e+=1){var n=this.faces[e];n.mark===p&&t.push(n)}this.faces=t}},{key:"collectFaces",value:function(t){for(var e=[],n=0;n<this.faces.length;n+=1){if(this.faces[n].mark!==p)throw Error("attempt to include a destroyed face in the hull");var r=this.faces[n].collectIndices();if(t)e.push(r);else for(var i=0;i<r.length-2;i+=1)e.push([r[0],r[i+1],r[i+2]])}return e}},{key:"nextVertexToAdd",value:function(){if(!this.claimed.isEmpty()){var t,e,n=0,r=this.claimed.first().face;for(e=r.outside;e&&e.face===r;e=e.next){var i=r.distanceToPlane(e.point);i>n&&(n=i,t=e)}return t}}},{key:"computeHorizon",value:function(t,e,n,r){var i;this.deleteFaceVertices(n),n.mark=v,i=e?e.next:e=n.getEdge(0);do{var o=i.opposite,a=o.face;a.mark===p&&(a.distanceToPlane(t)>this.tolerance?this.computeHorizon(t,o,a,r):r.push(i)),i=i.next}while(i!==e)}},{key:"addAdjoiningFace",value:function(t,e){var n=f.createTriangle(t,e.tail(),e.head());return this.faces.push(n),n.getEdge(-1).setOpposite(e.opposite),n.getEdge(0)}},{key:"addNewFaces",value:function(t,e){var n,r;this.newFaces=[];for(var i=0;i<e.length;i+=1){var o=e[i],a=this.addAdjoiningFace(t,o);n?a.next.setOpposite(r):n=a,this.newFaces.push(a.face),r=a}n.next.setOpposite(r)}},{key:"oppositeFaceDistance",value:function(t){return t.face.distanceToPlane(t.opposite.face.centroid)}},{key:"doAdjacentMerge",value:function(t,e){var n=t.edge,r=!0,i=0;do{if(i>=t.nVertices)throw Error("merge recursion limit exceeded");var o=n.opposite.face,a=!1;if(2===e?(this.oppositeFaceDistance(n)>-this.tolerance||this.oppositeFaceDistance(n.opposite)>-this.tolerance)&&(a=!0):t.area>o.area?this.oppositeFaceDistance(n)>-this.tolerance?a=!0:this.oppositeFaceDistance(n.opposite)>-this.tolerance&&(r=!1):this.oppositeFaceDistance(n.opposite)>-this.tolerance?a=!0:this.oppositeFaceDistance(n)>-this.tolerance&&(r=!1),a){for(var s=t.mergeAdjacentFaces(n,[]),u=0;u<s.length;u+=1)this.deleteFaceVertices(s[u],t);return!0}n=n.next,i+=1}while(n!==t.edge);return r||(t.mark=d),!1}},{key:"addVertexToHull",value:function(t){var e=[];this.unclaimed.clear(),this.removeVertexFromFace(t,t.face),this.computeHorizon(t.point,null,t.face,e),this.addNewFaces(t,e);for(var n=0;n<this.newFaces.length;n+=1){var r=this.newFaces[n];if(r.mark===p)for(;this.doAdjacentMerge(r,1););}for(var i=0;i<this.newFaces.length;i+=1){var o=this.newFaces[i];if(o.mark===d)for(o.mark=p;this.doAdjacentMerge(o,2););}this.resolveUnclaimedPoints(this.newFaces)}},{key:"build",value:function(){var t;for(this.createInitialSimplex();t=this.nextVertexToAdd();)this.addVertexToHull(t);this.reindexFaceAndVertices()}}]),t}();t.exports=m},function(t,e,n){var r=n(59),i=n(83),o=n(158);t.exports=function(t,e,n){return Math.sqrt(function(t,e,n){var a=[],s=[];i(a,n,e),i(s,t,e);var u=o(r([],s,a)),l=o(a);if(0===l)throw Error("a and b are the same point");return u/l}(t,e,n))}},function(t,e,n){var r=n(59),i=n(109),o=n(83);t.exports=function(t,e,n,a){var s=[0,0,0];return o(t,e,n),o(s,n,a),r(t,t,s),i(t,t)}},function(t,e,n){var r=n(37).default,i=n(38).default,o=function(){"use strict";function t(){r(this,t),this.head=null,this.tail=null}return i(t,[{key:"clear",value:function(){this.head=this.tail=null}},{key:"insertBefore",value:function(t,e){e.prev=t.prev,e.next=t,e.prev?e.prev.next=e:this.head=e,t.prev=e}},{key:"insertAfter",value:function(t,e){e.prev=t,e.next=t.next,e.next?e.next.prev=e:this.tail=e,t.next=e}},{key:"add",value:function(t){this.head?this.tail.next=t:this.head=t,t.prev=this.tail,t.next=null,this.tail=t}},{key:"addAll",value:function(t){for(this.head?this.tail.next=t:this.head=t,t.prev=this.tail;t.next;)t=t.next;this.tail=t}},{key:"remove",value:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}},{key:"removeChain",value:function(t,e){t.prev?t.prev.next=e.next:this.head=e.next,e.next?e.next.prev=t.prev:this.tail=t.prev}},{key:"first",value:function(){return this.head}},{key:"isEmpty",value:function(){return!this.head}}]),t}();t.exports=o},function(t,e,n){var r=n(38).default,i=n(37).default,o=r((function t(e,n){"use strict";i(this,t),this.point=e,this.index=n,this.next=null,this.prev=null,this.face=null}));t.exports=o},function(t,e,n){var r=n(37).default,i=n(38).default,o=n(149),a=n(150),s=n(59),u=n(66),l=n(153),c=n(109),h=n(156),f=n(83),p=n(520),d=function(){"use strict";function t(){r(this,t),this.normal=[],this.centroid=[],this.offset=0,this.outside=null,this.mark=0,this.edge=null,this.nVertices=0}return i(t,[{key:"getEdge",value:function(t){if("number"!==typeof t)throw Error("requires a number");for(var e=this.edge;t>0;)e=e.next,t-=1;for(;t<0;)e=e.prev,t+=1;return e}},{key:"computeNormal",value:function(){var t=this.edge,e=t.next,n=e.next,r=f([],e.head().point,t.head().point),i=[],u=[];for(this.nVertices=2,this.normal=[0,0,0];n!==t;)a(u,r),f(r,n.head().point,t.head().point),o(this.normal,this.normal,s(i,u,r)),n=n.next,this.nVertices+=1;this.area=l(this.normal),this.normal=h(this.normal,this.normal,1/this.area)}},{key:"computeNormalMinArea",value:function(t){if(this.computeNormal(),this.area<t){var e,n=0,r=this.edge;do{var i=r.lengthSquared();i>n&&(e=r,n=i),r=r.next}while(r!==this.edge);var a=e.tail().point,s=e.head().point,l=f([],s,a),p=Math.sqrt(n);h(l,l,1/p);var d=u(this.normal,l);h(l,l,-d),o(this.normal,this.normal,l),c(this.normal,this.normal)}}},{key:"computeCentroid",value:function(){this.centroid=[0,0,0];var t=this.edge;do{o(this.centroid,this.centroid,t.head().point),t=t.next}while(t!==this.edge);h(this.centroid,this.centroid,1/this.nVertices)}},{key:"computeNormalAndCentroid",value:function(t){"undefined"!==typeof t?this.computeNormalMinArea(t):this.computeNormal(),this.computeCentroid(),this.offset=u(this.normal,this.centroid)}},{key:"distanceToPlane",value:function(t){return u(this.normal,t)-this.offset}},{key:"connectHalfEdges",value:function(t,e){var n;if(t.opposite.face===e.opposite.face){var r,i=e.opposite.face;t===this.edge&&(this.edge=e),3===i.nVertices?(r=e.opposite.prev.opposite,i.mark=2,n=i):(r=e.opposite.next,i.edge===r.prev&&(i.edge=r),r.prev=r.prev.prev,r.prev.next=r),e.prev=t.prev,e.prev.next=e,e.setOpposite(r),i.computeNormalAndCentroid()}else t.next=e,e.prev=t;return n}},{key:"mergeAdjacentFaces",value:function(t,e){var n=t.opposite,r=n.face;e.push(r),r.mark=2;for(var i,o,a=t.prev,s=t.next,u=n.prev,l=n.next;a.opposite.face===r;)a=a.prev,l=l.next;for(;s.opposite.face===r;)s=s.next,u=u.prev;for(i=l;i!==u.next;i=i.next)i.face=this;return this.edge=s,(o=this.connectHalfEdges(u,s))&&e.push(o),(o=this.connectHalfEdges(a,l))&&e.push(o),this.computeNormalAndCentroid(),e}},{key:"collectIndices",value:function(){var t=[],e=this.edge;do{t.push(e.head().index),e=e.next}while(e!==this.edge);return t}}],[{key:"createTriangle",value:function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=new t,a=new p(e,o),s=new p(n,o),u=new p(r,o);return a.next=u.prev=s,s.next=a.prev=u,u.next=s.prev=a,o.edge=a,o.computeNormalAndCentroid(i),o}}]),t}();t.exports={VISIBLE:0,NON_CONVEX:1,DELETED:2,Face:d}},function(t,e,n){var r=n(37).default,i=n(38).default,o=n(151),a=n(157),s=function(){"use strict";function t(e,n){r(this,t),this.vertex=e,this.face=n,this.next=null,this.prev=null,this.opposite=null}return i(t,[{key:"head",value:function(){return this.vertex}},{key:"tail",value:function(){return this.prev?this.prev.vertex:null}},{key:"length",value:function(){return this.tail()?o(this.tail().point,this.head().point):-1}},{key:"lengthSquared",value:function(){return this.tail()?a(this.tail().point,this.head().point):-1}},{key:"setOpposite",value:function(t){this.opposite=t,t.opposite=this}}]),t}();t.exports=s},function(t,e,n){var r=n(14),i=n(117),o=n(209);t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if((e=r(e)).length<2)throw new Error("wrong number of arguments");for(var a=[],s=1;s<e.length;s++)a.push(o(e[s-1],e[s]));return i(a)}},function(t,e,n){t.exports={generalize:n(523),snap:n(529)}},function(t,e,n){var r=n(14),i=n(47),o=n(12),a=n(16),s=n(17),u=n(211),l=n(524),c=n(525),h=n(526),f=n(527),p=function(t,e){return e},d=function(t,e){return e},v=function(t,e){var n=Object.assign({},{snap:!1,simplify:!1,triangulate:!1,repair:!1},t),r=n.snap,o=n.simplify,s=n.triangulate,p=n.repair,d=i(e),v=a.toPolygons(e);r&&(v=u(d,v)),o&&(v=l(d,v)),s&&(v=c(v),v=h(d,v)),p&&(v=f(d,v));var m=Object.assign({},e);return m.polygons=v,m};t.exports=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(0===(n=r(n)).length)throw new Error("wrong number of arguments");var u=n.map((function(e){if(s.isA(e))return p(0,e);if(o.isA(e))return d(0,e);if(a.isA(e))return v(t,e);throw new Error("invalid geometry")}));return 1===u.length?u[0]:u}},function(t,e,n){var r=n(11),i=n(19),o=function(t){for(var e=i.toPoints(t),n=[],r=0;r<e.length;r++){var o=(r+1)%e.length,a={v1:e[r],v2:e[o]};n.push(a)}for(var s=0;s<n.length;s++){var u=(s+1)%e.length;n[s].next=n[u],n[u].prev=n[s]}return n},a=function(t,e){var n="".concat(e.v1,":").concat(e.v2);t.set(n,e)},s=function(t,e){var n="".concat(e.v1,":").concat(e.v2);t.delete(n)},u=function(t,e){var n="".concat(e.v2,":").concat(e.v1);return t.get(n)},l=function(t,e,n){var r=t.prev.v1,i=t.prev.v2,o=e.next.v2,a=c(r,i,o,n);return r=e.prev.v1,i=e.prev.v2,o=t.next.v2,[a,c(r,i,o,n)]},c=function(t,e,n,i){var o=r.subtract(r.create(),e,t),a=r.subtract(r.create(),n,e);return r.cross(o,o,a),r.dot(o,i)},h=function(t,e){if(e.length<2)return e;for(var n=e[0].plane,r=e.slice(),c=new Map;r.length>0;)for(var h=r.shift(),f=o(h),p=0;p<f.length;p++){var d=f[p],v=u(c,d);if(v){var m=l(d,v,n);if(m[0]>=0&&m[1]>=0){var g=v.next,y=d.next;d.prev.next=v.next,d.next.prev=v.prev,v.prev.next=d.next,v.next.prev=d.prev,d.v1=null,d.v2=null,d.next=null,d.prev=null,s(c,v),v.v1=null,v.v2=null,v.next=null,v.prev=null;var _=function(t,e,n){var r={v1:n.v1,v2:e.v2,next:e.next,prev:n.prev};n.prev.next=r,e.next.prev=r,s(t,e),e.v1=null,e.v2=null,e.next=null,e.prev=null,s(t,n),n.v1=null,n.v2=null,n.next=null,n.prev=null};0===m[0]&&_(c,g,g.prev),0===m[1]&&_(c,y,y.prev)}}else d.next&&a(c,d)}var b=[];return c.forEach((function(t){var e=function(t){for(var e,n=[];t.next;){var r=t.next;n.push(t.v1),t.v1=null,t.v2=null,t.next=null,t.prev=null,t=r}return n.length>0&&(e=i.fromPoints(n)),e}(t);e&&b.push(e)})),b},f=1e-13,p=function(t,e){return Math.abs(t[3]-e[3])<15e-8&&(n=t,r=e,Math.abs(n[0]-r[0])<=f&&Math.abs(n[1]-r[1])<=f&&Math.abs(n[2]-r[2])<=f);var n,r};t.exports=function(t,e){var n=[];e.forEach((function(t){var e=n.find((function(e){return p(e[0],i.plane(t))}));e?e[1].push(t):n.push([i.plane(t),[t]])}));var r=[];return n.forEach((function(t){var e=t[1],n=h(0,e);r=r.concat(n)})),r}},function(t,e,n){var r=n(45).default,i=n(111).default,o=n(29),a=n(11),s=n(19),u=!1,l=function(t){return"".concat(t)},c=function(t,e,n,r,i,o){var a=l(r),s=l(i);var u="".concat(a,"/").concat(s),c="".concat(s,"/").concat(a);if(t.has(c))return h(t,e,n,i,r,null),null;var f={vertex0:r,vertex1:i,polygonindex:o};return t.has(u)?t.get(u).push(f):t.set(u,[f]),a in e?e[a].push(u):e[a]=[u],s in n?n[s].push(u):n[s]=[u],u},h=function(t,e,n,r,i,o){var a=l(r),s=l(i),u="".concat(a,"/").concat(s);for(var c=-1,h=t.get(u),f=0;f<h.length;f++){var p=h[f],d=l(p.vertex0);if(d===a&&((d=l(p.vertex1))===s&&(null===o||p.polygonindex===o))){c=f;break}}h.splice(c,1),0===h.length&&t.delete(u),c=e[a].indexOf(u),e[a].splice(c,1),0===e[a].length&&delete e[a],c=n[s].indexOf(u),n[s].splice(c,1),0===n[s].length&&delete n[s]};t.exports=function(t){for(var e=new Map,n=0;n<t.length;n++){var f=t[n],p=f.vertices.length;if(p>=3)for(var d=f.vertices[0],v=l(d),m=0;m<p;m++){var g=m+1;g===p&&(g=0);var y=f.vertices[g],_=l(y),b="".concat(v,"/").concat(_),x="".concat(_,"/").concat(v);if(e.has(x)){var w=e.get(x);w.splice(-1,1),0===w.length&&e.delete(x)}else{var E={vertex0:d,vertex1:y,polygonindex:n};e.has(b)?e.get(b).push(E):e.set(b,[E])}d=y,v=_}else console.warn("warning: invalid polygon found during insertTjunctions")}return e.size>0&&function(){var n,f={},p={},d={},v=i(e);try{var m=function(){var t=r(n.value,2),e=t[0],i=t[1];d[e]=!0,i.forEach((function(t){var n=l(t.vertex0),r=l(t.vertex1);n in f?f[n].push(e):f[n]=[e],r in p?p[r].push(e):p[r]=[e]}))};for(v.s();!(n=v.n()).done;)m()}catch(tt){v.e(tt)}finally{v.f()}for(var g=t.slice(0);0!==e.size;){var y,_=i(e.keys());try{for(_.s();!(y=_.n()).done;){var b=y.value;d[b]=!0}}catch(tt){_.e(tt)}finally{_.f()}for(var x=!1;;){var w=Object.keys(d);if(0===w.length)break;var E=w[0],T=!0;if(e.has(E)){var S=e.get(E);u;for(var A=S[0],O=0;O<2;O++){var P=0===O?A.vertex0:A.vertex1,M=0===O?A.vertex1:A.vertex0,C=l(P),R=l(M),I=[];0===O?C in p&&(I=p[C]):C in f&&(I=f[C]);for(var N=0;N<I.length;N++){var k=I[N],D=e.get(k)[0],L=0===O?D.vertex0:D.vertex1,F=0===O?D.vertex1:D.vertex0,U=l(L);l(F);if(U===R){h(e,f,p,P,M,null),h(e,f,p,M,P,null),T=!1,O=2,x=!0;break}var j=P,B=M,G=L,z=a.subtract(a.create(),G,j),V=a.dot(a.subtract(a.create(),B,j),z)/a.dot(z,z);if(V>0&&V<1){var X=a.scale(a.create(),z,V);if(a.add(X,X,j),a.squaredDistance(X,B)<o.EPS*o.EPS){for(var H=D.polygonindex,Y=g[H],W=l(D.vertex1),q=-1,K=0;K<Y.vertices.length;K++)if(l(Y.vertices[K])===W){q=K;break}u;var Z=Y.vertices.slice(0);Z.splice(q,0,M);var $=s.fromPoints(Z);g[H]=$,h(e,f,p,D.vertex0,D.vertex1,H);var Q=c(e,f,p,D.vertex0,M,H),J=c(e,f,p,M,D.vertex1,H);null!==Q&&(d[Q]=!0),null!==J&&(d[J]=!0),T=!1,O=2,x=!0;break}}}}}T&&delete d[E]}if(!x)break}t=g}(),e.clear(),t}},function(t,e,n){var r=n(11),i=n(19);t.exports=function(t,e){var n=[];return e.forEach((function(e){!function(t,e,n){var o=e.vertices.length;if(o>3){if(o>4){var a=[0,0,0];e.vertices.forEach((function(t){return r.add(a,a,t)})),r.snap(a,r.divide(a,a,[o,o,o]),t);for(var s=0;s<o;s++){var u=i.fromPoints([a,e.vertices[s],e.vertices[(s+1)%o]]);e.color&&(u.color=e.color),n.push(u)}return}var l=i.fromPoints([e.vertices[0],e.vertices[1],e.vertices[2]]),c=i.fromPoints([e.vertices[0],e.vertices[2],e.vertices[3]]);return e.color&&(l.color=e.color,c.color=e.color),void n.push(l,c)}n.push(e)}(t,e,n)})),n}},function(t,e,n){var r=n(528),i=r.polygonsToEdges,o=r.edgesToPolygons,a=r.cullOpenEdges,s=r.splitEdge,u=r.removePolygons,l=r.addPolygon;t.exports=function(t,e){var n=i(e),r=a(n);if(0===r.length)return e;for(var c=!0;c;){for(var h=0,f=0;f<r.length;f++){var p=r[f];if(p&&p.polygons&&1===p.polygons.length){var d=s(r,p,t);if(d){r[f]=null,l(r,d[0]),l(r,d[1]),u(n,p),l(n,d[0]),l(n,d[1]),h++;break}}}c=h>0}return r=r.filter((function(t){return t&&t.polygons&&1===t.polygons.length})),r.length>0&&console.warn("Repair of all T-junctions failed:",r.length),e=o(n)}},function(t,e,n){var r=n(11),i=n(200),o=n(19),a=function(t,e,n){var i=t.findIndex((function(t){if(t){if(r.equals(t[0],e[0])&&r.equals(t[1],e[1]))return!0;if(r.equals(t[0],e[1])&&r.equals(t[1],e[0]))return!0}return!1}));i>=0?(e=t[i]).polygons.push(n):(e.polygons=[n],t.push(e))},s=function(t,e){var n=t.findIndex((function(t){if(t){if(r.equals(t[0],e[0])&&r.equals(t[1],e[1]))return!0;if(r.equals(t[0],e[1])&&r.equals(t[1],e[0]))return!0}return!1}));n>=0&&(t[n].polygons=[],t[n]=null)},u=function(t,e){var n=e.vertices,r=n.length,i=[n[r-1],n[0]];a(t,i,e);for(var o=0;o<r-1;o++)i=[n[o],n[o+1]],a(t,i,e)},l=function(t,e,n){var r=e.vertices,i=r.findIndex((function(e){return c(n,e,t[0])})),a=o.fromPoints([r[(i+0)%3],r[(i+1)%3],t[1]]),s=o.fromPoints([t[1],r[(i+1)%3],r[(i+2)%3]]);return e.color&&(a.color=e.color,s.color=e.color),[a,s]},c=function(t,e,n){return Math.abs(e[0]-n[0])<=t&&Math.abs(e[1]-n[1])<=t&&Math.abs(e[2]-n[2])<=t},h=function(t,e,n){if(t.distance<e.distance&&r.equals(t[0],e[1])){var o=r.squaredDistance(t[0],e[0]),a=r.squaredDistance(t[1],e[0]),s=r.squaredDistance(t[0],e[1]),u=r.squaredDistance(t[1],e[1]);if(o<=e.distance&&a<e.distance&&s<e.distance&&u<e.distance){var l=i.fromPoints(e[0],e[1]),h=r.snap(r.create(),n,i.closestPoint(t[0],l)),f=r.snap(r.create(),n,i.closestPoint(t[1],l));if(c(n,h,t[0])&&c(n,f,t[1]))return!0}}return!1};t.exports={polygonsToEdges:function(t){var e=[];return t.forEach((function(t){u(e,t)})),e},edgesToPolygons:function(t){var e=[];return t.forEach((function(t){t&&t.polygons&&t.polygons.forEach((function(t){t.visited||(t.visited=!0,e.push(t))}))})),e},cullOpenEdges:function(t){var e=[];return t.forEach((function(t){1===t.polygons.length&&(t.distance=r.squaredDistance(t[0],t[1]),e.push(t))})),e},splitEdge:function(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if(i&&h(i,e,n)){var o=e.polygons[0];return l(i,o,n)}}return null},removePolygons:function(t,e){e.polygons.forEach((function(e){var n=e.vertices,r=n.length,i=[n[r-1],n[0]];s(t,i);for(var o=0;o<r-1;o++)i=[n[o],n[o+1]],s(t,i)}))},addPolygon:u}},function(t,e,n){var r=n(14),i=n(18),o=n(12),a=n(16),s=n(17),u=n(47),l=n(211),c=function(t){var e=u(t),n=s.toPoints(t).map((function(t){return i.snap(i.create(),t,e)}));return s.create(n)},h=function(t){var e=u(t),n=o.toSides(t).map((function(t){return[i.snap(i.create(),t[0],e),i.snap(i.create(),t[1],e)]}));return n=n.filter((function(t){return!i.equals(t[0],t[1])})),o.create(n)},f=function(t){var e=u(t),n=a.toPolygons(t),r=l(e,n);return a.create(r)};t.exports=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(0===(e=r(e)).length)throw new Error("wrong number of arguments");var i=e.map((function(t){return s.isA(t)?c(t):o.isA(t)?h(t):a.isA(t)?f(t):t}));return 1===i.length?i[0]:i}},function(t,e,n){t.exports={align:n(531),center:n(94).center,centerX:n(94).centerX,centerY:n(94).centerY,centerZ:n(94).centerZ,mirror:n(71).mirror,mirrorX:n(71).mirrorX,mirrorY:n(71).mirrorY,mirrorZ:n(71).mirrorZ,rotate:n(73).rotate,rotateX:n(73).rotateX,rotateY:n(73).rotateY,rotateZ:n(73).rotateZ,scale:n(95).scale,scaleX:n(95).scaleX,scaleY:n(95).scaleY,scaleZ:n(95).scaleZ,transform:n(533),translate:n(52).translate,translateX:n(52).translateX,translateY:n(52).translateY,translateZ:n(52).translateZ}},function(t,e,n){var r=n(14),i=n(532),o=n(126),a=n(52).translate,s=function(t){if(!Array.isArray(t.modes)||t.modes.length>3)throw new Error("align(): modes must be an array of length <= 3");if(t.modes=i(t.modes,"none",3),3!==t.modes.filter((function(t){return["center","max","min","none"].includes(t)})).length)throw new Error('align(): all modes must be one of "center", "max" or "min"');if(!Array.isArray(t.relativeTo)||t.relativeTo.length>3)throw new Error("align(): relativeTo must be an array of length <= 3");if(t.relativeTo=i(t.relativeTo,0,3),3!==t.relativeTo.filter((function(t){return Number.isFinite(t)||null==t})).length)throw new Error("align(): all relativeTo values must be a number, or null.");if("boolean"!==typeof t.grouped)throw new Error("align(): grouped must be a boolean value.");return t},u=function(t,e,n){for(var r=0;r<3;r++)null==t[r]&&("center"===e[r]?t[r]=(n[0][r]+n[1][r])/2:"max"===e[r]?t[r]=n[1][r]:"min"===e[r]&&(t[r]=n[0][r]));return t},l=function(t,e,n){for(var r=o(t),i=[0,0,0],s=0;s<3;s++)"center"===e[s]?i[s]=n[s]-(r[0][s]+r[1][s])/2:"max"===e[s]?i[s]=n[s]-r[1][s]:"min"===e[s]&&(i[s]=n[s]-r[0][s]);return a(i,t)};t.exports=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var a={modes:["center","center","min"],relativeTo:[0,0,0],grouped:!1};t=Object.assign({},a,t);var c=t=s(t),h=c.modes,f=c.relativeTo,p=c.grouped;if(0===(n=r(n)).length)throw new Error("align(): No geometries were provided to act upon");if(f.filter((function(t){return null==t})).length){var d=o(n);f=u(f,h,d)}return 1===(n=p?l(n,h,f):n.map((function(t){return l(t,h,f)}))).length?n[0]:n}},function(t,e){t.exports=function(t,e,n){for(t=t.slice();t.length<n;)t.push(e);return t}},function(t,e,n){var r=n(14),i=n(12),o=n(16),a=n(17);t.exports=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];if(0===(n=r(n)).length)throw new Error("wrong number of arguments");var u=n.map((function(e){return a.isA(e)?a.transform(t,e):i.isA(e)?i.transform(t,e):o.isA(e)?o.transform(t,e):e}));return 1===u.length?u[0]:u}},function(t,e,n){var r=n(535),i=n(565),o=n(216),a=n(567),s=n(577),u=n(580),l=n(581),c=n(582),h=n(584),f=n(585),p=n(586),d=n(136),v=n(591),m=n(592),g=n(598),y=n(130),_=n(219),b=n(600),x=n(75),w=n(602),E=n(129),T=n(134),S="[object Arguments]",A="[object Function]",O="[object Object]",P={};P[S]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[O]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[A]=P["[object WeakMap]"]=!1,t.exports=function t(e,n,M,C,R,I){var N,k=1&n,D=2&n,L=4&n;if(M&&(N=R?M(e,C,R,I):M(e)),void 0!==N)return N;if(!x(e))return e;var F=y(e);if(F){if(N=v(e),!k)return l(e,N)}else{var U=d(e),j=U==A||"[object GeneratorFunction]"==U;if(_(e))return u(e,k);if(U==O||U==S||j&&!R){if(N=D||j?{}:g(e),!k)return D?h(e,s(N,e)):c(e,a(N,e))}else{if(!P[U])return R?e:{};N=m(e,U,k)}}I||(I=new r);var B=I.get(e);if(B)return B;I.set(e,N),w(e)?e.forEach((function(r){N.add(t(r,n,M,r,e,I))})):b(e)&&e.forEach((function(r,i){N.set(i,t(r,n,M,i,e,I))}));var G=F?void 0:(L?D?p:f:D?T:E)(e);return i(G||e,(function(r,i){G&&(r=e[i=r]),o(N,i,t(r,n,M,i,e,I))})),N}},function(t,e,n){var r=n(96),i=n(541),o=n(542),a=n(543),s=n(544),u=n(545);function l(t){var e=this.__data__=new r(t);this.size=e.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,t.exports=l},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(97),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():i.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(97);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(97);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(97);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(96);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(96),i=n(127),o=n(552);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(213),i=n(549),o=n(75),a=n(215),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,h=l.hasOwnProperty,f=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?f:s).test(a(t))}},function(t,e,n){var r=n(128),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(u){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(550),i=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(42)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(553),i=n(560),o=n(562),a=n(563),s=n(564);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(554),i=n(96),o=n(127);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e,n){var r=n(555),i=n(556),o=n(557),a=n(558),s=n(559);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(99);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(99),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(99),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(99);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(100);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(100);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(100);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(100);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(54),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},function(t,e,n){var r=n(101),i=n(129);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(570),i=n(76),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){var r=n(98),i=n(76);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,n){var r=n(574),i=n(131),o=n(132),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(98),i=n(220),o=n(76),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(133),i=n(576),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(221)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(101),i=n(134);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(75),i=n(133),o=n(579),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){(function(t){var r=n(42),i=e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(39)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(101),i=n(135);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e,n){var r=n(101),i=n(224);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(227),i=n(135),o=n(129);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(227),i=n(224),o=n(134);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(54)(n(42),"DataView");t.exports=r},function(t,e,n){var r=n(54)(n(42),"Promise");t.exports=r},function(t,e,n){var r=n(54)(n(42),"Set");t.exports=r},function(t,e,n){var r=n(54)(n(42),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(137),i=n(594),o=n(595),a=n(596),s=n(597);t.exports=function(t,e,n){var u=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new u(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(t);case"[object RegExp]":return o(t);case"[object Symbol]":return a(t)}}},function(t,e,n){var r=n(42).Uint8Array;t.exports=r},function(t,e,n){var r=n(137);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(128),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e,n){var r=n(137);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(599),i=n(226),o=n(133);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},function(t,e,n){var r=n(75),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(601),i=n(131),o=n(132),a=o&&o.isMap,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(136),i=n(76);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(603),i=n(131),o=n(132),a=o&&o.isSet,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(136),i=n(76);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},function(t,e,n){"use strict";(function(t){var e=n(235),r=n(77),i=n.n(r);"undefined"===typeof globalThis&&("undefined"!==typeof self?self.globalThis=self:"undefined"!==typeof t&&(t.globalThis=t)),globalThis.Promise||(globalThis.Promise=e.a),Object.assign||(Object.assign=i.a);if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!globalThis.performance||!globalThis.performance.now){var o=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-o}}for(var a=Date.now(),s=["ms","moz","webkit","o"],u=0;u<s.length&&!globalThis.requestAnimationFrame;++u){var l=s[u];globalThis.requestAnimationFrame=globalThis[l+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[l+"CancelAnimationFrame"]||globalThis[l+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if("function"!==typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+a-e;return n<0&&(n=0),a=e,globalThis.self.setTimeout((function(){a=Date.now(),t(performance.now())}),n)}),globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t}),globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array),globalThis.Float32Array||(globalThis.Float32Array=Array),globalThis.Uint32Array||(globalThis.Uint32Array=Array),globalThis.Uint16Array||(globalThis.Uint16Array=Array),globalThis.Uint8Array||(globalThis.Uint8Array=Array),globalThis.Int32Array||(globalThis.Int32Array=Array)}).call(this,n(53))},function(t,e,n){(function(t){var r="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(606),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(53))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,o={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){c(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&c(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){c(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){c(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(c,0,t)},u.setImmediate=function(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return o[i]=a,r(i),i++},u.clearImmediate=l}function l(t){delete o[t]}function c(t){if(a)setTimeout(c,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{l(t),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(this,n(53),n(607))},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,h=-1;function f(){c&&u&&(c=!1,u.length?l=u.concat(l):h=-1,l.length&&p())}function p(){if(!c){var t=s(f);c=!0;for(var e=l.length;e;){for(u=l,l=[];++h<e;)u&&u[h].run();h=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){(function(t,r){var i;!function(o){e&&e.nodeType,t&&t.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,u=2147483647,l=36,c=/^xn--/,h=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,v=String.fromCharCode;function m(t){throw new RangeError(p[t])}function g(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function y(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+g((t=t.replace(f,".")).split("."),e).join(".")}function _(t){for(var e,n,r=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function b(t){return g(t,(function(t){var e="";return t>65535&&(e+=v((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=v(t)})).join("")}function x(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function w(t,e,n){var r=0;for(t=n?d(t/700):t>>1,t+=d(t/e);t>455;r+=l)t=d(t/35);return d(r+36*t/(t+38))}function E(t){var e,n,r,i,o,a,s,c,h,f,p,v=[],g=t.length,y=0,_=128,x=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&m("not-basic"),v.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=y,a=1,s=l;i>=g&&m("invalid-input"),((c=(p=t.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:l)>=l||c>d((u-y)/a))&&m("overflow"),y+=c*a,!(c<(h=s<=x?1:s>=x+26?26:s-x));s+=l)a>d(u/(f=l-h))&&m("overflow"),a*=f;x=w(y-o,e=v.length+1,0==o),d(y/e)>u-_&&m("overflow"),_+=d(y/e),y%=e,v.splice(y++,0,_)}return b(v)}function T(t){var e,n,r,i,o,a,s,c,h,f,p,g,y,b,E,T=[];for(g=(t=_(t)).length,e=128,n=0,o=72,a=0;a<g;++a)(p=t[a])<128&&T.push(v(p));for(r=i=T.length,i&&T.push("-");r<g;){for(s=u,a=0;a<g;++a)(p=t[a])>=e&&p<s&&(s=p);for(s-e>d((u-n)/(y=r+1))&&m("overflow"),n+=(s-e)*y,e=s,a=0;a<g;++a)if((p=t[a])<e&&++n>u&&m("overflow"),p==e){for(c=n,h=l;!(c<(f=h<=o?1:h>=o+26?26:h-o));h+=l)E=c-f,b=l-f,T.push(v(x(f+E%b,0))),c=d(E/b);T.push(v(x(c,0))),o=w(n,y,r==i),n=0,++r}++n,++e}return T.join("")}s={version:"1.4.1",ucs2:{decode:_,encode:b},decode:E,encode:T,toASCII:function(t){return y(t,(function(t){return h.test(t)?"xn--"+T(t):t}))},toUnicode:function(t){return y(t,(function(t){return c.test(t)?E(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return s}.call(e,n,e,t))||(t.exports=i)}()}).call(this,n(39)(t),n(53))},function(t,e,n){"use strict";t.exports={isString:function(t){return"string"===typeof t},isObject:function(t){return"object"===typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(611),e.encode=e.stringify=n(612)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,o){e=e||"&",n=n||"=";var a={};if("string"!==typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;o&&"number"===typeof o.maxKeys&&(u=o.maxKeys);var l=t.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var h,f,p,d,v=t[c].replace(s,"%20"),m=v.indexOf(n);m>=0?(h=v.substr(0,m),f=v.substr(m+1)):(h=v,f=""),p=decodeURIComponent(h),d=decodeURIComponent(f),r(a,p)?i(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"===typeof t?o(a(t),(function(a){var s=encodeURIComponent(r(a))+n;return i(t[a])?o(t[a],(function(t){return s+encodeURIComponent(r(t))})).join(e):s+encodeURIComponent(r(t[a]))})).join(e):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){var r=n(614);function i(){return"undefined"!==typeof Reflect&&Reflect.get?(t.exports=i=Reflect.get,t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=i=function(t,e,n){var i=r(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},t.exports.__esModule=!0,t.exports.default=t.exports),i.apply(this,arguments)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(138);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(230),i=n(231);function o(e,n,a){return i()?(t.exports=o=Reflect.construct,t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=o=function(t,e,n){var i=[null];i.push.apply(i,e);var o=new(Function.bind.apply(t,i));return n&&r(o,n.prototype),o},t.exports.__esModule=!0,t.exports.default=t.exports),o.apply(null,arguments)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(230);t.exports=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(138),i=n(231),o=n(618);t.exports=function(t){var e=i();return function(){var n,i=r(t);if(e){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){var r=n(619).default,i=n(232);t.exports=function(t,e){if(e&&("object"===r(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,n){"use strict";n(77);var r=n(44),i=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),e.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(c=e.ref),e)s.call(e,r)&&!u.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:l,ref:c,props:o,_owner:a.current}}e.jsx=l,e.jsxs=l},function(t,e,n){},,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return zr})),n.d(e,"e",(function(){return Yr})),n.d(e,"c",(function(){return Wr})),n.d(e,"d",(function(){return Zr})),n.d(e,"b",(function(){return $r}));var r=n(48),i=n.n(r),o={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function a(t){return"number"===typeof t}function s(t){return!(!t||"object"!==typeof t||"function"!==typeof t.constructor)&&(!0===t.isBigNumber&&"object"===typeof t.constructor.prototype&&!0===t.constructor.prototype.isBigNumber||"function"===typeof t.constructor.isDecimal&&!0===t.constructor.isDecimal(t))}function u(t){return t&&"object"===typeof t&&!0===Object.getPrototypeOf(t).isComplex||!1}function l(t){return t&&"object"===typeof t&&!0===Object.getPrototypeOf(t).isFraction||!1}function c(t){return t&&!0===t.constructor.prototype.isUnit||!1}function h(t){return"string"===typeof t}var f=Array.isArray;function p(t){return t&&!0===t.constructor.prototype.isMatrix||!1}function d(t){return Array.isArray(t)||p(t)}function v(t){return t&&t.isDenseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function m(t){return t&&t.isSparseMatrix&&!0===t.constructor.prototype.isMatrix||!1}function g(t){return t&&!0===t.constructor.prototype.isRange||!1}function y(t){return t&&!0===t.constructor.prototype.isIndex||!1}function _(t){return"boolean"===typeof t}function b(t){return t&&!0===t.constructor.prototype.isResultSet||!1}function x(t){return t&&!0===t.constructor.prototype.isHelp||!1}function w(t){return"function"===typeof t}function E(t){return t instanceof Date}function T(t){return t instanceof RegExp}function S(t){return!(!t||"object"!==typeof t||t.constructor!==Object||u(t)||l(t))}function A(t){return null===t}function O(t){return void 0===t}function P(t){return t&&!0===t.isAccessorNode&&!0===t.constructor.prototype.isNode||!1}function M(t){return t&&!0===t.isArrayNode&&!0===t.constructor.prototype.isNode||!1}function C(t){return t&&!0===t.isAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function R(t){return t&&!0===t.isBlockNode&&!0===t.constructor.prototype.isNode||!1}function I(t){return t&&!0===t.isConditionalNode&&!0===t.constructor.prototype.isNode||!1}function N(t){return t&&!0===t.isConstantNode&&!0===t.constructor.prototype.isNode||!1}function k(t){return t&&!0===t.isFunctionAssignmentNode&&!0===t.constructor.prototype.isNode||!1}function D(t){return t&&!0===t.isFunctionNode&&!0===t.constructor.prototype.isNode||!1}function L(t){return t&&!0===t.isIndexNode&&!0===t.constructor.prototype.isNode||!1}function F(t){return t&&!0===t.isNode&&!0===t.constructor.prototype.isNode||!1}function U(t){return t&&!0===t.isObjectNode&&!0===t.constructor.prototype.isNode||!1}function j(t){return t&&!0===t.isOperatorNode&&!0===t.constructor.prototype.isNode||!1}function B(t){return t&&!0===t.isParenthesisNode&&!0===t.constructor.prototype.isNode||!1}function G(t){return t&&!0===t.isRangeNode&&!0===t.constructor.prototype.isNode||!1}function z(t){return t&&!0===t.isSymbolNode&&!0===t.constructor.prototype.isNode||!1}function V(t){return t&&!0===t.constructor.prototype.isChain||!1}function X(t){var e=typeof t;return"object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":s(t)?"BigNumber":u(t)?"Complex":l(t)?"Fraction":p(t)?"Matrix":c(t)?"Unit":y(t)?"Index":g(t)?"Range":b(t)?"ResultSet":F(t)?t.type:V(t)?"Chain":x(t)?"Help":"Object":"function"===e?"Function":e}function H(t){var e=typeof t;if("number"===e||"string"===e||"boolean"===e||null===t||void 0===t)return t;if("function"===typeof t.clone)return t.clone();if(Array.isArray(t))return t.map((function(t){return H(t)}));if(t instanceof Date)return new Date(t.valueOf());if(s(t))return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return Y(t,H)}function Y(t,e){var n={};for(var r in t)K(t,r)&&(n[r]=e(t[r]));return n}function W(t,e){for(var n in e)K(e,n)&&(t[n]=e[n]);return t}function q(t,e){var n,r,i;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(r=0,i=t.length;r<i;r++)if(!q(t[r],e[r]))return!1;return!0}if("function"===typeof t)return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in t)if(!(n in e)||!q(t[n],e[n]))return!1;for(n in e)if(!(n in t))return!1;return!0}return t===e}function K(t,e){return t&&Object.hasOwnProperty.call(t,e)}var Z=["Matrix","Array"],$=["number","BigNumber","Fraction"];var Q=function(t){if(t)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(o)};i()(Q,o,{MATRIX_OPTIONS:Z,NUMBER_OPTIONS:$});var J=n(56),tt=n.n(J);function et(t){return"boolean"===typeof t||!!isFinite(t)&&t===Math.round(t)}var nt=Math.sign||function(t){return t>0?1:t<0?-1:0},rt=Math.log2||function(t){return Math.log(t)/Math.LN2},it=Math.log10||function(t){return Math.log(t)/Math.LN10},ot=(Math.log1p,Math.cbrt||function(t){if(0===t)return t;var e,n=t<0;return n&&(t=-t),e=isFinite(t)?(t/((e=Math.exp(Math.log(t)/3))*e)+2*e)/3:t,n?-e:e}),at=Math.expm1||function(t){return t>=2e-4||t<=-2e-4?Math.exp(t)-1:t+t*t/2+t*t*t/6};function st(t,e,n){var r={2:"0b",8:"0o",16:"0x"}[e],i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!et(n))throw new Error("size must be an integer");if(t>Math.pow(2,n-1)-1||t<-Math.pow(2,n-1))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!et(t))throw new Error("Value must be an integer");t<0&&(t+=Math.pow(2,n)),i="i".concat(n)}var o="";return t<0&&(t=-t,o="-"),"".concat(o).concat(r).concat(t.toString(e)).concat(i)}function ut(t,e){if("function"===typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var n,r,i="auto";if(e&&(e.notation&&(i=e.notation),a(e)?n=e:a(e.precision)&&(n=e.precision),e.wordSize&&"number"!==typeof(r=e.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return ct(t,n);case"exponential":return ht(t,n);case"engineering":return function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=ft(lt(t),e),r=n.exponent,i=n.coefficients,o=r%3===0?r:r<0?r-3-r%3:r-r%3;if(a(e))for(;e>i.length||r-o+1>i.length;)i.push(0);else for(var s=Math.abs(r-o)-(i.length-1),u=0;u<s;u++)i.push(0);var l=Math.abs(r-o),c=1;for(;l>0;)c++,l--;var h=i.slice(c).join(""),f=a(e)&&h.length||h.match(/[1-9]/)?"."+h:"",p=i.slice(0,c).join("")+f+"e"+(r>=0?"+":"")+o.toString();return n.sign+p}(t,n);case"bin":return st(t,2,r);case"oct":return st(t,8,r);case"hex":return st(t,16,r);case"auto":return function(t,e,n){if(isNaN(t)||!isFinite(t))return String(t);var r=n&&void 0!==n.lowerExp?n.lowerExp:-3,i=n&&void 0!==n.upperExp?n.upperExp:5,o=lt(t),a=e?ft(o,e):o;if(a.exponent<r||a.exponent>=i)return ht(t,e);var s=a.coefficients,u=a.exponent;s.length<e&&(s=s.concat(pt(e-s.length))),s=s.concat(pt(u-s.length+1+(s.length<e?e-s.length:0)));var l=u>0?u:0;return l<(s=pt(-u).concat(s)).length-1&&s.splice(l+1,0,"."),a.sign+s.join("")}(t,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function lt(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=-1!==o?o-1:r.length-1;var a=r.replace(".","").replace(/^0*/,(function(t){return i-=t.length,""})).replace(/0*$/,"").split("").map((function(t){return parseInt(t)}));return 0===a.length&&(a.push(0),i++),{sign:n,coefficients:a,exponent:i}}function ct(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=lt(t),r="number"===typeof e?ft(n,n.exponent+1+e):n,i=r.coefficients,o=r.exponent+1,a=o+(e||0);return i.length<a&&(i=i.concat(pt(a-i.length))),o<0&&(i=pt(1-o).concat(i),o=1),o<i.length&&i.splice(o,0,0===o?"0.":"."),r.sign+i.join("")}function ht(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=lt(t),r=e?ft(n,e):n,i=r.coefficients,o=r.exponent;i.length<e&&(i=i.concat(pt(e-i.length)));var a=i.shift();return r.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function ft(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var i=e-1;for(r[i]++;10===r[i];)r.pop(),0===i&&(r.unshift(0),n.exponent++,i++),r[--i]++}return n}function pt(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}var dt=Number.EPSILON||2220446049250313e-31;function vt(t,e,n){if(null===n||void 0===n)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var r=Math.abs(t-e);return r<dt||r<=Math.max(Math.abs(t),Math.abs(e))*n}return!1}var mt=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},gt=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},yt=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},_t=(Math.cosh,Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2});Math.tanh;function bt(t,e,n){var r=new(0,t.constructor)(2),i="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!et(n))throw new Error("size must be an integer");if(t.greaterThan(r.pow(n-1).sub(1))||t.lessThan(r.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(r.pow(n))),i="i".concat(n)}switch(e){case 2:return"".concat(t.toBinary()).concat(i);case 8:return"".concat(t.toOctal()).concat(i);case 16:return"".concat(t.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(e," not supported "))}}function xt(t,e){if("function"===typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var n,r,i="auto";if(void 0!==e&&(e.notation&&(i=e.notation),"number"===typeof e?n=e:e.precision&&(n=e.precision),e.wordSize&&"number"!==typeof(r=e.wordSize)))throw new Error('Option "wordSize" must be a number');switch(i){case"fixed":return function(t,e){return t.toFixed(e)}(t,n);case"exponential":return wt(t,n);case"engineering":return function(t,e){var n=t.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,i=t.mul(Math.pow(10,-r)),o=i.toPrecision(e);-1!==o.indexOf("e")&&(o=i.toString());return o+"e"+(n>=0?"+":"")+r.toString()}(t,n);case"bin":return bt(t,2,r);case"oct":return bt(t,8,r);case"hex":return bt(t,16,r);case"auto":var o=e&&void 0!==e.lowerExp?e.lowerExp:-3,a=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return"0";var s=t.toSignificantDigits(n),u=s.e;return(u>=o&&u<a?s.toFixed():wt(t,n)).replace(/((\.\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function wt(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()}function Et(t,e){var n=function(t,e){if("number"===typeof t)return ut(t,e);if(s(t))return xt(t,e);if(function(t){return t&&"object"===typeof t&&"number"===typeof t.s&&"number"===typeof t.n&&"number"===typeof t.d||!1}(t))return e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d;if(Array.isArray(t))return Tt(t,e);if(h(t))return'"'+t+'"';if("function"===typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"===typeof t){return"function"===typeof t.format?t.format(e):t&&t.toString(e)!=={}.toString()?t.toString(e):"{"+Object.keys(t).map((function(n){return'"'+n+'": '+Et(t[n],e)})).join(", ")+"}"}return String(t)}(t,e);return e&&"object"===typeof e&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function Tt(t,e){if(Array.isArray(t)){for(var n="[",r=t.length,i=0;i<r;i++)0!==i&&(n+=", "),n+=Tt(t[i],e);return n+="]"}return Et(t,e)}function St(t,e,n){if(!(this instanceof St))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}function At(t,e,n){if(!(this instanceof At))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}function Ot(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function Pt(t,e,n){var r,i=t.length;if(i!==e[n])throw new St(i,e[n]);if(n<e.length-1){var o=n+1;for(r=0;r<i;r++){var a=t[r];if(!Array.isArray(a))throw new St(e.length-1,e.length,"<");Pt(t[r],e,o)}}else for(r=0;r<i;r++)if(Array.isArray(t[r]))throw new St(e.length+1,e.length,">")}function Mt(t,e){if(0===e.length){if(Array.isArray(t))throw new St(t.length,0)}else Pt(t,e,0)}function Ct(t,e){if(!a(t)||!et(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"===typeof e&&t>=e)throw new At(t,e)}function Rt(t,e,n){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach((function(t){if(!a(t)||!et(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Et(e)+")")})),It(t,e,0,void 0!==n?n:0),t}function It(t,e,n,r){var i,o,a=t.length,s=e[n],u=Math.min(a,s);if(t.length=s,n<e.length-1){var l=n+1;for(i=0;i<u;i++)o=t[i],Array.isArray(o)||(o=[o],t[i]=o),It(o,e,l,r);for(i=u;i<s;i++)o=[],t[i]=o,It(o,e,l,r)}else{for(i=0;i<u;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=u;i<s;i++)t[i]=r}}function Nt(t,e){var n=Ut(t),r=n.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new St(0,r,"!=");var i=Dt(e=kt(e,r));if(r!==i)throw new St(i,r,"!=");try{return function(t,e){for(var n,r=t,i=e.length-1;i>0;i--){var o=e[i];n=[];for(var a=r.length/o,s=0;s<a;s++)n.push(r.slice(s*o,(s+1)*o));r=n}return r}(n,e)}catch(o){if(o instanceof St)throw new St(i,r,"!=");throw o}}function kt(t,e){var n=Dt(t),r=t.slice(),i=t.indexOf(-1);if(t.indexOf(-1,i+1)>=0)throw new Error("More than one wildcard in sizes");if(i>=0){if(!(e%n===0))throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);r[i]=-e/n}return r}function Dt(t){return t.reduce((function(t,e){return t*e}),1)}function Lt(t,e,n,r){var i=r||Ot(t);if(n)for(var o=0;o<n;o++)t=[t],i.unshift(1);for(t=Ft(t,e,0);i.length<e;)i.push(1);return t}function Ft(t,e,n){var r,i;if(Array.isArray(t)){var o=n+1;for(r=0,i=t.length;r<i;r++)t[r]=Ft(t[r],e,o)}else for(var a=n;a<e;a++)t=[t];return t}function Ut(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(n){Array.isArray(n)?n.forEach(t):e.push(n)})),e}function jt(t,e){for(var n,r=0,i=0;i<t.length;i++){var o=t[i],a=Array.isArray(o);if(0===i&&a&&(r=o.length),a&&o.length!==r)return;var s=a?jt(o,e):e(o);if(void 0===n)n=s;else if(n!==s)return"mixed"}return n}function Bt(t,e,n,r){function i(r){var i=function(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r],o=t[i];void 0!==o&&(n[i]=o)}return n}(r,e.map(Gt));return function(t,e,n){if(!e.filter((function(t){return!function(t){return t&&"?"===t[0]}(t)})).every((function(t){return void 0!==n[t]}))){var r=e.filter((function(t){return void 0===n[t]}));throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(r.map((function(t){return'"'.concat(t,'"')})).join(", "),"."))}}(t,e,r),n(i)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function Gt(t){return t&&"?"===t[0]?t.slice(1):t}St.prototype=new RangeError,St.prototype.constructor=RangeError,St.prototype.name="DimensionError",St.prototype.isDimensionError=!0,At.prototype=new RangeError,At.prototype.constructor=RangeError,At.prototype.name="IndexError",At.prototype.isIndexError=!0;var zt=Bt("BigNumber",["?on","config"],(function(t){var e=t.on,n=t.config,r=tt.a.clone({precision:n.precision,modulo:tt.a.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(t){return new r(t.value)},e&&e("config",(function(t,e){t.precision!==e.precision&&r.config({precision:t.precision})})),r}),{isClass:!0}),Vt=n(34),Xt=n.n(Vt),Ht=Bt("Complex",[],(function(){return Xt.a.prototype.type="Complex",Xt.a.prototype.isComplex=!0,Xt.a.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Xt.a.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Xt.a.prototype.format=function(t){var e=this.im,n=this.re,r=ut(this.re,t),i=ut(this.im,t),o=a(t)?t:t?t.precision:null;if(null!==o){var s=Math.pow(10,-o);Math.abs(n/e)<s&&(n=0),Math.abs(e/n)<s&&(e=0)}return 0===e?r:0===n?1===e?"i":-1===e?"-i":i+"i":e<0?-1===e?r+" - i":r+" - "+i.substring(1)+"i":1===e?r+" + i":r+" + "+i+"i"},Xt.a.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"===typeof e)return Xt()(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],r=arguments[1];if(a(n)){if(c(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),a(r))return new Xt.a({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Xt.a.prototype.valueOf=Xt.a.prototype.toString,Xt.a.fromJSON=function(t){return new Xt.a(t)},Xt.a.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},Xt.a}),{isClass:!0});function Yt(t){var e=0,n=1,r=Object.create(null),i=Object.create(null),o=0,a=function(t){var a=i[t];if(a&&(delete r[a],delete i[t],--e,n===a)){if(!e)return o=0,void(n=1);for(;!hasOwnProperty.call(r,++n););}};return t=Math.abs(t),{hit:function(s){var u=i[s],l=++o;if(r[l]=s,i[s]=l,!u){if(++e<=t)return;return s=r[n],a(s),s}if(delete r[u],n===u)for(;!hasOwnProperty.call(r,++n););},delete:a,clear:function(){e=o=0,n=1,r=Object.create(null),i=Object.create(null)}}}function Wt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.hasher,r=e.limit;return r=null==r?Number.POSITIVE_INFINITY:r,n=null==n?JSON.stringify:n,function e(){"object"!==typeof e.cache&&(e.cache={values:new Map,lru:Yt(r||Number.POSITIVE_INFINITY)});for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=n(i);if(e.cache.values.has(a))return e.cache.lru.hit(a),e.cache.values.get(a);var s=t.apply(t,i);return e.cache.values.set(a,s),e.cache.values.delete(e.cache.lru.hit(a)),s}}Wt((function(t){return new t(1).exp()}),{hasher:Kt}),Wt((function(t){return new t(1).plus(new t(5).sqrt()).div(2)}),{hasher:Kt});var qt=Wt((function(t){return t.acos(-1)}),{hasher:Kt});Wt((function(t){return qt(t).times(2)}),{hasher:Kt});function Kt(t){return t[0].precision}Math.PI,Math.PI,Math.E;Zt("fineStructure",.0072973525693),Zt("weakMixingAngle",.2229),Zt("efimovFactor",22.7),Zt("sackurTetrode",-1.16487052358);function Zt(t,e){return Bt(t,["config","BigNumber"],(function(t){var n=t.config,r=t.BigNumber;return"BigNumber"===n.number?new r(e):e}))}var $t=n(57),Qt=n.n($t),Jt=Bt("Fraction",[],(function(){return Qt.a.prototype.type="Fraction",Qt.a.prototype.isFraction=!0,Qt.a.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Qt.a.fromJSON=function(t){return new Qt.a(t)},Qt.a}),{isClass:!0}),te=Bt("Matrix",[],(function(){function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t}),{isClass:!0}),ee=n(27),ne=n(28),re=n.n(ne),ie=Bt("DenseMatrix",["Matrix"],(function(t){var e=t.Matrix;function n(t,e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!h(e))throw new Error("Invalid datatype: "+e);if(p(t))"DenseMatrix"===t.type?(this._data=H(t._data),this._size=H(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&f(t.data)&&f(t.size))this._data=t.data,this._size=t.size,Mt(this._data,this._size),this._datatype=e||t.datatype;else if(f(t))this._data=v(t),this._size=Ot(this._data),Mt(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+X(t)+")");this._data=[],this._size=[0],this._datatype=e}}function r(t,e){if(!y(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var r=e.size();if(r.length!==t._size.length)throw new St(r.length,t._size.length);for(var o=e.min(),a=e.max(),s=0,u=t._size.length;s<u;s++)Ct(o[s],t._size[s]),Ct(a[s],t._size[s]);return new n(i(t._data,e,r.length,0),t._datatype)}function i(t,e,n,r){var o=r===n-1,a=e.dimension(r);return o?a.map((function(e){return Ct(e,t.length),t[e]})).valueOf():a.map((function(o){return Ct(o,t.length),i(t[o],e,n,r+1)})).valueOf()}function o(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,o=e.size(),a=e.isScalar();if(p(n)?(i=n.size(),n=n.valueOf()):i=Ot(n),a){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(o.length<t._size.length)throw new St(o.length,t._size.length,"<");if(i.length<o.length){for(var s=0,l=0;1===o[s]&&1===i[s];)s++;for(;1===o[s];)l++,s++;n=Lt(n,o.length,l,i)}if(!q(o,i))throw new St(o,i,">");var h=e.max().map((function(t){return t+1}));c(t,h,r);var f=o.length;u(t._data,e,n,f,0)}return t}function u(t,e,n,r,i){var o=i===r-1,a=e.dimension(i);o?a.forEach((function(e,r){Ct(e),t[e]=n[r[0]]})):a.forEach((function(o,a){Ct(o),u(t[o],e,n[a[0]],r,i+1)}))}function l(t,e,n){if(0===e.length){for(var r=t._data;f(r);)r=r[0];return r}return t._size=e.slice(0),t._data=Rt(t._data,t._size,n),t}function c(t,e,n){for(var r=t._size.slice(0),i=!1;r.length<e.length;)r.push(0),i=!0;for(var o=0,a=e.length;o<a;o++)e[o]>r[o]&&(r[o]=e[o],i=!0);i&&l(t,r,n)}function v(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];f(r)?t[e]=v(r):r&&!0===r.isMatrix&&(t[e]=v(r.valueOf()))}return t}return n.prototype=new e,n.prototype.createDenseMatrix=function(t,e){return new n(t,e)},n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return jt(this._data,X)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(t,e){return new n(t,e)},n.prototype.subset=function(t,e,n){switch(arguments.length){case 1:return r(this,t);case 2:case 3:return o(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(t){if(!f(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new St(t.length,this._size.length);for(var e=0;e<t.length;e++)Ct(t[e],this._size[e]);for(var n=this._data,r=0,i=t.length;r<i;r++){var o=t[r];Ct(o,n.length),n=n[o]}return n},n.prototype.set=function(t,e,n){if(!f(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new St(t.length,this._size.length,"<");var r,i,o,a=t.map((function(t){return t+1}));c(this,a,n);var s=this._data;for(r=0,i=t.length-1;r<i;r++)Ct(o=t[r],s.length),s=s[o];return Ct(o=t[t.length-1],s.length),s[o]=e,this},n.prototype.resize=function(t,e,n){if(!d(t))throw new TypeError("Array or Matrix expected");var r=t.valueOf().map((function(t){return Array.isArray(t)&&1===t.length?t[0]:t}));return l(n?this.clone():this,r,e)},n.prototype.reshape=function(t,e){var n=e?this.clone():this;n._data=Nt(n._data,t);var r=n._size.reduce((function(t,e){return t*e}));return n._size=kt(t,r),n},n.prototype.clone=function(){return new n({data:H(this._data),size:H(this._size),datatype:this._datatype})},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(t){var e=this,r=function n(r,i){return f(r)?r.map((function(t,e){return n(t,i.concat(e))})):t(r,i,e)}(this._data,[]);return new n(r,void 0!==this._datatype?jt(r,X):void 0)},n.prototype.forEach=function(t){var e=this;!function n(r,i){f(r)?r.forEach((function(t,e){n(t,i.concat(e))})):t(r,i,e)}(this._data,[])},n.prototype[Symbol.iterator]=re.a.mark((function t(){var e;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=re.a.mark((function t(e,n){var r;return re.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!f(e)){i.next=9;break}r=0;case 2:if(!(r<e.length)){i.next=7;break}return i.delegateYield(t(e[r],n.concat(r)),"t0",4);case 4:r++,i.next=2;break;case 7:i.next=11;break;case 9:return i.next=11,{value:e,index:n};case 11:case"end":return i.stop()}}),t)})),t.delegateYield(e(this._data,[]),"t0",2);case 2:case"end":return t.stop()}}),t,this)})),n.prototype.rows=function(){var t=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var e,r=this._data,i=Object(ee.a)(r);try{for(i.s();!(e=i.n()).done;){var o=e.value;t.push(new n([o],this._datatype))}}catch(a){i.e(a)}finally{i.f()}return t},n.prototype.columns=function(){var t=this,e=[],r=this.size();if(2!==r.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var i=this._data,o=function(r){var o=i.map((function(t){return[t[r]]}));e.push(new n(o,t._datatype))},a=0;a<r[1];a++)o(a);return e},n.prototype.toArray=function(){return H(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(t){return Et(this._data,t)},n.prototype.toString=function(){return Et(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(t){if(t){if(s(t)&&(t=t.toNumber()),!a(t)||!et(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,r=t<0?-t:0,i=this._size[0],o=this._size[1],u=Math.min(i-r,o-e),l=[],c=0;c<u;c++)l[c]=this._data[c+r][c+e];return new n({data:l,size:[u],datatype:this._datatype})},n.diagonal=function(t,e,r,i){if(!f(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(s(t)&&(t=t.toNumber()),!a(t)||!et(t)||t<1)throw new Error("Size values must be positive integers");return t})),r){if(s(r)&&(r=r.toNumber()),!a(r)||!et(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var o,u=r>0?r:0,l=r<0?-r:0,c=t[0],h=t[1],d=Math.min(c-l,h-u);if(f(e)){if(e.length!==d)throw new Error("Invalid value array length");o=function(t){return e[t]}}else if(p(e)){var v=e.size();if(1!==v.length||v[0]!==d)throw new Error("Invalid matrix length");o=function(t){return e.get([t])}}else o=function(){return e};i||(i=s(o(0))?o(0).mul(0):0);var m=[];if(t.length>0){m=Rt(m,t,i);for(var g=0;g<d;g++)m[g+l][g+u]=o(g)}return new n({data:m,size:[c,h]})},n.fromJSON=function(t){return new n(t)},n.prototype.swapRows=function(t,e){if(!a(t)||!et(t)||!a(e)||!et(e))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Ct(t,this._size[0]),Ct(e,this._size[0]),n._swapRows(t,e,this._data),this},n._swapRows=function(t,e,n){var r=n[t];n[t]=n[e],n[e]=r},n}),{isClass:!0}),oe=n(139),ae=n.n(oe),se=n(6),ue=n(7);function le(t,e){if(pe(t)&&he(t,e))return t[e];if("function"===typeof t[e]&&fe(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')}function ce(t,e,n){if(pe(t)&&he(t,e))return t[e]=n,n;throw new Error('No access to property "'+e+'"')}function he(t,e){return!(!t||"object"!==typeof t)&&(!!K(de,e)||!(e in Object.prototype)&&!(e in Function.prototype))}function fe(t,e){return null!==t&&void 0!==t&&"function"===typeof t[e]&&(!(K(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t))&&(!!K(ve,e)||!(e in Object.prototype)&&!(e in Function.prototype)))}function pe(t){return"object"===typeof t&&t&&t.constructor===Object}var de={length:!0,name:!0},ve={toString:!0,valueOf:!0,toLocaleString:!0},me=function(){function t(e){Object(se.a)(this,t),this.wrappedObject=e}return Object(ue.a)(t,[{key:"keys",value:function(){return Object.keys(this.wrappedObject)}},{key:"get",value:function(t){return le(this.wrappedObject,t)}},{key:"set",value:function(t,e){return ce(this.wrappedObject,t,e),this}},{key:"has",value:function(t){return e=this.wrappedObject,t in e;var e}}]),t}();function ge(t){return!!t&&(t instanceof Map||t instanceof me||"function"===typeof t.set&&"function"===typeof t.get&&"function"===typeof t.keys&&"function"===typeof t.has)}var ye=function(){return ye=ae.a.create,ae.a},_e=Bt("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],(function(t){var e=t.BigNumber,n=t.Complex,r=t.DenseMatrix,i=t.Fraction,o=ye();return o.types=[{name:"number",test:a},{name:"Complex",test:u},{name:"BigNumber",test:s},{name:"Fraction",test:l},{name:"Unit",test:c},{name:"string",test:h},{name:"Chain",test:V},{name:"Array",test:f},{name:"Matrix",test:p},{name:"DenseMatrix",test:v},{name:"SparseMatrix",test:m},{name:"Range",test:g},{name:"Index",test:y},{name:"boolean",test:_},{name:"ResultSet",test:b},{name:"Help",test:x},{name:"function",test:w},{name:"Date",test:E},{name:"RegExp",test:T},{name:"null",test:A},{name:"undefined",test:O},{name:"AccessorNode",test:P},{name:"ArrayNode",test:M},{name:"AssignmentNode",test:C},{name:"BlockNode",test:R},{name:"ConditionalNode",test:I},{name:"ConstantNode",test:N},{name:"FunctionNode",test:D},{name:"FunctionAssignmentNode",test:k},{name:"IndexNode",test:L},{name:"Node",test:F},{name:"ObjectNode",test:U},{name:"OperatorNode",test:j},{name:"ParenthesisNode",test:B},{name:"RangeNode",test:G},{name:"SymbolNode",test:z},{name:"Map",test:ge},{name:"Object",test:S}],o.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(e||be(t),t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new e(t)}},{from:"number",to:"Complex",convert:function(t){return n||xe(t),new n(t,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(t){return n||xe(t),new n(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return n||xe(t),new n(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){i||we(t);var e=new i(t);if(e.valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return e}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(t){e||be(t);try{return new e(t)}catch(n){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){i||we(t);try{return new i(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){n||xe(t);try{return new n(t)}catch(e){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(t){return e||be(t),new e(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return i||we(t),new i(+t)}},{from:"boolean",to:"string",convert:function(t){return String(t)}},{from:"Array",to:"Matrix",convert:function(t){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],o}));function be(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function xe(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function we(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}function Ee(t){var e,n,r=t.length,i=t[0].length,o=[];for(n=0;n<i;n++){var a=[];for(e=0;e<r;e++)a.push(t[e][n]);o.push(a)}return o}function Te(t){for(var e=0;e<t.length;e++)if(d(t[e]))return!0;return!1}function Se(t,e){p(t)&&(t=t.valueOf());for(var n=0,r=t.length;n<r;n++){var i=t[n];Array.isArray(i)?Se(i,e):e(i)}}function Ae(t,e,n){return t&&"function"===typeof t.map?t.map((function(t){return Ae(t,e,n)})):e(t)}function Oe(t,e,n){var r=Array.isArray(t)?Ot(t):t.size();if(e<0||e>=r.length)throw new At(e,r.length);return p(t)?t.create(Pe(t.valueOf(),e,n)):Pe(t,e,n)}function Pe(t,e,n){var r,i,o,a;if(e<=0){if(Array.isArray(t[0])){for(a=Ee(t),i=[],r=0;r<a.length;r++)i[r]=Pe(a[r],e-1,n);return i}for(o=t[0],r=1;r<t.length;r++)o=n(o,t[r]);return o}for(i=[],r=0;r<t.length;r++)i[r]=Pe(t[r],e-1,n);return i}var Me="number",Ce="number, number";function Re(t){return Math.abs(t)}function Ie(t,e){return t+e}function Ne(t,e){return t*e}function ke(t){return-t}function De(t){return t}function Le(t){return ot(t)}function Fe(t){return Math.ceil(t)}function Ue(t){return t*t*t}function je(t){return Math.exp(t)}function Be(t){return at(t)}function Ge(t,e){if(!et(t)||!et(e))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!==e;)n=t%e,t=e,e=n;return t<0?-t:t}function ze(t,e){if(!et(t)||!et(e))throw new Error("Parameters in function lcm must be integer numbers");if(0===t||0===e)return 0;for(var n,r=t*e;0!==e;)e=t%(n=e),t=n;return Math.abs(r/t)}function Ve(t){return Math.log(t)}function Xe(t){return it(t)}function He(t){return rt(t)}function Ye(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}function We(t,e){var n=e<0;if(n&&(e=-e),0===e)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(0===t)return n?1/0:0;if(!isFinite(t))return n?0:t;var r=Math.pow(Math.abs(t),1/e);return r=t<0?-r:r,n?1/r:r}function qe(t){return nt(t)}function Ke(t){return t*t}function Ze(t,e){var n,r,i,o=0,a=1,s=1,u=0;if(!et(t)||!et(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)i=t-(r=Math.floor(t/e))*e,n=o,o=a-r*o,a=n,n=s,s=u-r*s,u=n,t=e,e=i;return t<0?[-t,-a,-u]:[t,t?a:0,u]}function $e(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}function Qe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseFloat(ct(t,e))}Re.signature=Me,Ie.signature=Ce,Ne.signature=Ce,ke.signature=Me,De.signature=Me,Le.signature=Me,Fe.signature=Me,Ue.signature=Me,je.signature=Me,Be.signature=Me,Ge.signature=Ce,ze.signature=Ce,Ve.signature=Me,Xe.signature=Me,He.signature=Me,Ye.signature=Ce,We.signature=Ce,qe.signature=Me,Ke.signature=Me,Ze.signature=Ce,$e.signature=Ce,Qe.signature=Ce;var Je="number";function tn(t){return mt(t)}function en(t){return Math.atan(1/t)}function nn(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}function rn(t){return Math.asin(1/t)}function on(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}function an(t){return Math.acos(1/t)}function sn(t){var e=1/t,n=Math.sqrt(e*e-1);return Math.log(n+e)}function un(t){return gt(t)}function ln(t){return yt(t)}function cn(t){return 1/Math.tan(t)}function hn(t){var e=Math.exp(2*t);return(e+1)/(e-1)}function fn(t){return 1/Math.sin(t)}function pn(t){return 0===t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*nt(t)}function dn(t){return 1/Math.cos(t)}function vn(t){return 2/(Math.exp(t)+Math.exp(-t))}function mn(t){return _t(t)}tn.signature=Je,en.signature=Je,nn.signature=Je,rn.signature=Je,on.signature=Je,an.signature=Je,sn.signature=Je,un.signature=Je,ln.signature=Je,cn.signature=Je,hn.signature=Je,fn.signature=Je,pn.signature=Je,dn.signature=Je,vn.signature=Je,mn.signature=Je;var gn="addScalar",yn=Bt(gn,["typed"],(function(t){return(0,t.typed)(gn,{"number, number":Ie,"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value||void 0===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=this(n.value,e.value),n.fixPrefix=!1,n}})})),_n=Bt("bignumber",["typed","BigNumber"],(function(t){var e=t.typed,n=t.BigNumber;return e("bignumber",{"":function(){return new n(0)},number:function(t){return new n(t+"")},string:function(t){var e=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(e){var r=e[2],i=n(e[1]),o=new n(2).pow(Number(r));if(i.gt(o.sub(1)))throw new SyntaxError('String "'.concat(t,'" is out of range'));var a=new n(2).pow(Number(r)-1);return i.gte(a)?i.sub(o):i}return new n(t)},BigNumber:function(t){return t},Fraction:function(t){return new n(t.n).div(t.d).times(t.s)},null:function(t){return new n(0)},"Array | Matrix":function(t){return Ae(t,this)}})}));var bn="number, number";function xn(t,e){if(!et(t)||!et(e))throw new Error("Integers expected in function bitAnd");return t&e}function wn(t){if(!et(t))throw new Error("Integer expected in function bitNot");return~t}function En(t,e){if(!et(t)||!et(e))throw new Error("Integers expected in function bitOr");return t|e}function Tn(t,e){if(!et(t)||!et(e))throw new Error("Integers expected in function bitXor");return t^e}function Sn(t,e){if(!et(t)||!et(e))throw new Error("Integers expected in function leftShift");return t<<e}function An(t,e){if(!et(t)||!et(e))throw new Error("Integers expected in function rightArithShift");return t>>e}function On(t,e){if(!et(t)||!et(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}xn.signature=bn,wn.signature="number",En.signature=bn,Tn.signature=bn,Sn.signature=bn,An.signature=bn,On.signature=bn;function Pn(t,e){if(e<t)return 1;if(e===t)return e;var n=e+t>>1;return Pn(t,n)*Pn(n+1,e)}function Mn(t,e){if(!et(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!et(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(var n=t-e,r=1,i=2,o=e<n?e:n,a=e<n?n+1:e+1;a<=t;++a)for(r*=a;i<=o&&r%i===0;)r/=i,++i;return i<=o&&(r/=Pn(i,o)),r}Mn.signature="number, number";var Cn="conj",Rn=Bt(Cn,["typed"],(function(t){return(0,t.typed)(Cn,{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return Ae(t,this)}})}));function In(t,e,n){if(null===n||void 0===n)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var r=t.minus(e).abs();if(r.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return r.lte(i.times(n))}return!1}var Nn="equalScalar",kn=Bt(Nn,["typed","config"],(function(t){var e=t.typed,n=t.config;return e(Nn,{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,e){return vt(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||In(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return function(t,e,n){return vt(t.re,e.re,n)&&vt(t.im,e.im,n)}(t,e,n.epsilon)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)}})}));Bt(Nn,["typed","config"],(function(t){var e=t.typed,n=t.config;return e(Nn,{"number, number":function(t,e){return vt(t,e,n.epsilon)}})})),Math.pow(2,53);Bt("hex",["typed","format"],(function(t){var e=t.typed,n=t.format;return e("hex",{"number | BigNumber":function(t){return n(t,{notation:"hex"})},"number | BigNumber, number":function(t,e){return n(t,{notation:"hex",wordSize:e})}})}));var Dn="number";function Ln(t){return t<0}function Fn(t){return t>0}function Un(t){return 0===t}function jn(t){return Number.isNaN(t)}Ln.signature=Dn,Fn.signature=Dn,Un.signature=Dn,jn.signature=Dn;var Bn=Bt("multiplyScalar",["typed"],(function(t){return(0,t.typed)("multiplyScalar",{"number, number":Ne,"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var n=e.clone();return n.value=null===n.value?n._normalize(t):this(n.value,t),n},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var n=t.clone();return n.value=null===n.value?n._normalize(e):this(n.value,e),n},"Unit, Unit":function(t,e){return t.multiply(e)}})})),Gn="number, number";function zn(t){return!t}function Vn(t,e){return!(!t&&!e)}function Xn(t,e){return!!t!==!!e}function Hn(t,e){return!(!t||!e)}zn.signature="number",Vn.signature=Gn,Xn.signature=Gn,Hn.signature=Gn;var Yn=Bt("number",["typed"],(function(t){var e=(0,t.typed)("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var e=function(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return e?{input:t,radix:{"0b":2,"0o":8,"0x":16}[e[1]],integerPart:e[2],fractionalPart:e[3]}:null}(t);if(e)return function(t){for(var e=parseInt(t.integerPart,t.radix),n=0,r=0;r<t.fractionalPart.length;r++)n+=parseInt(t.fractionalPart[r],t.radix)/Math.pow(t.radix,r+1);var i=e+n;if(isNaN(i))throw new SyntaxError('String "'+t.input+'" is no valid number');return i}(e);var n=0,r=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);r&&(n=Number(r[2]),t=r[1]);var i=Number(t);if(isNaN(i))throw new SyntaxError('String "'+t+'" is no valid number');if(r){if(i>Math.pow(2,n)-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));i>=Math.pow(2,n-1)&&(i-=Math.pow(2,n))}return i},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return Ae(t,this)}});return e.fromJSON=function(t){return parseFloat(t.value)},e})),Wn=(Bt("oct",["typed","format"],(function(t){var e=t.typed,n=t.format;return e("oct",{"number | BigNumber":function(t){return n(t,{notation:"oct"})},"number | BigNumber, number":function(t,e){return n(t,{notation:"oct",wordSize:e})}})})),n(140)),qn=n.n(Wn);Date.now();var Kn=Bt("SparseMatrix",["typed","equalScalar","Matrix"],(function(t){var e=t.typed,n=t.equalScalar,r=t.Matrix;function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!h(e))throw new Error("Invalid datatype: "+e);if(p(t))!function(t,e,n){"SparseMatrix"===e.type?(t._values=e._values?H(e._values):void 0,t._index=H(e._index),t._ptr=H(e._ptr),t._size=H(e._size),t._datatype=n||e._datatype):o(t,e.valueOf(),n||e._datatype)}(this,t,e);else if(t&&f(t.index)&&f(t.ptr)&&f(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(f(t))o(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+X(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}function o(t,r,i){t._values=[],t._index=[],t._ptr=[],t._datatype=i;var o=r.length,a=0,s=n,u=0;if(h(i)&&(s=e.find(n,[i,i])||n,u=e.convert(0,i)),o>0){var l=0;do{t._ptr.push(t._index.length);for(var c=0;c<o;c++){var p=r[c];if(f(p)){if(0===l&&a<p.length&&(a=p.length),l<p.length){var d=p[l];s(d,u)||(t._values.push(d),t._index.push(c))}}else 0===l&&a<1&&(a=1),s(p,u)||(t._values.push(p),t._index.push(c))}l++}while(l<a)}t._ptr.push(t._index.length),t._size=[o,a]}function u(t,e){if(!y(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n,r,o,a,s=e.size();if(s.length!==t._size.length)throw new St(s.length,t._size.length);var u=e.min(),l=e.max();for(n=0,r=t._size.length;n<r;n++)Ct(u[n],t._size[n]),Ct(l[n],t._size[n]);var c=t._values,h=t._index,f=t._ptr,p=e.dimension(0),d=e.dimension(1),v=[],m=[];p.forEach((function(t,e){m[t]=e[0],v[t]=!0}));var g=c?[]:void 0,_=[],b=[];return d.forEach((function(t){for(b.push(_.length),o=f[t],a=f[t+1];o<a;o++)n=h[o],!0===v[n]&&(_.push(m[n]),g&&g.push(c[o]))})),b.push(_.length),new i({values:g,index:_,ptr:b,size:s,datatype:t._datatype})}function l(t,e,n,r){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var i,o=e.size(),a=e.isScalar();if(p(n)?(i=n.size(),n=n.toArray()):i=Ot(n),a){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(1!==o.length&&2!==o.length)throw new St(o.length,t._size.length,"<");if(i.length<o.length){for(var s=0,u=0;1===o[s]&&1===i[s];)s++;for(;1===o[s];)u++,s++;n=Lt(n,o.length,u,i)}if(!q(o,i))throw new St(o,i,">");if(1===o.length){e.dimension(0).forEach((function(e,i){Ct(e),t.set([e,0],n[i[0]],r)}))}else{var l=e.dimension(0),c=e.dimension(1);l.forEach((function(e,i){Ct(e),c.forEach((function(o,a){Ct(o),t.set([e,o],n[i[0]][a[0]],r)}))}))}}return t}function c(t,e,n,r){if(n-e===0)return n;for(var i=e;i<n;i++)if(r[i]===t)return i;return e}function v(t,e,n,r,i,o,a){i.splice(t,0,r),o.splice(t,0,e);for(var s=n+1;s<a.length;s++)a[s]++}function m(t,r,i,o){var a=o||0,s=n,u=0;h(t._datatype)&&(s=e.find(n,[t._datatype,t._datatype])||n,u=e.convert(0,t._datatype),a=e.convert(a,t._datatype));var l,c,f,p=!s(a,u),d=t._size[0],v=t._size[1];if(i>v){for(c=v;c<i;c++)if(t._ptr[c]=t._values.length,p)for(l=0;l<d;l++)t._values.push(a),t._index.push(l);t._ptr[i]=t._values.length}else i<v&&(t._ptr.splice(i+1,v-i),t._values.splice(t._ptr[i],t._values.length),t._index.splice(t._ptr[i],t._index.length));if(v=i,r>d){if(p){var m=0;for(c=0;c<v;c++){t._ptr[c]=t._ptr[c]+m,f=t._ptr[c+1]+m;var g=0;for(l=d;l<r;l++,g++)t._values.splice(f+g,0,a),t._index.splice(f+g,0,l),m++}t._ptr[v]=t._values.length}}else if(r<d){var y=0;for(c=0;c<v;c++){t._ptr[c]=t._ptr[c]-y;var _=t._ptr[c],b=t._ptr[c+1]-y;for(f=_;f<b;f++)(l=t._index[f])>r-1&&(t._values.splice(f,1),t._index.splice(f,1),y++)}t._ptr[c]=t._values.length}return t._size[0]=r,t._size[1]=i,t}function g(t,e,n,r,i){var o,a,s=r[0],u=r[1],l=[];for(o=0;o<s;o++)for(l[o]=[],a=0;a<u;a++)l[o][a]=0;for(a=0;a<u;a++)for(var c=n[a],h=n[a+1],f=c;f<h;f++)l[o=e[f]][a]=t?i?H(t[f]):t[f]:1;return l}return i.prototype=new r,i.prototype.createSparseMatrix=function(t,e){return new i(t,e)},i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return jt(this._values,X)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(t,e){return new i(t,e)},i.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},i.prototype.subset=function(t,e,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return u(this,t);case 2:case 3:return l(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(t){if(!f(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new St(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],n=t[1];Ct(e,this._size[0]),Ct(n,this._size[1]);var r=c(e,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===e?this._values[r]:0},i.prototype.set=function(t,r,i){if(!f(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new St(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var o=t[0],a=t[1],s=this._size[0],u=this._size[1],l=n,p=0;h(this._datatype)&&(l=e.find(n,[this._datatype,this._datatype])||n,p=e.convert(0,this._datatype)),(o>s-1||a>u-1)&&(m(this,Math.max(o+1,s),Math.max(a+1,u),i),s=this._size[0],u=this._size[1]),Ct(o,s),Ct(a,u);var d=c(o,this._ptr[a],this._ptr[a+1],this._index);return d<this._ptr[a+1]&&this._index[d]===o?l(r,p)?function(t,e,n,r,i){n.splice(t,1),r.splice(t,1);for(var o=e+1;o<i.length;o++)i[o]--}(d,a,this._values,this._index,this._ptr):this._values[d]=r:v(d,o,a,r,this._values,this._index,this._ptr),this},i.prototype.resize=function(t,e,n){if(!d(t))throw new TypeError("Array or Matrix expected");var r=t.valueOf().map((function(t){return Array.isArray(t)&&1===t.length?t[0]:t}));if(2!==r.length)throw new Error("Only two dimensions matrix are supported");return r.forEach((function(t){if(!a(t)||!et(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Et(r)+")")})),m(n?this.clone():this,r[0],r[1],e)},i.prototype.reshape=function(t,e){if(!f(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");t.forEach((function(e){if(!a(e)||!et(e)||e<=-2||0===e)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Et(t)+")")}));var n=this._size[0]*this._size[1];if(n!==(t=kt(t,n))[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return r;for(var i=[],o=0;o<r._ptr.length;o++)for(var s=0;s<r._ptr[o+1]-r._ptr[o];s++)i.push(o);for(var u=r._values.slice(),l=r._index.slice(),h=0;h<r._index.length;h++){var p=l[h],d=i[h],m=p*r._size[1]+d;i[h]=m%t[1],l[h]=Math.floor(m/t[1])}r._values.length=0,r._index.length=0,r._ptr.length=t[1]+1,r._size=t.slice();for(var g=0;g<r._ptr.length;g++)r._ptr[g]=0;for(var y=0;y<u.length;y++){var _=l[y],b=i[y],x=u[y];v(c(_,r._ptr[b],r._ptr[b+1],r._index),_,b,x,r._values,r._index,r._ptr)}return r},i.prototype.clone=function(){return new i({values:this._values?H(this._values):void 0,index:H(this._index),ptr:H(this._ptr),size:H(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(t,r){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var o=this;return function(t,r,o,a,s,u,l){var c=[],f=[],p=[],d=n,v=0;h(t._datatype)&&(d=e.find(n,[t._datatype,t._datatype])||n,v=e.convert(0,t._datatype));for(var m=function(t,e,n){t=u(t,e,n),d(t,v)||(c.push(t),f.push(e))},g=a;g<=s;g++){p.push(c.length);var y=t._ptr[g],_=t._ptr[g+1];if(l)for(var b=y;b<_;b++){var x=t._index[b];x>=r&&x<=o&&m(t._values[b],x-r,g-a)}else{for(var w={},E=y;E<_;E++){w[t._index[E]]=t._values[E]}for(var T=r;T<=o;T++){m(T in w?w[T]:0,T-r,g-a)}}}return p.push(c.length),new i({values:c,index:f,ptr:p,size:[o-r+1,s-a+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,(function(e,n,r){return t(e,[n,r],o)}),r)},i.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],r=this._size[1],i=0;i<r;i++){var o=this._ptr[i],a=this._ptr[i+1];if(e)for(var s=o;s<a;s++){var u=this._index[s];t(this._values[s],[u,i],this)}else{for(var l={},c=o;c<a;c++){l[this._index[c]]=this._values[c]}for(var h=0;h<n;h++){t(h in l?l[h]:0,[h,i],this)}}}},i.prototype[Symbol.iterator]=re.a.mark((function t(){var e,n,r,i,o,a;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._values){t.next=2;break}throw new Error("Cannot iterate a Pattern only matrix");case 2:e=this._size[1],n=0;case 4:if(!(n<e)){t.next=18;break}r=this._ptr[n],i=this._ptr[n+1],o=r;case 8:if(!(o<i)){t.next=15;break}return a=this._index[o],t.next=12,{value:this._values[o],index:[a,n]};case 12:o++,t.next=8;break;case 15:n++,t.next=4;break;case 18:case"end":return t.stop()}}),t,this)})),i.prototype.toArray=function(){return g(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return g(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(t){for(var e=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+Et(e,t)+" x "+Et(n,t)+"] density: "+Et(r,t)+"\n",o=0;o<n;o++)for(var a=this._ptr[o],s=this._ptr[o+1],u=a;u<s;u++){i+="\n    ("+Et(this._index[u],t)+", "+Et(o,t)+") ==> "+(this._values?Et(this._values[u],t):"X")}return i},i.prototype.toString=function(){return Et(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(t){if(t){if(s(t)&&(t=t.toNumber()),!a(t)||!et(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],o=this._size[1],u=Math.min(r-n,o-e),l=[],c=[],h=[];h[0]=0;for(var f=e;f<o&&l.length<u;f++)for(var p=this._ptr[f],d=this._ptr[f+1],v=p;v<d;v++){var m=this._index[v];if(m===f-e+n){l.push(this._values[v]),c[l.length-1]=m-n;break}}return h.push(l.length),new i({values:l,index:c,ptr:h,size:[u,1]})},i.fromJSON=function(t){return new i(t)},i.diagonal=function(t,r,o,u,l){if(!f(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(s(t)&&(t=t.toNumber()),!a(t)||!et(t)||t<1)throw new Error("Size values must be positive integers");return t})),o){if(s(o)&&(o=o.toNumber()),!a(o)||!et(o))throw new TypeError("The parameter k must be an integer number")}else o=0;var c=n,d=0;h(l)&&(c=e.find(n,[l,l])||n,d=e.convert(0,l));var v,m=o>0?o:0,g=o<0?-o:0,y=t[0],_=t[1],b=Math.min(y-g,_-m);if(f(r)){if(r.length!==b)throw new Error("Invalid value array length");v=function(t){return r[t]}}else if(p(r)){var x=r.size();if(1!==x.length||x[0]!==b)throw new Error("Invalid matrix length");v=function(t){return r.get([t])}}else v=function(){return r};for(var w=[],E=[],T=[],S=0;S<_;S++){T.push(w.length);var A=S-m;if(A>=0&&A<b){var O=v(A);c(O,d)||(E.push(A+g),w.push(O))}}return T.push(w.length),new i({values:w,index:E,ptr:T,size:[y,_]})},i.prototype.swapRows=function(t,e){if(!a(t)||!et(t)||!a(e)||!et(e))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return Ct(t,this._size[0]),Ct(e,this._size[0]),i._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(t,e,n,r,i){for(var o=r[t],a=r[t+1],s=o;s<a;s++)i(n[s],e[s])},i._swapRows=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=o[a],u=o[a+1],l=c(t,s,u,i),h=c(e,s,u,i);if(l<u&&h<u&&i[l]===t&&i[h]===e){if(r){var f=r[l];r[l]=r[h],r[h]=f}}else if(l<u&&i[l]===t&&(h>=u||i[h]!==e)){var p=r?r[l]:void 0;i.splice(h,0,e),r&&r.splice(h,0,p),i.splice(h<=l?l+1:l,1),r&&r.splice(h<=l?l+1:l,1)}else if(h<u&&i[h]===e&&(l>=u||i[l]!==t)){var d=r?r[h]:void 0;i.splice(l,0,t),r&&r.splice(l,0,d),i.splice(l<=h?h+1:h,1),r&&r.splice(l<=h?h+1:h,1)}}},i}),{isClass:!0});Bt("bin",["typed","format"],(function(t){var e=t.typed,n=t.format;return e("bin",{"number | BigNumber":function(t){return n(t,{notation:"bin"})},"number | BigNumber, number":function(t,e){return n(t,{notation:"bin",wordSize:e})}})}));var Zn=Bt("fraction",["typed","Fraction"],(function(t){var e=t.typed,n=t.Fraction;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n(t)},string:function(t){return new n(t)},"number, number":function(t,e){return new n(t,e)},null:function(t){return new n(0)},BigNumber:function(t){return new n(t.toString())},Fraction:function(t){return t},Object:function(t){return new n(t)},"Array | Matrix":function(t){return Ae(t,this)}})})),$n="matrix",Qn=Bt($n,["typed","Matrix","DenseMatrix","SparseMatrix"],(function(t){var e=t.typed,n=(t.Matrix,t.DenseMatrix),r=t.SparseMatrix;return e($n,{"":function(){return i([])},string:function(t){return i([],t)},"string, string":function(t,e){return i([],t,e)},Array:function(t){return i(t)},Matrix:function(t){return i(t,t.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(t,e,i){if("dense"===e||"default"===e||void 0===e)return new n(t,i);if("sparse"===e)return new r(t,i);throw new TypeError("Unknown matrix type "+JSON.stringify(e)+".")}})),Jn=Bt("algorithm03",["typed"],(function(t){var e=t.typed;return function(t,n,r,i){var o=t._data,a=t._size,s=t._datatype,u=n._values,l=n._index,c=n._ptr,h=n._size,f=n._datatype;if(a.length!==h.length)throw new St(a.length,h.length);if(a[0]!==h[0]||a[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p,d=a[0],v=a[1],m=0,g=r;"string"===typeof s&&s===f&&(p=s,m=e.convert(0,p),g=e.find(r,[p,p]));for(var y=[],_=0;_<d;_++)y[_]=[];for(var b=[],x=[],w=0;w<v;w++){for(var E=w+1,T=c[w],S=c[w+1],A=T;A<S;A++){var O=l[A];b[O]=i?g(u[A],o[O][w]):g(o[O][w],u[A]),x[O]=E}for(var P=0;P<d;P++)x[P]===E?y[P][w]=b[P]:y[P][w]=i?g(m,o[P][w]):g(o[P][w],m)}return t.createDenseMatrix({data:y,size:[d,v],datatype:p})}})),tr=Bt("algorithm11",["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return function(t,r,i,o){var a=t._values,s=t._index,u=t._ptr,l=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,f=l[0],p=l[1],d=n,v=0,m=i;"string"===typeof c&&(h=c,d=e.find(n,[h,h]),v=e.convert(0,h),r=e.convert(r,h),m=e.find(i,[h,h]));for(var g=[],y=[],_=[],b=0;b<p;b++){_[b]=y.length;for(var x=u[b],w=u[b+1],E=x;E<w;E++){var T=s[E],S=o?m(r,a[E]):m(a[E],r);d(S,v)||(y.push(T),g.push(S))}}return _[p]=y.length,t.createSparseMatrix({values:g,index:y,ptr:_,size:[f,p],datatype:h})}})),er=Bt("algorithm12",["typed","DenseMatrix"],(function(t){var e=t.typed,n=t.DenseMatrix;return function(t,r,i,o){var a=t._values,s=t._index,u=t._ptr,l=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,f=l[0],p=l[1],d=i;"string"===typeof c&&(h=c,r=e.convert(r,h),d=e.find(i,[h,h]));for(var v=[],m=[],g=[],y=0;y<p;y++){for(var _=y+1,b=u[y],x=u[y+1],w=b;w<x;w++){var E=s[w];m[E]=a[w],g[E]=_}for(var T=0;T<f;T++)0===y&&(v[T]=[]),g[T]===_?v[T][y]=o?d(r,m[T]):d(m[T],r):v[T][y]=o?d(r,0):d(0,r)}return new n({data:v,size:[f,p],datatype:h})}})),nr=Bt("algorithm13",["typed"],(function(t){var e=t.typed;return function(t,r,i){var o,a=t._data,s=t._size,u=t._datatype,l=r._data,c=r._size,h=r._datatype,f=[];if(s.length!==c.length)throw new St(s.length,c.length);for(var p=0;p<s.length;p++){if(s[p]!==c[p])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+c+")");f[p]=s[p]}var d=i;"string"===typeof u&&u===h&&(o=u,d=e.find(i,[o,o]));var v=f.length>0?n(d,0,f,f[0],a,l):[];return t.createDenseMatrix({data:v,size:f,datatype:o})};function n(t,e,r,i,o,a){var s=[];if(e===r.length-1)for(var u=0;u<i;u++)s[u]=t(o[u],a[u]);else for(var l=0;l<i;l++)s[l]=n(t,e+1,r,r[e+1],o[l],a[l]);return s}})),rr=Bt("algorithm14",["typed"],(function(t){var e=t.typed;return function(t,r,i,o){var a,s=t._data,u=t._size,l=t._datatype,c=i;"string"===typeof l&&(a=l,r=e.convert(r,a),c=e.find(i,[a,a]));var h=u.length>0?n(c,0,u,u[0],s,r,o):[];return t.createDenseMatrix({data:h,size:H(u),datatype:a})};function n(t,e,r,i,o,a,s){var u=[];if(e===r.length-1)for(var l=0;l<i;l++)u[l]=s?t(a,o[l]):t(o[l],a);else for(var c=0;c<i;c++)u[c]=n(t,e+1,r,r[e+1],o[c],a,s);return u}}));function ir(){throw new Error('No "bignumber" implementation available')}function or(){throw new Error('No "fraction" implementation available')}function ar(){throw new Error('No "matrix" implementation available')}var sr=Bt("numeric",["number","?bignumber","?fraction"],(function(t){var e=t.number,n=t.bignumber,r=t.fraction,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:function(t){return e(t)},BigNumber:n?function(t){return n(t)}:ir,Fraction:r?function(t){return r(t)}:or};return function(t,e){var n=X(t);if(!(n in i))throw new TypeError("Cannot convert "+t+' of type "'+n+'"; valid input types are '+Object.keys(i).join(", "));if(!(e in o))throw new TypeError("Cannot convert "+t+' to type "'+e+'"; valid output types are '+Object.keys(o).join(", "));return e===n?t:o[e](t)}}));function ur(t,e,n){var r;return-1!==String(t).indexOf("Unexpected type")?(r=arguments.length>2?" (type: "+X(n)+", value: "+JSON.stringify(n)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+r)):-1!==String(t).indexOf("complex numbers")?(r=arguments.length>2?" (type: "+X(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+r)):t}var lr="size",cr=Bt(lr,["typed","config","?matrix"],(function(t){var e=t.typed,n=t.config,r=t.matrix;return e(lr,{Matrix:function(t){return t.create(t.size())},Array:Ot,string:function(t){return"Array"===n.matrix?[t.length]:r([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return"Array"===n.matrix?[]:r?r([]):ar()}})})),hr=Bt("algorithm07",["typed","DenseMatrix"],(function(t){var e=t.typed,n=t.DenseMatrix;return function(t,i,o){var a=t._size,s=t._datatype,u=i._size,l=i._datatype;if(a.length!==u.length)throw new St(a.length,u.length);if(a[0]!==u[0]||a[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+u+")");var c,h,f,p=a[0],d=a[1],v=0,m=o;"string"===typeof s&&s===l&&(c=s,v=e.convert(0,c),m=e.find(o,[c,c]));var g=[];for(h=0;h<p;h++)g[h]=[];var y=[],_=[],b=[],x=[];for(f=0;f<d;f++){var w=f+1;for(r(t,f,b,y,w),r(i,f,x,_,w),h=0;h<p;h++){var E=b[h]===w?y[h]:v,T=x[h]===w?_[h]:v;g[h][f]=m(E,T)}}return new n({data:g,size:[p,d],datatype:c})};function r(t,e,n,r,i){for(var o=t._values,a=t._index,s=t._ptr,u=s[e],l=s[e+1];u<l;u++){var c=a[u];n[c]=i,r[c]=o[u]}}})),fr="smaller",pr=Bt(fr,["typed","config","matrix","DenseMatrix"],(function(t){var e=t.typed,n=t.config,r=t.matrix,i=t.DenseMatrix,o=Jn({typed:e}),a=hr({typed:e,DenseMatrix:i}),s=er({typed:e,DenseMatrix:i}),u=nr({typed:e}),l=rr({typed:e});return e(fr,{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,e){return t<e&&!vt(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lt(e)&&!In(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return-1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return s(t,e,this,!1)},"DenseMatrix, any":function(t,e){return l(t,e,this,!1)},"any, SparseMatrix":function(t,e){return s(e,t,this,!0)},"any, DenseMatrix":function(t,e){return l(e,t,this,!0)},"Array, any":function(t,e){return l(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return l(r(e),t,this,!0).valueOf()}})}));var dr=Bt("transpose",["typed","matrix"],(function(t){var e=t.typed,n=t.matrix;return e("transpose",{Array:function(t){return this(n(t)).valueOf()},Matrix:function(t){var e,n=t.size();switch(n.length){case 1:e=t.clone();break;case 2:var r=n[0],i=n[1];if(0===i)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Et(n)+")");switch(t.storage()){case"dense":e=function(t,e,n){for(var r,i=t._data,o=[],a=0;a<n;a++){r=o[a]=[];for(var s=0;s<e;s++)r[s]=H(i[s][a])}return t.createDenseMatrix({data:o,size:[n,e],datatype:t._datatype})}(t,r,i);break;case"sparse":e=function(t,e,n){for(var r,i,o,a=t._values,s=t._index,u=t._ptr,l=a?[]:void 0,c=[],h=[],f=[],p=0;p<e;p++)f[p]=0;for(r=0,i=s.length;r<i;r++)f[s[r]]++;for(var d=0,v=0;v<e;v++)h.push(d),d+=f[v],f[v]=h[v];for(h.push(d),o=0;o<n;o++)for(var m=u[o],g=u[o+1],y=m;y<g;y++){var _=f[s[y]]++;c[_]=o,a&&(l[_]=H(a[y]))}return t.createSparseMatrix({values:l,index:c,ptr:h,size:[n,e],datatype:t._datatype})}(t,r,i)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Et(this._size)+")")}return e},any:function(t){return H(t)}})}));var vr="equal";Bt(vr,["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return e(vr,{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:n(t,e)}})}));var mr=Bt("min",["typed","config","numeric","smaller"],(function(t){var e=t.typed,n=t.config,r=t.numeric,i=t.smaller;return e("min",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(t,e){return Oe(t,e.valueOf(),o)},"...":function(t){if(Te(t))throw new TypeError("Scalar values expected in function min");return a(t)}});function o(t,e){try{return i(t,e)?t:e}catch(n){throw ur(n,"min",e)}}function a(t){var e;if(Se(t,(function(t){try{isNaN(t)&&"number"===typeof t?e=NaN:(void 0===e||i(t,e))&&(e=t)}catch(n){throw ur(n,"min",t)}})),void 0===e)throw new Error("Cannot calculate min of an empty array");return"string"===typeof e&&(e=r(e,n.number)),e}}));function gr(t,e,n,r){if(!(this instanceof gr))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(void 0!==r&&null!==r?"-"+r:"")+" expected)",this.stack=(new Error).stack}gr.prototype=new Error,gr.prototype.constructor=Error,gr.prototype.name="ArgumentsError",gr.prototype.isArgumentsError=!0;n(79);var yr="unequal";Bt(yr,["typed","equalScalar"],(function(t){var e=t.typed,n=t.equalScalar;return e(yr,{"any, any":function(t,e){return null===t?null!==e:null===e?null!==t:void 0===t?void 0!==e:void 0===e?void 0!==t:!n(t,e)}})})),n(58);var _r=Bt("dot",["typed","addScalar","multiplyScalar","conj","size"],(function(t){var e=t.typed,n=t.addScalar,r=t.multiplyScalar,i=t.conj,o=t.size;return e("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(t,o){var u=a(t,o),l=p(t)?t._data:t,c=p(t)?t._datatype:void 0,h=p(o)?o._data:o,f=p(o)?o._datatype:void 0,d=2===s(t).length,v=2===s(o).length,m=n,g=r;if(c&&f&&c===f&&"string"===typeof c){var y=c;m=e.find(n,[y,y]),g=e.find(r,[y,y])}if(!d&&!v){for(var _=g(i(l[0]),h[0]),b=1;b<u;b++)_=m(_,g(i(l[b]),h[b]));return _}if(!d&&v){for(var x=g(i(l[0]),h[0][0]),w=1;w<u;w++)x=m(x,g(i(l[w]),h[w][0]));return x}if(d&&!v){for(var E=g(i(l[0][0]),h[0]),T=1;T<u;T++)E=m(E,g(i(l[T][0]),h[T]));return E}if(d&&v){for(var S=g(i(l[0][0]),h[0][0]),A=1;A<u;A++)S=m(S,g(i(l[A][0]),h[A][0]));return S}},"SparseMatrix, SparseMatrix":function(t,e){a(t,e);var i=t._index,o=t._values,s=e._index,u=e._values,l=0,c=n,h=r,f=0,p=0;for(;f<i.length&&p<s.length;){var d=i[f],v=s[p];d<v?f++:d>v?p++:d===v&&(l=c(l,h(o[f],u[p])),f++,p++)}return l}});function a(t,e){var n,r,i=s(t),o=s(e);if(1===i.length)n=i[0];else{if(2!==i.length||1!==i[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");n=i[0]}if(1===o.length)r=o[0];else{if(2!==o.length||1!==o[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+o.join(", ")+")");r=o[0]}if(n!==r)throw new RangeError("Vectors must have equal length ("+n+" != "+r+")");if(0===n)throw new RangeError("Cannot calculate the dot product of empty vectors");return n}function s(t){return p(t)?t.size():o(t)}})),br=(n(36),"larger"),xr=Bt(br,["typed","config","matrix","DenseMatrix"],(function(t){var e=t.typed,n=t.config,r=t.matrix,i=t.DenseMatrix,o=Jn({typed:e}),a=hr({typed:e,DenseMatrix:i}),s=er({typed:e,DenseMatrix:i}),u=nr({typed:e}),l=rr({typed:e});return e(br,{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,e){return t>e&&!vt(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gt(e)&&!In(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return this(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,this)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,this,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,this,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,this)},"Array, Array":function(t,e){return this(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return this(r(t),e)},"Matrix, Array":function(t,e){return this(t,r(e))},"SparseMatrix, any":function(t,e){return s(t,e,this,!1)},"DenseMatrix, any":function(t,e){return l(t,e,this,!1)},"any, SparseMatrix":function(t,e){return s(e,t,this,!0)},"any, DenseMatrix":function(t,e){return l(e,t,this,!0)},"Array, any":function(t,e){return l(r(t),e,this,!1).valueOf()},"any, Array":function(t,e){return l(r(e),t,this,!0).valueOf()}})})),wr=(n(25),"multiply"),Er=Bt(wr,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],(function(t){var e=t.typed,n=t.matrix,r=t.addScalar,i=t.multiplyScalar,o=t.equalScalar,a=t.dot,s=tr({typed:e,equalScalar:o}),u=rr({typed:e});function l(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}function c(t,n){if("dense"!==n.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,n){var o,a=t._data,s=t._size,u=t._datatype,l=n._data,c=n._size,h=n._datatype,f=s[0],p=c[1],d=r,v=i;u&&h&&u===h&&"string"===typeof u&&(o=u,d=e.find(r,[o,o]),v=e.find(i,[o,o]));for(var m=[],g=0;g<p;g++){for(var y=v(a[0],l[0][g]),_=1;_<f;_++)y=d(y,v(a[_],l[_][g]));m[g]=y}return t.createDenseMatrix({data:m,size:[p],datatype:o})}(t,n)}var h=e("_multiplyMatrixVector",{"DenseMatrix, any":function(t,n){var o,a=t._data,s=t._size,u=t._datatype,l=n._data,c=n._datatype,h=s[0],f=s[1],p=r,d=i;u&&c&&u===c&&"string"===typeof u&&(o=u,p=e.find(r,[o,o]),d=e.find(i,[o,o]));for(var v=[],m=0;m<h;m++){for(var g=a[m],y=d(g[0],l[0]),_=1;_<f;_++)y=p(y,d(g[_],l[_]));v[m]=y}return t.createDenseMatrix({data:v,size:[h],datatype:o})},"SparseMatrix, any":function(t,n){var a=t._values,s=t._index,u=t._ptr,l=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,h=n._data,f=n._datatype,p=t._size[0],d=n._size[0],v=[],m=[],g=[],y=r,_=i,b=o,x=0;l&&f&&l===f&&"string"===typeof l&&(c=l,y=e.find(r,[c,c]),_=e.find(i,[c,c]),b=e.find(o,[c,c]),x=e.convert(0,c));var w=[],E=[];g[0]=0;for(var T=0;T<d;T++){var S=h[T];if(!b(S,x))for(var A=u[T],O=u[T+1],P=A;P<O;P++){var M=s[P];E[M]?w[M]=y(w[M],_(S,a[P])):(E[M]=!0,m.push(M),w[M]=_(S,a[P]))}}for(var C=m.length,R=0;R<C;R++){var I=m[R];v[R]=w[I]}return g[1]=m.length,t.createSparseMatrix({values:v,index:m,ptr:g,size:[p,1],datatype:c})}}),f=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,n){var o,a=t._data,s=t._size,u=t._datatype,l=n._data,c=n._size,h=n._datatype,f=s[0],p=s[1],d=c[1],v=r,m=i;u&&h&&u===h&&"string"===typeof u&&(o=u,v=e.find(r,[o,o]),m=e.find(i,[o,o]));for(var g=[],y=0;y<f;y++){var _=a[y];g[y]=[];for(var b=0;b<d;b++){for(var x=m(_[0],l[0][b]),w=1;w<p;w++)x=v(x,m(_[w],l[w][b]));g[y][b]=x}}return t.createDenseMatrix({data:g,size:[f,d],datatype:o})},"DenseMatrix, SparseMatrix":function(t,n){var a=t._data,s=t._size,u=t._datatype,l=n._values,c=n._index,h=n._ptr,f=n._size,p=n._datatype;if(!l)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var d,v=s[0],m=f[1],g=r,y=i,_=o,b=0;u&&p&&u===p&&"string"===typeof u&&(d=u,g=e.find(r,[d,d]),y=e.find(i,[d,d]),_=e.find(o,[d,d]),b=e.convert(0,d));for(var x=[],w=[],E=[],T=n.createSparseMatrix({values:x,index:w,ptr:E,size:[v,m],datatype:d}),S=0;S<m;S++){E[S]=w.length;var A=h[S],O=h[S+1];if(O>A)for(var P=0,M=0;M<v;M++){for(var C=M+1,R=void 0,I=A;I<O;I++){var N=c[I];P!==C?(R=y(a[M][N],l[I]),P=C):R=g(R,y(a[M][N],l[I]))}P!==C||_(R,b)||(w.push(M),x.push(R))}}return E[m]=w.length,T},"SparseMatrix, DenseMatrix":function(t,n){var a=t._values,s=t._index,u=t._ptr,l=t._datatype;if(!a)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var c,h=n._data,f=n._datatype,p=t._size[0],d=n._size[0],v=n._size[1],m=r,g=i,y=o,_=0;l&&f&&l===f&&"string"===typeof l&&(c=l,m=e.find(r,[c,c]),g=e.find(i,[c,c]),y=e.find(o,[c,c]),_=e.convert(0,c));for(var b=[],x=[],w=[],E=t.createSparseMatrix({values:b,index:x,ptr:w,size:[p,v],datatype:c}),T=[],S=[],A=0;A<v;A++){w[A]=x.length;for(var O=A+1,P=0;P<d;P++){var M=h[P][A];if(!y(M,_))for(var C=u[P],R=u[P+1],I=C;I<R;I++){var N=s[I];S[N]!==O?(S[N]=O,x.push(N),T[N]=g(M,a[I])):T[N]=m(T[N],g(M,a[I]))}}for(var k=w[A],D=x.length,L=k;L<D;L++){var F=x[L];b[L]=T[F]}}return w[v]=x.length,E},"SparseMatrix, SparseMatrix":function(t,n){var o,a=t._values,s=t._index,u=t._ptr,l=t._datatype,c=n._values,h=n._index,f=n._ptr,p=n._datatype,d=t._size[0],v=n._size[1],m=a&&c,g=r,y=i;l&&p&&l===p&&"string"===typeof l&&(o=l,g=e.find(r,[o,o]),y=e.find(i,[o,o]));for(var _,b,x,w,E,T,S,A,O=m?[]:void 0,P=[],M=[],C=t.createSparseMatrix({values:O,index:P,ptr:M,size:[d,v],datatype:o}),R=m?[]:void 0,I=[],N=0;N<v;N++){M[N]=P.length;var k=N+1;for(E=f[N],T=f[N+1],w=E;w<T;w++)if(A=h[w],m)for(b=u[A],x=u[A+1],_=b;_<x;_++)S=s[_],I[S]!==k?(I[S]=k,P.push(S),R[S]=y(c[w],a[_])):R[S]=g(R[S],y(c[w],a[_]));else for(b=u[A],x=u[A+1],_=b;_<x;_++)S=s[_],I[S]!==k&&(I[S]=k,P.push(S));if(m)for(var D=M[N],L=P.length,F=D;F<L;F++){var U=P[F];O[F]=R[U]}}return M[v]=P.length,C}});return e(wr,W({"Array, Array":function(t,e){l(Ot(t),Ot(e));var r=this(n(t),n(e));return p(r)?r.valueOf():r},"Matrix, Matrix":function(t,e){var n=t.size(),r=e.size();return l(n,r),1===n.length?1===r.length?function(t,e,n){if(0===n)throw new Error("Cannot multiply two empty vectors");return a(t,e)}(t,e,n[0]):c(t,e):1===r.length?h(t,e):f(t,e)},"Matrix, Array":function(t,e){return this(t,n(e))},"Array, Matrix":function(t,e){return this(n(t,e.storage()),e)},"SparseMatrix, any":function(t,e){return s(t,e,i,!1)},"DenseMatrix, any":function(t,e){return u(t,e,i,!1)},"any, SparseMatrix":function(t,e){return s(e,t,i,!0)},"any, DenseMatrix":function(t,e){return u(e,t,i,!0)},"Array, any":function(t,e){return u(n(t),e,i,!1).valueOf()},"any, Array":function(t,e){return u(n(e),t,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(t,e,n){for(var r=this(t,e),i=0;i<n.length;i++)r=this(r,n[i]);return r}},i.signatures))}));function Tr(t){var e;if(et(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:Pn(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Tr(1-t));if(t>=171.35)return 1/0;if(t>85){var n=t*t,r=n*t,i=r*t,o=i*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*n)-139/(51840*r)-571/(2488320*i)+163879/(209018880*o)+5246819/(75246796800*o*t))}--t,e=Ar[0];for(var a=1;a<Ar.length;++a)e+=Ar[a]/(t+a);var s=t+Sr+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,t+.5)*Math.exp(-s)*e}Tr.signature="number";var Sr=4.7421875,Ar=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],Or=Bt("max",["typed","config","numeric","larger"],(function(t){var e=t.typed,n=t.config,r=t.numeric,i=t.larger;return e("max",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(t,e){return Oe(t,e.valueOf(),o)},"...":function(t){if(Te(t))throw new TypeError("Scalar values expected in function max");return a(t)}});function o(t,e){try{return i(t,e)?t:e}catch(n){throw ur(n,"max",e)}}function a(t){var e;if(Se(t,(function(t){try{isNaN(t)&&"number"===typeof t?e=NaN:(void 0===e||i(t,e))&&(e=t)}catch(n){throw ur(n,"max",t)}})),void 0===e)throw new Error("Cannot calculate max of an empty array");return"string"===typeof e&&(e=r(e,n.number)),e}}));var Pr=zt({config:Q}),Mr=Ht({}),Cr=Jt({}),Rr=te({}),Ir=ie({Matrix:Rr}),Nr=_e({BigNumber:Pr,Complex:Mr,DenseMatrix:Ir,Fraction:Cr}),kr=yn({typed:Nr}),Dr=_n({BigNumber:Pr,typed:Nr}),Lr=Rn({typed:Nr}),Fr=kn({config:Q,typed:Nr}),Ur=Bn({typed:Nr}),jr=Yn({typed:Nr}),Br=Kn({Matrix:Rr,equalScalar:Fr,typed:Nr}),Gr=Zn({Fraction:Cr,typed:Nr}),zr=Qn({DenseMatrix:Ir,Matrix:Rr,SparseMatrix:Br,typed:Nr}),Vr=sr({bignumber:Dr,fraction:Gr,number:jr}),Xr=cr({matrix:zr,config:Q,typed:Nr}),Hr=pr({DenseMatrix:Ir,config:Q,matrix:zr,typed:Nr}),Yr=dr({matrix:zr,typed:Nr}),Wr=mr({config:Q,numeric:Vr,smaller:Hr,typed:Nr}),qr=_r({addScalar:kr,conj:Lr,multiplyScalar:Ur,size:Xr,typed:Nr}),Kr=xr({DenseMatrix:Ir,config:Q,matrix:zr,typed:Nr}),Zr=Er({addScalar:kr,dot:qr,equalScalar:Fr,matrix:zr,multiplyScalar:Ur,typed:Nr}),$r=Or({config:Q,larger:Kr,numeric:Vr,typed:Nr})}]]);
//# sourceMappingURL=2.4ba8a9ec.chunk.js.map